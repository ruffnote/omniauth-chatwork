Started GET "/" for 127.0.0.1 at 2017-10-18 22:59:37 +0900
Processing by Rails::WelcomeController#index as HTML
  Rendering /Users/taiyop/.anyenv/envs/rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/railties-5.1.4/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /Users/taiyop/.anyenv/envs/rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/railties-5.1.4/lib/rails/templates/rails/welcome/index.html.erb (4.2ms)
Completed 200 OK in 243ms (Views: 11.1ms)


Started GET "/" for 127.0.0.1 at 2017-10-18 23:00:35 +0900
Processing by Rails::WelcomeController#index as HTML
  Rendering /Users/taiyop/.anyenv/envs/rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/railties-5.1.4/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /Users/taiyop/.anyenv/envs/rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/railties-5.1.4/lib/rails/templates/rails/welcome/index.html.erb (5.4ms)
Completed 200 OK in 217ms (Views: 12.7ms)


Started GET "/" for 127.0.0.1 at 2017-10-18 23:09:36 +0900
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.6ms)
Completed 200 OK in 1039ms (Views: 826.6ms)


Started GET "/auth/chatwork" for 127.0.0.1 at 2017-10-18 23:09:45 +0900
(chatwork) Request phase initiated.
Started GET "/auth/chatwork" for 127.0.0.1 at 2017-10-18 23:09:45 +0900
(chatwork) Request phase initiated.
Started GET "/" for 127.0.0.1 at 2017-10-18 23:12:23 +0900
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.7ms)
Completed 200 OK in 431ms (Views: 209.7ms)


Started GET "/" for 127.0.0.1 at 2017-10-18 23:12:25 +0900
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (2.3ms)
Completed 200 OK in 36ms (Views: 33.5ms)


Started GET "/auth/chatwork" for 127.0.0.1 at 2017-10-18 23:12:26 +0900
(chatwork) Request phase initiated.
Started GET "/auth/chatwork" for 127.0.0.1 at 2017-10-18 23:12:27 +0900
(chatwork) Request phase initiated.
Started GET "/" for 127.0.0.1 at 2017-10-18 23:42:45 +0900
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (3.2ms)
Completed 200 OK in 51ms (Views: 42.9ms)


Started GET "/" for 127.0.0.1 at 2017-10-18 23:50:02 +0900
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.9ms)
Completed 200 OK in 429ms (Views: 213.2ms)


Started GET "/auth/chatwork" for 127.0.0.1 at 2017-10-18 23:50:04 +0900
(chatwork) Request phase initiated.
Started GET "/auth/chatwork" for 127.0.0.1 at 2017-10-18 23:50:04 +0900
(chatwork) Request phase initiated.
Started GET "/" for 127.0.0.1 at 2017-10-18 23:51:53 +0900
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.7ms)
Completed 200 OK in 425ms (Views: 195.0ms)


Started GET "/" for 127.0.0.1 at 2017-10-18 23:51:55 +0900
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.7ms)
Completed 200 OK in 22ms (Views: 19.6ms)


Started GET "/auth/chatwork" for 127.0.0.1 at 2017-10-18 23:51:56 +0900
(chatwork) Request phase initiated.
Started GET "/auth/chatwork" for 127.0.0.1 at 2017-10-18 23:51:56 +0900
(chatwork) Request phase initiated.
Started GET "/auth/chatwork" for 127.0.0.1 at 2017-10-18 23:57:56 +0900
(chatwork) Request phase initiated.
Started GET "/auth/chatwork" for 127.0.0.1 at 2017-10-18 23:57:56 +0900
(chatwork) Request phase initiated.
Started GET "/auth/chatwork/callback?code=7a95bc14f1c154e359e45c14e58e2207b403ee03747c44d29ea3a10f8e76c483cc7a9605be89e18cd0b52f398b883a570571f0758d8250493015b7d356ab85ba&state=21b5d8231e4162d798d76277abc322999eb661cbecc8811f" for 127.0.0.1 at 2017-10-18 23:58:21 +0900
(chatwork) Callback phase initiated.
(chatwork) Authentication failure! invalid_credentials: OAuth2::Error, invalid_grant: 
{"error":"invalid_grant","error_description":null,"error_uri":null}
  
OAuth2::Error (invalid_grant: 
{"error":"invalid_grant","error_description":null,"error_uri":null}):
  
oauth2 (1.4.0) lib/oauth2/client.rb:119:in `request'
oauth2 (1.4.0) lib/oauth2/client.rb:146:in `get_token'
oauth2 (1.4.0) lib/oauth2/strategy/auth_code.rb:30:in `get_token'
omniauth-oauth2 (1.4.0) lib/omniauth/strategies/oauth2.rb:89:in `build_access_token'
omniauth-oauth2 (1.4.0) lib/omniauth/strategies/oauth2.rb:73:in `callback_phase'
omniauth (1.7.1) lib/omniauth/strategy.rb:236:in `callback_call'
omniauth (1.7.1) lib/omniauth/strategy.rb:188:in `call!'
omniauth (1.7.1) lib/omniauth/strategy.rb:168:in `call'
omniauth (1.7.1) lib/omniauth/builder.rb:63:in `call'
rack (2.0.3) lib/rack/etag.rb:25:in `call'
rack (2.0.3) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.3) lib/rack/head.rb:12:in `call'
rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.1.4) lib/active_record/migration.rb:556:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
activesupport (5.1.4) lib/active_support/callbacks.rb:97:in `run_callbacks'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.4) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.4) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.4) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2017-10-19 00:06:34 +0900
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.5ms)
Completed 200 OK in 423ms (Views: 195.6ms)


Started GET "/auth/chatwork" for 127.0.0.1 at 2017-10-19 00:06:35 +0900
(chatwork) Request phase initiated.
Started GET "/auth/chatwork" for 127.0.0.1 at 2017-10-19 00:06:36 +0900
(chatwork) Request phase initiated.
Started GET "/auth/chatwork/callback?code=b6b5681042c6787a5ba7a95036aec696300475f06e25bb6ad123dd1d6c69a2943d71bc687e6949f72a9bd63d2b226b50d2f670d8d4b94e8792ce89153f62b9c7&state=640bb2d2828bb2caa1a2134c7e2c13d5608bdf31a866d0dd" for 127.0.0.1 at 2017-10-19 00:06:42 +0900
(chatwork) Callback phase initiated.
(chatwork) Authentication failure! invalid_credentials: OAuth2::Error, invalid_grant: 
{"error":"invalid_grant","error_description":null,"error_uri":null}
  
OAuth2::Error (invalid_grant: 
{"error":"invalid_grant","error_description":null,"error_uri":null}):
  
oauth2 (1.4.0) lib/oauth2/client.rb:119:in `request'
oauth2 (1.4.0) lib/oauth2/client.rb:146:in `get_token'
oauth2 (1.4.0) lib/oauth2/strategy/auth_code.rb:30:in `get_token'
omniauth-oauth2 (1.4.0) lib/omniauth/strategies/oauth2.rb:89:in `build_access_token'
omniauth-oauth2 (1.4.0) lib/omniauth/strategies/oauth2.rb:73:in `callback_phase'
omniauth (1.7.1) lib/omniauth/strategy.rb:236:in `callback_call'
omniauth (1.7.1) lib/omniauth/strategy.rb:188:in `call!'
omniauth (1.7.1) lib/omniauth/strategy.rb:168:in `call'
omniauth (1.7.1) lib/omniauth/builder.rb:63:in `call'
rack (2.0.3) lib/rack/etag.rb:25:in `call'
rack (2.0.3) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.3) lib/rack/head.rb:12:in `call'
rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.1.4) lib/active_record/migration.rb:556:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
activesupport (5.1.4) lib/active_support/callbacks.rb:97:in `run_callbacks'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.4) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.4) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.4) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2017-10-19 00:18:22 +0900
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.6ms)
Completed 200 OK in 401ms (Views: 192.9ms)


Started GET "/" for 127.0.0.1 at 2017-10-19 00:18:24 +0900
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.6ms)
Completed 200 OK in 30ms (Views: 27.2ms)


Started GET "/auth/chatwork" for 127.0.0.1 at 2017-10-19 00:18:26 +0900
(chatwork) Request phase initiated.
Started GET "/auth/chatwork" for 127.0.0.1 at 2017-10-19 00:18:26 +0900
(chatwork) Request phase initiated.
Started GET "/auth/chatwork/callback?code=b8ea3a445404d2400fc134f3b3c8f6a31bfe621a4c17d3304fb0bb03123d982ad5562fe23c374a801cf7037c856c65a77cf208ee7eb807f7de8eee25c391730d&state=59acb5fe9bdd944112509616ebbe6fbd02e657750c2ead30" for 127.0.0.1 at 2017-10-19 00:18:36 +0900
(chatwork) Callback phase initiated.
(chatwork) Authentication failure! invalid_credentials: OAuth2::Error, invalid_grant: 
{"error":"invalid_grant","error_description":null,"error_uri":null}
  
OAuth2::Error (invalid_grant: 
{"error":"invalid_grant","error_description":null,"error_uri":null}):
  
oauth2 (1.4.0) lib/oauth2/client.rb:119:in `request'
oauth2 (1.4.0) lib/oauth2/client.rb:146:in `get_token'
oauth2 (1.4.0) lib/oauth2/strategy/auth_code.rb:30:in `get_token'
omniauth-oauth2 (1.4.0) lib/omniauth/strategies/oauth2.rb:89:in `build_access_token'
omniauth-oauth2 (1.4.0) lib/omniauth/strategies/oauth2.rb:73:in `callback_phase'
omniauth (1.7.1) lib/omniauth/strategy.rb:236:in `callback_call'
omniauth (1.7.1) lib/omniauth/strategy.rb:188:in `call!'
omniauth (1.7.1) lib/omniauth/strategy.rb:168:in `call'
omniauth (1.7.1) lib/omniauth/builder.rb:63:in `call'
rack (2.0.3) lib/rack/etag.rb:25:in `call'
rack (2.0.3) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.3) lib/rack/head.rb:12:in `call'
rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.1.4) lib/active_record/migration.rb:556:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
activesupport (5.1.4) lib/active_support/callbacks.rb:97:in `run_callbacks'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.4) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.4) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.4) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started POST "/__web_console/repl_sessions/7b1e3118d014f274e50b1438d50ae901/trace" for 127.0.0.1 at 2017-10-19 00:29:09 +0900
Started POST "/__web_console/repl_sessions/7b1e3118d014f274e50b1438d50ae901/trace" for 127.0.0.1 at 2017-10-19 00:29:11 +0900
Started POST "/__web_console/repl_sessions/7b1e3118d014f274e50b1438d50ae901/trace" for 127.0.0.1 at 2017-10-19 00:29:13 +0900
Started POST "/__web_console/repl_sessions/7b1e3118d014f274e50b1438d50ae901/trace" for 127.0.0.1 at 2017-10-19 00:29:16 +0900
Started POST "/__web_console/repl_sessions/7b1e3118d014f274e50b1438d50ae901/trace" for 127.0.0.1 at 2017-10-19 00:29:23 +0900
Started POST "/__web_console/repl_sessions/7b1e3118d014f274e50b1438d50ae901/trace" for 127.0.0.1 at 2017-10-19 00:29:30 +0900
Started PUT "/__web_console/repl_sessions/7b1e3118d014f274e50b1438d50ae901" for 127.0.0.1 at 2017-10-19 00:29:35 +0900
Started PUT "/__web_console/repl_sessions/7b1e3118d014f274e50b1438d50ae901" for 127.0.0.1 at 2017-10-19 00:29:38 +0900
Started PUT "/__web_console/repl_sessions/7b1e3118d014f274e50b1438d50ae901" for 127.0.0.1 at 2017-10-19 00:29:44 +0900
Started PUT "/__web_console/repl_sessions/7b1e3118d014f274e50b1438d50ae901" for 127.0.0.1 at 2017-10-19 00:29:45 +0900
Started POST "/__web_console/repl_sessions/7b1e3118d014f274e50b1438d50ae901/trace" for 127.0.0.1 at 2017-10-19 00:30:04 +0900
Started POST "/__web_console/repl_sessions/7b1e3118d014f274e50b1438d50ae901/trace" for 127.0.0.1 at 2017-10-19 00:30:07 +0900
Started POST "/__web_console/repl_sessions/7b1e3118d014f274e50b1438d50ae901/trace" for 127.0.0.1 at 2017-10-19 00:30:08 +0900
Started POST "/__web_console/repl_sessions/7b1e3118d014f274e50b1438d50ae901/trace" for 127.0.0.1 at 2017-10-19 00:30:11 +0900
Started POST "/__web_console/repl_sessions/7b1e3118d014f274e50b1438d50ae901/trace" for 127.0.0.1 at 2017-10-19 00:30:14 +0900
Started POST "/__web_console/repl_sessions/7b1e3118d014f274e50b1438d50ae901/trace" for 127.0.0.1 at 2017-10-19 00:30:17 +0900
Started PUT "/__web_console/repl_sessions/7b1e3118d014f274e50b1438d50ae901" for 127.0.0.1 at 2017-10-19 00:33:13 +0900
Started POST "/__web_console/repl_sessions/7b1e3118d014f274e50b1438d50ae901/trace" for 127.0.0.1 at 2017-10-19 00:33:24 +0900
Started GET "/auth/chatwork/callback?code=b8ea3a445404d2400fc134f3b3c8f6a31bfe621a4c17d3304fb0bb03123d982ad5562fe23c374a801cf7037c856c65a77cf208ee7eb807f7de8eee25c391730d&state=59acb5fe9bdd944112509616ebbe6fbd02e657750c2ead30" for 127.0.0.1 at 2017-10-19 00:33:41 +0900
(chatwork) Callback phase initiated.
(chatwork) Authentication failure! invalid_credentials: OAuth2::Error, invalid_grant: 
{"error":"invalid_grant","error_description":null,"error_uri":null}
  
OAuth2::Error (invalid_grant: 
{"error":"invalid_grant","error_description":null,"error_uri":null}):
  
oauth2 (1.4.0) lib/oauth2/client.rb:119:in `request'
oauth2 (1.4.0) lib/oauth2/client.rb:146:in `get_token'
oauth2 (1.4.0) lib/oauth2/strategy/auth_code.rb:30:in `get_token'
omniauth-oauth2 (1.4.0) lib/omniauth/strategies/oauth2.rb:89:in `build_access_token'
omniauth-oauth2 (1.4.0) lib/omniauth/strategies/oauth2.rb:73:in `callback_phase'
omniauth (1.7.1) lib/omniauth/strategy.rb:236:in `callback_call'
omniauth (1.7.1) lib/omniauth/strategy.rb:188:in `call!'
omniauth (1.7.1) lib/omniauth/strategy.rb:168:in `call'
omniauth (1.7.1) lib/omniauth/builder.rb:63:in `call'
rack (2.0.3) lib/rack/etag.rb:25:in `call'
rack (2.0.3) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.3) lib/rack/head.rb:12:in `call'
rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.1.4) lib/active_record/migration.rb:556:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
activesupport (5.1.4) lib/active_support/callbacks.rb:97:in `run_callbacks'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.4) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.4) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.4) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/auth/chatwork/callback?code=b8ea3a445404d2400fc134f3b3c8f6a31bfe621a4c17d3304fb0bb03123d982ad5562fe23c374a801cf7037c856c65a77cf208ee7eb807f7de8eee25c391730d&state=59acb5fe9bdd944112509616ebbe6fbd02e657750c2ead30" for 127.0.0.1 at 2017-10-19 00:33:44 +0900
(chatwork) Callback phase initiated.
(chatwork) Authentication failure! invalid_credentials: OAuth2::Error, invalid_grant: 
{"error":"invalid_grant","error_description":null,"error_uri":null}
  
OAuth2::Error (invalid_grant: 
{"error":"invalid_grant","error_description":null,"error_uri":null}):
  
oauth2 (1.4.0) lib/oauth2/client.rb:119:in `request'
oauth2 (1.4.0) lib/oauth2/client.rb:146:in `get_token'
oauth2 (1.4.0) lib/oauth2/strategy/auth_code.rb:30:in `get_token'
omniauth-oauth2 (1.4.0) lib/omniauth/strategies/oauth2.rb:89:in `build_access_token'
omniauth-oauth2 (1.4.0) lib/omniauth/strategies/oauth2.rb:73:in `callback_phase'
omniauth (1.7.1) lib/omniauth/strategy.rb:236:in `callback_call'
omniauth (1.7.1) lib/omniauth/strategy.rb:188:in `call!'
omniauth (1.7.1) lib/omniauth/strategy.rb:168:in `call'
omniauth (1.7.1) lib/omniauth/builder.rb:63:in `call'
rack (2.0.3) lib/rack/etag.rb:25:in `call'
rack (2.0.3) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.3) lib/rack/head.rb:12:in `call'
rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.1.4) lib/active_record/migration.rb:556:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
activesupport (5.1.4) lib/active_support/callbacks.rb:97:in `run_callbacks'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.4) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.4) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.4) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started POST "/__web_console/repl_sessions/df56b17536df89531f57e0d46974dc6d/trace" for 127.0.0.1 at 2017-10-19 00:36:05 +0900
Started GET "/auth/chatwork/callback?code=b8ea3a445404d2400fc134f3b3c8f6a31bfe621a4c17d3304fb0bb03123d982ad5562fe23c374a801cf7037c856c65a77cf208ee7eb807f7de8eee25c391730d&state=59acb5fe9bdd944112509616ebbe6fbd02e657750c2ead30" for 127.0.0.1 at 2017-10-19 15:56:47 +0900
(chatwork) Callback phase initiated.
  
Faraday::ConnectionFailed (Failed to open TCP connection to oauth.chatwork.com:443 (Connection refused - connect(2) for "oauth.chatwork.com" port 443)):
  
/Users/taiyop/.anyenv/envs/rbenv/versions/2.4.1/lib/ruby/2.4.0/net/http.rb:906:in `rescue in block in connect'
/Users/taiyop/.anyenv/envs/rbenv/versions/2.4.1/lib/ruby/2.4.0/net/http.rb:903:in `block in connect'
/Users/taiyop/.anyenv/envs/rbenv/versions/2.4.1/lib/ruby/2.4.0/timeout.rb:93:in `block in timeout'
/Users/taiyop/.anyenv/envs/rbenv/versions/2.4.1/lib/ruby/2.4.0/timeout.rb:103:in `timeout'
/Users/taiyop/.anyenv/envs/rbenv/versions/2.4.1/lib/ruby/2.4.0/net/http.rb:902:in `connect'
/Users/taiyop/.anyenv/envs/rbenv/versions/2.4.1/lib/ruby/2.4.0/net/http.rb:887:in `do_start'
/Users/taiyop/.anyenv/envs/rbenv/versions/2.4.1/lib/ruby/2.4.0/net/http.rb:876:in `start'
/Users/taiyop/.anyenv/envs/rbenv/versions/2.4.1/lib/ruby/2.4.0/net/http.rb:1407:in `request'
faraday (0.12.2) lib/faraday/adapter/net_http.rb:80:in `perform_request'
faraday (0.12.2) lib/faraday/adapter/net_http.rb:38:in `block in call'
faraday (0.12.2) lib/faraday/adapter/net_http.rb:85:in `with_net_http_connection'
faraday (0.12.2) lib/faraday/adapter/net_http.rb:33:in `call'
faraday (0.12.2) lib/faraday/request/url_encoded.rb:15:in `call'
faraday (0.12.2) lib/faraday/rack_builder.rb:141:in `build_response'
faraday (0.12.2) lib/faraday/connection.rb:386:in `run_request'
oauth2 (1.4.0) lib/oauth2/client.rb:99:in `request'
oauth2 (1.4.0) lib/oauth2/client.rb:146:in `get_token'
oauth2 (1.4.0) lib/oauth2/strategy/auth_code.rb:30:in `get_token'
omniauth-oauth2 (1.4.0) lib/omniauth/strategies/oauth2.rb:89:in `build_access_token'
omniauth-oauth2 (1.4.0) lib/omniauth/strategies/oauth2.rb:73:in `callback_phase'
omniauth (1.7.1) lib/omniauth/strategy.rb:236:in `callback_call'
omniauth (1.7.1) lib/omniauth/strategy.rb:188:in `call!'
omniauth (1.7.1) lib/omniauth/strategy.rb:168:in `call'
omniauth (1.7.1) lib/omniauth/builder.rb:63:in `call'
rack (2.0.3) lib/rack/etag.rb:25:in `call'
rack (2.0.3) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.3) lib/rack/head.rb:12:in `call'
rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.1.4) lib/active_record/migration.rb:556:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
activesupport (5.1.4) lib/active_support/callbacks.rb:97:in `run_callbacks'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.4) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.4) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.4) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/auth/chatwork/callback?code=b8ea3a445404d2400fc134f3b3c8f6a31bfe621a4c17d3304fb0bb03123d982ad5562fe23c374a801cf7037c856c65a77cf208ee7eb807f7de8eee25c391730d&state=59acb5fe9bdd944112509616ebbe6fbd02e657750c2ead30" for 127.0.0.1 at 2017-10-19 16:22:56 +0900
(chatwork) Callback phase initiated.
(chatwork) Authentication failure! invalid_credentials: OAuth2::Error, invalid_grant: 
{"error":"invalid_grant","error_description":null,"error_uri":null}
  
OAuth2::Error (invalid_grant: 
{"error":"invalid_grant","error_description":null,"error_uri":null}):
  
oauth2 (1.4.0) lib/oauth2/client.rb:119:in `request'
oauth2 (1.4.0) lib/oauth2/client.rb:146:in `get_token'
oauth2 (1.4.0) lib/oauth2/strategy/auth_code.rb:30:in `get_token'
omniauth-oauth2 (1.4.0) lib/omniauth/strategies/oauth2.rb:89:in `build_access_token'
omniauth-oauth2 (1.4.0) lib/omniauth/strategies/oauth2.rb:73:in `callback_phase'
omniauth (1.7.1) lib/omniauth/strategy.rb:236:in `callback_call'
omniauth (1.7.1) lib/omniauth/strategy.rb:188:in `call!'
omniauth (1.7.1) lib/omniauth/strategy.rb:168:in `call'
omniauth (1.7.1) lib/omniauth/builder.rb:63:in `call'
rack (2.0.3) lib/rack/etag.rb:25:in `call'
rack (2.0.3) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.3) lib/rack/head.rb:12:in `call'
rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.1.4) lib/active_record/migration.rb:556:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
activesupport (5.1.4) lib/active_support/callbacks.rb:97:in `run_callbacks'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.4) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.4) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.4) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2017-10-19 16:23:02 +0900
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (3.3ms)
Completed 200 OK in 92ms (Views: 80.6ms)


Started GET "/" for 127.0.0.1 at 2017-10-19 16:23:04 +0900
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.5ms)
Completed 200 OK in 42ms (Views: 40.0ms)


Started GET "/" for 127.0.0.1 at 2017-10-19 16:30:06 +0900
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.9ms)
Completed 200 OK in 376ms (Views: 220.4ms)


Started GET "/auth/chatwork" for 127.0.0.1 at 2017-10-19 16:30:10 +0900
(chatwork) Request phase initiated.
Started GET "/auth/chatwork" for 127.0.0.1 at 2017-10-19 16:30:10 +0900
(chatwork) Request phase initiated.
Started GET "/" for 127.0.0.1 at 2017-10-19 16:30:19 +0900
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.6ms)
Completed 200 OK in 18ms (Views: 16.2ms)


Started GET "/auth/chatwork" for 127.0.0.1 at 2017-10-19 16:30:44 +0900
(chatwork) Request phase initiated.
Started GET "/auth/chatwork" for 127.0.0.1 at 2017-10-19 16:30:45 +0900
(chatwork) Request phase initiated.
Started GET "/" for 127.0.0.1 at 2017-10-19 16:31:52 +0900
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (2.2ms)
Completed 200 OK in 414ms (Views: 201.1ms)


Started GET "/" for 127.0.0.1 at 2017-10-19 16:31:54 +0900
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.4ms)
Completed 200 OK in 18ms (Views: 16.3ms)


Started GET "/auth/chatwork" for 127.0.0.1 at 2017-10-19 16:31:55 +0900
(chatwork) Request phase initiated.
Started GET "/auth/chatwork" for 127.0.0.1 at 2017-10-19 16:31:56 +0900
(chatwork) Request phase initiated.
Started GET "/auth/chatwork/callback?code=ccb0a4cf8e8d02c1c556f4b4cb219ef9f0657851b4172dac16efe53cb69565f814be63be9a31f11937386604ba1cd3b4fbac66e5713ac9c0cb1d5faa8c2a6fa7&state=f4c580fd3ca994e3622c749f3d8b577fc8ee24928a59682e" for 127.0.0.1 at 2017-10-19 16:31:58 +0900
(chatwork) Callback phase initiated.
(chatwork) Authentication failure! invalid_credentials: OAuth2::Error, : 
{"errors":["Invalid API Token"]}
  
OAuth2::Error (: 
{"errors":["Invalid API Token"]}):
  
oauth2 (1.4.0) lib/oauth2/client.rb:119:in `request'
oauth2 (1.4.0) lib/oauth2/access_token.rb:107:in `request'
oauth2 (1.4.0) lib/oauth2/access_token.rb:114:in `get'
/Users/taiyop/codes/ruffnote/omniauth-chatwork/lib/omniauth/strategies/chatwork.rb:30:in `raw_info'
/Users/taiyop/codes/ruffnote/omniauth-chatwork/lib/omniauth/strategies/chatwork.rb:14:in `block in <class:ChatWork>'
omniauth (1.7.1) lib/omniauth/strategy.rb:109:in `instance_eval'
omniauth (1.7.1) lib/omniauth/strategy.rb:109:in `block in compile_stack'
omniauth (1.7.1) lib/omniauth/strategy.rb:108:in `each'
omniauth (1.7.1) lib/omniauth/strategy.rb:108:in `inject'
omniauth (1.7.1) lib/omniauth/strategy.rb:108:in `compile_stack'
omniauth (1.7.1) lib/omniauth/strategy.rb:102:in `uid_stack'
omniauth (1.7.1) lib/omniauth/strategy.rb:329:in `uid'
omniauth (1.7.1) lib/omniauth/strategy.rb:345:in `auth_hash'
omniauth (1.7.1) lib/omniauth/strategy.rb:368:in `callback_phase'
omniauth-oauth2 (1.4.0) lib/omniauth/strategies/oauth2.rb:75:in `callback_phase'
omniauth (1.7.1) lib/omniauth/strategy.rb:236:in `callback_call'
omniauth (1.7.1) lib/omniauth/strategy.rb:188:in `call!'
omniauth (1.7.1) lib/omniauth/strategy.rb:168:in `call'
omniauth (1.7.1) lib/omniauth/builder.rb:63:in `call'
rack (2.0.3) lib/rack/etag.rb:25:in `call'
rack (2.0.3) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.3) lib/rack/head.rb:12:in `call'
rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.1.4) lib/active_record/migration.rb:556:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
activesupport (5.1.4) lib/active_support/callbacks.rb:97:in `run_callbacks'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.4) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.4) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.4) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started POST "/__web_console/repl_sessions/ee98a8077f4a40f4d708659ec4bdd787/trace" for 127.0.0.1 at 2017-10-19 16:32:24 +0900
Started PUT "/__web_console/repl_sessions/ee98a8077f4a40f4d708659ec4bdd787" for 127.0.0.1 at 2017-10-19 16:32:28 +0900
Started PUT "/__web_console/repl_sessions/ee98a8077f4a40f4d708659ec4bdd787" for 127.0.0.1 at 2017-10-19 16:32:31 +0900
Started PUT "/__web_console/repl_sessions/ee98a8077f4a40f4d708659ec4bdd787" for 127.0.0.1 at 2017-10-19 16:32:34 +0900
Started PUT "/__web_console/repl_sessions/ee98a8077f4a40f4d708659ec4bdd787" for 127.0.0.1 at 2017-10-19 16:32:37 +0900
Started PUT "/__web_console/repl_sessions/ee98a8077f4a40f4d708659ec4bdd787" for 127.0.0.1 at 2017-10-19 16:32:42 +0900
Started PUT "/__web_console/repl_sessions/ee98a8077f4a40f4d708659ec4bdd787" for 127.0.0.1 at 2017-10-19 16:32:45 +0900
Started PUT "/__web_console/repl_sessions/ee98a8077f4a40f4d708659ec4bdd787" for 127.0.0.1 at 2017-10-19 16:35:43 +0900
Started PUT "/__web_console/repl_sessions/ee98a8077f4a40f4d708659ec4bdd787" for 127.0.0.1 at 2017-10-19 16:35:49 +0900
Started PUT "/__web_console/repl_sessions/ee98a8077f4a40f4d708659ec4bdd787" for 127.0.0.1 at 2017-10-19 16:35:49 +0900
Started PUT "/__web_console/repl_sessions/ee98a8077f4a40f4d708659ec4bdd787" for 127.0.0.1 at 2017-10-19 16:35:49 +0900
Started PUT "/__web_console/repl_sessions/ee98a8077f4a40f4d708659ec4bdd787" for 127.0.0.1 at 2017-10-19 16:35:50 +0900
Started GET "/auth/chatwork/callback?code=ccb0a4cf8e8d02c1c556f4b4cb219ef9f0657851b4172dac16efe53cb69565f814be63be9a31f11937386604ba1cd3b4fbac66e5713ac9c0cb1d5faa8c2a6fa7&state=f4c580fd3ca994e3622c749f3d8b577fc8ee24928a59682e" for 127.0.0.1 at 2017-10-19 16:41:18 +0900
(chatwork) Callback phase initiated.
(chatwork) Authentication failure! invalid_credentials: OAuth2::Error, invalid_grant: 
{"error":"invalid_grant","error_description":null,"error_uri":null}
  
OAuth2::Error (invalid_grant: 
{"error":"invalid_grant","error_description":null,"error_uri":null}):
  
oauth2 (1.4.0) lib/oauth2/client.rb:119:in `request'
oauth2 (1.4.0) lib/oauth2/client.rb:146:in `get_token'
oauth2 (1.4.0) lib/oauth2/strategy/auth_code.rb:30:in `get_token'
omniauth-oauth2 (1.4.0) lib/omniauth/strategies/oauth2.rb:89:in `build_access_token'
omniauth-oauth2 (1.4.0) lib/omniauth/strategies/oauth2.rb:73:in `callback_phase'
omniauth (1.7.1) lib/omniauth/strategy.rb:236:in `callback_call'
omniauth (1.7.1) lib/omniauth/strategy.rb:188:in `call!'
omniauth (1.7.1) lib/omniauth/strategy.rb:168:in `call'
omniauth (1.7.1) lib/omniauth/builder.rb:63:in `call'
rack (2.0.3) lib/rack/etag.rb:25:in `call'
rack (2.0.3) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.3) lib/rack/head.rb:12:in `call'
rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.1.4) lib/active_record/migration.rb:556:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
activesupport (5.1.4) lib/active_support/callbacks.rb:97:in `run_callbacks'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.4) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.4) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.4) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/auth/chatwork/callback?code=ccb0a4cf8e8d02c1c556f4b4cb219ef9f0657851b4172dac16efe53cb69565f814be63be9a31f11937386604ba1cd3b4fbac66e5713ac9c0cb1d5faa8c2a6fa7&state=f4c580fd3ca994e3622c749f3d8b577fc8ee24928a59682e" for 127.0.0.1 at 2017-10-19 16:41:24 +0900
(chatwork) Callback phase initiated.
(chatwork) Authentication failure! invalid_credentials: OAuth2::Error, invalid_grant: 
{"error":"invalid_grant","error_description":null,"error_uri":null}
  
OAuth2::Error (invalid_grant: 
{"error":"invalid_grant","error_description":null,"error_uri":null}):
  
oauth2 (1.4.0) lib/oauth2/client.rb:119:in `request'
oauth2 (1.4.0) lib/oauth2/client.rb:146:in `get_token'
oauth2 (1.4.0) lib/oauth2/strategy/auth_code.rb:30:in `get_token'
omniauth-oauth2 (1.4.0) lib/omniauth/strategies/oauth2.rb:89:in `build_access_token'
omniauth-oauth2 (1.4.0) lib/omniauth/strategies/oauth2.rb:73:in `callback_phase'
omniauth (1.7.1) lib/omniauth/strategy.rb:236:in `callback_call'
omniauth (1.7.1) lib/omniauth/strategy.rb:188:in `call!'
omniauth (1.7.1) lib/omniauth/strategy.rb:168:in `call'
omniauth (1.7.1) lib/omniauth/builder.rb:63:in `call'
rack (2.0.3) lib/rack/etag.rb:25:in `call'
rack (2.0.3) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.3) lib/rack/head.rb:12:in `call'
rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.1.4) lib/active_record/migration.rb:556:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
activesupport (5.1.4) lib/active_support/callbacks.rb:97:in `run_callbacks'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.4) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.4) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.4) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2017-10-19 16:41:29 +0900
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.5ms)
Completed 200 OK in 25ms (Views: 23.1ms)


Started GET "/auth/chatwork" for 127.0.0.1 at 2017-10-19 16:41:30 +0900
(chatwork) Request phase initiated.
Started GET "/auth/chatwork" for 127.0.0.1 at 2017-10-19 16:41:30 +0900
(chatwork) Request phase initiated.
Started GET "/auth/chatwork/callback?code=08b4d082ac32539985291537af71364749e2f15db7909d12f757a6b8659908c65908f034a523a51d00194f7c327eeb131a7d8fd505b2ab3942746561f81a48c6&state=7a837dba193c09a856ff344d58596b3486caad350909c1a7" for 127.0.0.1 at 2017-10-19 16:41:32 +0900
(chatwork) Callback phase initiated.
(chatwork) Authentication failure! invalid_credentials: OAuth2::Error, : 
{"errors":["Invalid API Token"]}
  
OAuth2::Error (: 
{"errors":["Invalid API Token"]}):
  
oauth2 (1.4.0) lib/oauth2/client.rb:119:in `request'
oauth2 (1.4.0) lib/oauth2/access_token.rb:107:in `request'
oauth2 (1.4.0) lib/oauth2/access_token.rb:114:in `get'
/Users/taiyop/codes/ruffnote/omniauth-chatwork/lib/omniauth/strategies/chatwork.rb:30:in `raw_info'
/Users/taiyop/codes/ruffnote/omniauth-chatwork/lib/omniauth/strategies/chatwork.rb:14:in `block in <class:ChatWork>'
omniauth (1.7.1) lib/omniauth/strategy.rb:109:in `instance_eval'
omniauth (1.7.1) lib/omniauth/strategy.rb:109:in `block in compile_stack'
omniauth (1.7.1) lib/omniauth/strategy.rb:108:in `each'
omniauth (1.7.1) lib/omniauth/strategy.rb:108:in `inject'
omniauth (1.7.1) lib/omniauth/strategy.rb:108:in `compile_stack'
omniauth (1.7.1) lib/omniauth/strategy.rb:102:in `uid_stack'
omniauth (1.7.1) lib/omniauth/strategy.rb:329:in `uid'
omniauth (1.7.1) lib/omniauth/strategy.rb:345:in `auth_hash'
omniauth (1.7.1) lib/omniauth/strategy.rb:368:in `callback_phase'
omniauth-oauth2 (1.4.0) lib/omniauth/strategies/oauth2.rb:75:in `callback_phase'
omniauth (1.7.1) lib/omniauth/strategy.rb:236:in `callback_call'
omniauth (1.7.1) lib/omniauth/strategy.rb:188:in `call!'
omniauth (1.7.1) lib/omniauth/strategy.rb:168:in `call'
omniauth (1.7.1) lib/omniauth/builder.rb:63:in `call'
rack (2.0.3) lib/rack/etag.rb:25:in `call'
rack (2.0.3) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.3) lib/rack/head.rb:12:in `call'
rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.1.4) lib/active_record/migration.rb:556:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
activesupport (5.1.4) lib/active_support/callbacks.rb:97:in `run_callbacks'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.4) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.4) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.4) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started POST "/__web_console/repl_sessions/7e03b8d9e3c0bf492e2e2e784bf0cd36/trace" for 127.0.0.1 at 2017-10-19 16:52:29 +0900
Started PUT "/__web_console/repl_sessions/7e03b8d9e3c0bf492e2e2e784bf0cd36" for 127.0.0.1 at 2017-10-19 16:52:31 +0900
Started PUT "/__web_console/repl_sessions/7e03b8d9e3c0bf492e2e2e784bf0cd36" for 127.0.0.1 at 2017-10-19 16:52:31 +0900
Started POST "/__web_console/repl_sessions/7e03b8d9e3c0bf492e2e2e784bf0cd36/trace" for 127.0.0.1 at 2017-10-19 16:52:33 +0900
Started PUT "/__web_console/repl_sessions/7e03b8d9e3c0bf492e2e2e784bf0cd36" for 127.0.0.1 at 2017-10-19 16:52:35 +0900
Started GET "/" for 127.0.0.1 at 2017-10-19 16:52:39 +0900
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.4ms)
Completed 200 OK in 23ms (Views: 21.4ms)


Started GET "/auth/chatwork" for 127.0.0.1 at 2017-10-19 16:52:41 +0900
(chatwork) Request phase initiated.
Started GET "/auth/chatwork" for 127.0.0.1 at 2017-10-19 16:52:41 +0900
(chatwork) Request phase initiated.
Started GET "/auth/chatwork/callback?code=bf58b8102b6ccc8e81e93597150d210784f70b93dc0c11eb92df3c32f8771c3c83da10aba72c9047d357cf5c8aa0865a64af2b0b33807e954274d5883a32dc49&state=25be3dd96f7294d98d09c8b4b790715038c8734a30fdf748" for 127.0.0.1 at 2017-10-19 16:52:43 +0900
(chatwork) Callback phase initiated.
(chatwork) Authentication failure! invalid_credentials: OAuth2::Error, : 
{"errors":["Invalid API Token"]}
  
OAuth2::Error (: 
{"errors":["Invalid API Token"]}):
  
oauth2 (1.4.0) lib/oauth2/client.rb:119:in `request'
oauth2 (1.4.0) lib/oauth2/access_token.rb:107:in `request'
oauth2 (1.4.0) lib/oauth2/access_token.rb:114:in `get'
/Users/taiyop/codes/ruffnote/omniauth-chatwork/lib/omniauth/strategies/chatwork.rb:30:in `raw_info'
/Users/taiyop/codes/ruffnote/omniauth-chatwork/lib/omniauth/strategies/chatwork.rb:14:in `block in <class:ChatWork>'
omniauth (1.7.1) lib/omniauth/strategy.rb:109:in `instance_eval'
omniauth (1.7.1) lib/omniauth/strategy.rb:109:in `block in compile_stack'
omniauth (1.7.1) lib/omniauth/strategy.rb:108:in `each'
omniauth (1.7.1) lib/omniauth/strategy.rb:108:in `inject'
omniauth (1.7.1) lib/omniauth/strategy.rb:108:in `compile_stack'
omniauth (1.7.1) lib/omniauth/strategy.rb:102:in `uid_stack'
omniauth (1.7.1) lib/omniauth/strategy.rb:329:in `uid'
omniauth (1.7.1) lib/omniauth/strategy.rb:345:in `auth_hash'
omniauth (1.7.1) lib/omniauth/strategy.rb:368:in `callback_phase'
omniauth-oauth2 (1.4.0) lib/omniauth/strategies/oauth2.rb:75:in `callback_phase'
omniauth (1.7.1) lib/omniauth/strategy.rb:236:in `callback_call'
omniauth (1.7.1) lib/omniauth/strategy.rb:188:in `call!'
omniauth (1.7.1) lib/omniauth/strategy.rb:168:in `call'
omniauth (1.7.1) lib/omniauth/builder.rb:63:in `call'
rack (2.0.3) lib/rack/etag.rb:25:in `call'
rack (2.0.3) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.3) lib/rack/head.rb:12:in `call'
rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.1.4) lib/active_record/migration.rb:556:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
activesupport (5.1.4) lib/active_support/callbacks.rb:97:in `run_callbacks'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.4) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.4) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.4) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started PUT "/__web_console/repl_sessions/06967587d71632042cea602423c2d864" for 127.0.0.1 at 2017-10-19 16:52:47 +0900
Started PUT "/__web_console/repl_sessions/06967587d71632042cea602423c2d864" for 127.0.0.1 at 2017-10-19 16:52:49 +0900
Started PUT "/__web_console/repl_sessions/06967587d71632042cea602423c2d864" for 127.0.0.1 at 2017-10-19 16:52:50 +0900
Started POST "/__web_console/repl_sessions/06967587d71632042cea602423c2d864/trace" for 127.0.0.1 at 2017-10-19 16:52:55 +0900
Started POST "/__web_console/repl_sessions/06967587d71632042cea602423c2d864/trace" for 127.0.0.1 at 2017-10-19 16:52:56 +0900
Started POST "/__web_console/repl_sessions/06967587d71632042cea602423c2d864/trace" for 127.0.0.1 at 2017-10-19 16:52:57 +0900
Started PUT "/__web_console/repl_sessions/06967587d71632042cea602423c2d864" for 127.0.0.1 at 2017-10-19 16:53:05 +0900
Started PUT "/__web_console/repl_sessions/06967587d71632042cea602423c2d864" for 127.0.0.1 at 2017-10-19 16:53:18 +0900
Started PUT "/__web_console/repl_sessions/06967587d71632042cea602423c2d864" for 127.0.0.1 at 2017-10-19 16:53:19 +0900
Started PUT "/__web_console/repl_sessions/06967587d71632042cea602423c2d864" for 127.0.0.1 at 2017-10-19 16:53:28 +0900
Started PUT "/__web_console/repl_sessions/06967587d71632042cea602423c2d864" for 127.0.0.1 at 2017-10-19 16:53:42 +0900
Started PUT "/__web_console/repl_sessions/06967587d71632042cea602423c2d864" for 127.0.0.1 at 2017-10-19 16:53:44 +0900
Started PUT "/__web_console/repl_sessions/06967587d71632042cea602423c2d864" for 127.0.0.1 at 2017-10-19 16:53:48 +0900
Started PUT "/__web_console/repl_sessions/06967587d71632042cea602423c2d864" for 127.0.0.1 at 2017-10-19 16:53:55 +0900
Started PUT "/__web_console/repl_sessions/06967587d71632042cea602423c2d864" for 127.0.0.1 at 2017-10-19 16:53:55 +0900
Started PUT "/__web_console/repl_sessions/06967587d71632042cea602423c2d864" for 127.0.0.1 at 2017-10-19 16:54:55 +0900
Started PUT "/__web_console/repl_sessions/06967587d71632042cea602423c2d864" for 127.0.0.1 at 2017-10-19 16:54:57 +0900
Started PUT "/__web_console/repl_sessions/06967587d71632042cea602423c2d864" for 127.0.0.1 at 2017-10-19 16:55:12 +0900
Started PUT "/__web_console/repl_sessions/06967587d71632042cea602423c2d864" for 127.0.0.1 at 2017-10-19 16:55:13 +0900
Started PUT "/__web_console/repl_sessions/06967587d71632042cea602423c2d864" for 127.0.0.1 at 2017-10-19 16:55:17 +0900
Started PUT "/__web_console/repl_sessions/06967587d71632042cea602423c2d864" for 127.0.0.1 at 2017-10-19 16:55:17 +0900
Started PUT "/__web_console/repl_sessions/06967587d71632042cea602423c2d864" for 127.0.0.1 at 2017-10-19 16:55:22 +0900
Started PUT "/__web_console/repl_sessions/06967587d71632042cea602423c2d864" for 127.0.0.1 at 2017-10-19 16:55:23 +0900
Started PUT "/__web_console/repl_sessions/06967587d71632042cea602423c2d864" for 127.0.0.1 at 2017-10-19 16:55:27 +0900
Started PUT "/__web_console/repl_sessions/06967587d71632042cea602423c2d864" for 127.0.0.1 at 2017-10-19 16:55:29 +0900
Started PUT "/__web_console/repl_sessions/06967587d71632042cea602423c2d864" for 127.0.0.1 at 2017-10-19 16:59:16 +0900
Started PUT "/__web_console/repl_sessions/06967587d71632042cea602423c2d864" for 127.0.0.1 at 2017-10-19 16:59:18 +0900
Started PUT "/__web_console/repl_sessions/06967587d71632042cea602423c2d864" for 127.0.0.1 at 2017-10-19 16:59:18 +0900
Started PUT "/__web_console/repl_sessions/06967587d71632042cea602423c2d864" for 127.0.0.1 at 2017-10-19 16:59:33 +0900
Started PUT "/__web_console/repl_sessions/06967587d71632042cea602423c2d864" for 127.0.0.1 at 2017-10-19 16:59:34 +0900
Started PUT "/__web_console/repl_sessions/06967587d71632042cea602423c2d864" for 127.0.0.1 at 2017-10-19 17:01:47 +0900
Started PUT "/__web_console/repl_sessions/06967587d71632042cea602423c2d864" for 127.0.0.1 at 2017-10-19 17:01:48 +0900
Started PUT "/__web_console/repl_sessions/06967587d71632042cea602423c2d864" for 127.0.0.1 at 2017-10-19 17:01:50 +0900
Started PUT "/__web_console/repl_sessions/06967587d71632042cea602423c2d864" for 127.0.0.1 at 2017-10-19 17:01:50 +0900
Started PUT "/__web_console/repl_sessions/06967587d71632042cea602423c2d864" for 127.0.0.1 at 2017-10-19 17:01:52 +0900
Started PUT "/__web_console/repl_sessions/06967587d71632042cea602423c2d864" for 127.0.0.1 at 2017-10-19 17:01:53 +0900
Started PUT "/__web_console/repl_sessions/06967587d71632042cea602423c2d864" for 127.0.0.1 at 2017-10-19 17:07:36 +0900
Started PUT "/__web_console/repl_sessions/06967587d71632042cea602423c2d864" for 127.0.0.1 at 2017-10-19 17:07:36 +0900
Started PUT "/__web_console/repl_sessions/06967587d71632042cea602423c2d864" for 127.0.0.1 at 2017-10-19 17:07:43 +0900
Started PUT "/__web_console/repl_sessions/06967587d71632042cea602423c2d864" for 127.0.0.1 at 2017-10-19 17:07:44 +0900
Started PUT "/__web_console/repl_sessions/06967587d71632042cea602423c2d864" for 127.0.0.1 at 2017-10-19 17:07:45 +0900
Started PUT "/__web_console/repl_sessions/06967587d71632042cea602423c2d864" for 127.0.0.1 at 2017-10-19 17:07:48 +0900
Started PUT "/__web_console/repl_sessions/06967587d71632042cea602423c2d864" for 127.0.0.1 at 2017-10-19 17:07:49 +0900
Started PUT "/__web_console/repl_sessions/06967587d71632042cea602423c2d864" for 127.0.0.1 at 2017-10-19 17:07:52 +0900
Started PUT "/__web_console/repl_sessions/06967587d71632042cea602423c2d864" for 127.0.0.1 at 2017-10-19 17:07:54 +0900
Started PUT "/__web_console/repl_sessions/06967587d71632042cea602423c2d864" for 127.0.0.1 at 2017-10-19 17:07:55 +0900
Started PUT "/__web_console/repl_sessions/06967587d71632042cea602423c2d864" for 127.0.0.1 at 2017-10-19 17:07:57 +0900
Started PUT "/__web_console/repl_sessions/06967587d71632042cea602423c2d864" for 127.0.0.1 at 2017-10-19 17:07:58 +0900
Started PUT "/__web_console/repl_sessions/06967587d71632042cea602423c2d864" for 127.0.0.1 at 2017-10-19 17:07:58 +0900
Started PUT "/__web_console/repl_sessions/06967587d71632042cea602423c2d864" for 127.0.0.1 at 2017-10-19 17:07:59 +0900
Started PUT "/__web_console/repl_sessions/06967587d71632042cea602423c2d864" for 127.0.0.1 at 2017-10-19 17:08:01 +0900
Started PUT "/__web_console/repl_sessions/06967587d71632042cea602423c2d864" for 127.0.0.1 at 2017-10-19 17:08:02 +0900
Started PUT "/__web_console/repl_sessions/06967587d71632042cea602423c2d864" for 127.0.0.1 at 2017-10-19 17:08:03 +0900
Started PUT "/__web_console/repl_sessions/06967587d71632042cea602423c2d864" for 127.0.0.1 at 2017-10-19 17:08:03 +0900
Started PUT "/__web_console/repl_sessions/06967587d71632042cea602423c2d864" for 127.0.0.1 at 2017-10-19 17:08:04 +0900
Started PUT "/__web_console/repl_sessions/06967587d71632042cea602423c2d864" for 127.0.0.1 at 2017-10-19 17:08:09 +0900
Started PUT "/__web_console/repl_sessions/06967587d71632042cea602423c2d864" for 127.0.0.1 at 2017-10-19 17:08:10 +0900
Started PUT "/__web_console/repl_sessions/06967587d71632042cea602423c2d864" for 127.0.0.1 at 2017-10-19 17:08:13 +0900
Started PUT "/__web_console/repl_sessions/06967587d71632042cea602423c2d864" for 127.0.0.1 at 2017-10-19 17:08:17 +0900
Started PUT "/__web_console/repl_sessions/06967587d71632042cea602423c2d864" for 127.0.0.1 at 2017-10-19 17:08:26 +0900
Started PUT "/__web_console/repl_sessions/06967587d71632042cea602423c2d864" for 127.0.0.1 at 2017-10-19 17:08:42 +0900
Started PUT "/__web_console/repl_sessions/06967587d71632042cea602423c2d864" for 127.0.0.1 at 2017-10-19 17:08:43 +0900
Started PUT "/__web_console/repl_sessions/06967587d71632042cea602423c2d864" for 127.0.0.1 at 2017-10-19 17:09:01 +0900
Started PUT "/__web_console/repl_sessions/06967587d71632042cea602423c2d864" for 127.0.0.1 at 2017-10-19 17:09:02 +0900
Started PUT "/__web_console/repl_sessions/06967587d71632042cea602423c2d864" for 127.0.0.1 at 2017-10-19 17:09:03 +0900
Started PUT "/__web_console/repl_sessions/06967587d71632042cea602423c2d864" for 127.0.0.1 at 2017-10-19 17:09:03 +0900
Started PUT "/__web_console/repl_sessions/06967587d71632042cea602423c2d864" for 127.0.0.1 at 2017-10-19 17:09:12 +0900
Started PUT "/__web_console/repl_sessions/06967587d71632042cea602423c2d864" for 127.0.0.1 at 2017-10-19 17:09:58 +0900
Started PUT "/__web_console/repl_sessions/06967587d71632042cea602423c2d864" for 127.0.0.1 at 2017-10-19 17:11:23 +0900
Started PUT "/__web_console/repl_sessions/06967587d71632042cea602423c2d864" for 127.0.0.1 at 2017-10-19 17:13:04 +0900
Started PUT "/__web_console/repl_sessions/06967587d71632042cea602423c2d864" for 127.0.0.1 at 2017-10-19 17:14:03 +0900
Started PUT "/__web_console/repl_sessions/06967587d71632042cea602423c2d864" for 127.0.0.1 at 2017-10-19 17:20:34 +0900
Started PUT "/__web_console/repl_sessions/06967587d71632042cea602423c2d864" for 127.0.0.1 at 2017-10-19 17:20:57 +0900
Started PUT "/__web_console/repl_sessions/06967587d71632042cea602423c2d864" for 127.0.0.1 at 2017-10-19 17:21:01 +0900
Started PUT "/__web_console/repl_sessions/06967587d71632042cea602423c2d864" for 127.0.0.1 at 2017-10-19 17:21:14 +0900
Started PUT "/__web_console/repl_sessions/06967587d71632042cea602423c2d864" for 127.0.0.1 at 2017-10-19 17:21:16 +0900
Started GET "/" for 127.0.0.1 at 2017-10-19 17:31:19 +0900
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (2.4ms)
Completed 200 OK in 52ms (Views: 46.1ms)


Started GET "/auth/chatwork" for 127.0.0.1 at 2017-10-19 17:31:21 +0900
(chatwork) Request phase initiated.
Started GET "/auth/chatwork" for 127.0.0.1 at 2017-10-19 17:31:21 +0900
(chatwork) Request phase initiated.
Started GET "/auth/chatwork/callback?code=863b30227061f97ee29c1f28d6cda9dfc924b14bd5d4cc46060ccacf7340f97244643813ed7159ebdf98cd112a2be667154f1c231cb0c4756b766755c78a5b06&state=ecbd1eaa01525c4a6ac786acf81cfc9fb2da4d2685a94eeb" for 127.0.0.1 at 2017-10-19 17:31:23 +0900
(chatwork) Callback phase initiated.
(chatwork) Authentication failure! invalid_credentials: OAuth2::Error, : 
{"errors":["Invalid API Token"]}
  
OAuth2::Error (: 
{"errors":["Invalid API Token"]}):
  
oauth2 (1.4.0) lib/oauth2/client.rb:119:in `request'
oauth2 (1.4.0) lib/oauth2/access_token.rb:107:in `request'
oauth2 (1.4.0) lib/oauth2/access_token.rb:114:in `get'
/Users/taiyop/codes/ruffnote/omniauth-chatwork/lib/omniauth/strategies/chatwork.rb:30:in `raw_info'
/Users/taiyop/codes/ruffnote/omniauth-chatwork/lib/omniauth/strategies/chatwork.rb:14:in `block in <class:ChatWork>'
omniauth (1.7.1) lib/omniauth/strategy.rb:109:in `instance_eval'
omniauth (1.7.1) lib/omniauth/strategy.rb:109:in `block in compile_stack'
omniauth (1.7.1) lib/omniauth/strategy.rb:108:in `each'
omniauth (1.7.1) lib/omniauth/strategy.rb:108:in `inject'
omniauth (1.7.1) lib/omniauth/strategy.rb:108:in `compile_stack'
omniauth (1.7.1) lib/omniauth/strategy.rb:102:in `uid_stack'
omniauth (1.7.1) lib/omniauth/strategy.rb:329:in `uid'
omniauth (1.7.1) lib/omniauth/strategy.rb:345:in `auth_hash'
omniauth (1.7.1) lib/omniauth/strategy.rb:368:in `callback_phase'
omniauth-oauth2 (1.4.0) lib/omniauth/strategies/oauth2.rb:75:in `callback_phase'
omniauth (1.7.1) lib/omniauth/strategy.rb:236:in `callback_call'
omniauth (1.7.1) lib/omniauth/strategy.rb:188:in `call!'
omniauth (1.7.1) lib/omniauth/strategy.rb:168:in `call'
omniauth (1.7.1) lib/omniauth/builder.rb:63:in `call'
rack (2.0.3) lib/rack/etag.rb:25:in `call'
rack (2.0.3) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.3) lib/rack/head.rb:12:in `call'
rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.1.4) lib/active_record/migration.rb:556:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
activesupport (5.1.4) lib/active_support/callbacks.rb:97:in `run_callbacks'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.4) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.4) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.4) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started PUT "/__web_console/repl_sessions/8990b348ba3563a6b71aa769d2bea7d9" for 127.0.0.1 at 2017-10-19 17:31:27 +0900
Started PUT "/__web_console/repl_sessions/8990b348ba3563a6b71aa769d2bea7d9" for 127.0.0.1 at 2017-10-19 17:31:27 +0900
Started POST "/__web_console/repl_sessions/8990b348ba3563a6b71aa769d2bea7d9/trace" for 127.0.0.1 at 2017-10-19 17:31:32 +0900
Started PUT "/__web_console/repl_sessions/8990b348ba3563a6b71aa769d2bea7d9" for 127.0.0.1 at 2017-10-19 17:31:35 +0900
Started PUT "/__web_console/repl_sessions/8990b348ba3563a6b71aa769d2bea7d9" for 127.0.0.1 at 2017-10-19 17:31:39 +0900
Started PUT "/__web_console/repl_sessions/8990b348ba3563a6b71aa769d2bea7d9" for 127.0.0.1 at 2017-10-19 17:31:40 +0900
Started PUT "/__web_console/repl_sessions/8990b348ba3563a6b71aa769d2bea7d9" for 127.0.0.1 at 2017-10-19 17:31:44 +0900
Started PUT "/__web_console/repl_sessions/8990b348ba3563a6b71aa769d2bea7d9" for 127.0.0.1 at 2017-10-19 17:32:24 +0900
Started PUT "/__web_console/repl_sessions/8990b348ba3563a6b71aa769d2bea7d9" for 127.0.0.1 at 2017-10-19 17:32:31 +0900
Started GET "/" for 127.0.0.1 at 2017-10-19 17:44:57 +0900
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.8ms)
Completed 200 OK in 28ms (Views: 23.8ms)


Started GET "/auth/chatwork" for 127.0.0.1 at 2017-10-19 17:44:59 +0900
(chatwork) Request phase initiated.
Started GET "/auth/chatwork" for 127.0.0.1 at 2017-10-19 17:44:59 +0900
(chatwork) Request phase initiated.
Started GET "/auth/chatwork/callback?code=2f8f9fe6dcde318a61da2233e751b9436edd954c767d0119f4bdc957be792ccb95f55dd1a92467ea0b50798f1082d9fae122cfbcbee3a23e2ee83efcea3d0a20&state=86c9e28ed362cddcaba60e23c24c5bdfecc1e1755707529b" for 127.0.0.1 at 2017-10-19 17:45:01 +0900
(chatwork) Callback phase initiated.
(chatwork) Authentication failure! invalid_credentials: OAuth2::Error, : 
{"errors":["Invalid API Token"]}
  
OAuth2::Error (: 
{"errors":["Invalid API Token"]}):
  
oauth2 (1.4.0) lib/oauth2/client.rb:119:in `request'
oauth2 (1.4.0) lib/oauth2/access_token.rb:107:in `request'
oauth2 (1.4.0) lib/oauth2/access_token.rb:114:in `get'
/Users/taiyop/codes/ruffnote/omniauth-chatwork/lib/omniauth/strategies/chatwork.rb:30:in `raw_info'
/Users/taiyop/codes/ruffnote/omniauth-chatwork/lib/omniauth/strategies/chatwork.rb:14:in `block in <class:ChatWork>'
omniauth (1.7.1) lib/omniauth/strategy.rb:109:in `instance_eval'
omniauth (1.7.1) lib/omniauth/strategy.rb:109:in `block in compile_stack'
omniauth (1.7.1) lib/omniauth/strategy.rb:108:in `each'
omniauth (1.7.1) lib/omniauth/strategy.rb:108:in `inject'
omniauth (1.7.1) lib/omniauth/strategy.rb:108:in `compile_stack'
omniauth (1.7.1) lib/omniauth/strategy.rb:102:in `uid_stack'
omniauth (1.7.1) lib/omniauth/strategy.rb:329:in `uid'
omniauth (1.7.1) lib/omniauth/strategy.rb:345:in `auth_hash'
omniauth (1.7.1) lib/omniauth/strategy.rb:368:in `callback_phase'
omniauth-oauth2 (1.4.0) lib/omniauth/strategies/oauth2.rb:75:in `callback_phase'
omniauth (1.7.1) lib/omniauth/strategy.rb:236:in `callback_call'
omniauth (1.7.1) lib/omniauth/strategy.rb:188:in `call!'
omniauth (1.7.1) lib/omniauth/strategy.rb:168:in `call'
omniauth (1.7.1) lib/omniauth/builder.rb:63:in `call'
rack (2.0.3) lib/rack/etag.rb:25:in `call'
rack (2.0.3) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.3) lib/rack/head.rb:12:in `call'
rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.1.4) lib/active_record/migration.rb:556:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
activesupport (5.1.4) lib/active_support/callbacks.rb:97:in `run_callbacks'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.4) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.4) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.4) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started POST "/__web_console/repl_sessions/a0f0e4755e0ffebf732178b8fe9dce20/trace" for 127.0.0.1 at 2017-10-19 17:45:07 +0900
Started PUT "/__web_console/repl_sessions/a0f0e4755e0ffebf732178b8fe9dce20" for 127.0.0.1 at 2017-10-19 17:45:17 +0900
Started PUT "/__web_console/repl_sessions/a0f0e4755e0ffebf732178b8fe9dce20" for 127.0.0.1 at 2017-10-19 17:45:19 +0900
Started PUT "/__web_console/repl_sessions/a0f0e4755e0ffebf732178b8fe9dce20" for 127.0.0.1 at 2017-10-19 17:45:20 +0900
Started PUT "/__web_console/repl_sessions/a0f0e4755e0ffebf732178b8fe9dce20" for 127.0.0.1 at 2017-10-19 17:46:03 +0900
Started PUT "/__web_console/repl_sessions/a0f0e4755e0ffebf732178b8fe9dce20" for 127.0.0.1 at 2017-10-19 17:46:05 +0900
Started PUT "/__web_console/repl_sessions/a0f0e4755e0ffebf732178b8fe9dce20" for 127.0.0.1 at 2017-10-19 17:46:19 +0900
Started PUT "/__web_console/repl_sessions/a0f0e4755e0ffebf732178b8fe9dce20" for 127.0.0.1 at 2017-10-19 17:46:29 +0900
Started POST "/__web_console/repl_sessions/a0f0e4755e0ffebf732178b8fe9dce20/trace" for 127.0.0.1 at 2017-10-19 17:47:48 +0900
Started POST "/__web_console/repl_sessions/a0f0e4755e0ffebf732178b8fe9dce20/trace" for 127.0.0.1 at 2017-10-19 17:47:48 +0900
Started PUT "/__web_console/repl_sessions/a0f0e4755e0ffebf732178b8fe9dce20" for 127.0.0.1 at 2017-10-19 17:48:02 +0900
Started PUT "/__web_console/repl_sessions/a0f0e4755e0ffebf732178b8fe9dce20" for 127.0.0.1 at 2017-10-19 17:48:11 +0900
Started PUT "/__web_console/repl_sessions/a0f0e4755e0ffebf732178b8fe9dce20" for 127.0.0.1 at 2017-10-19 17:48:13 +0900
Started PUT "/__web_console/repl_sessions/a0f0e4755e0ffebf732178b8fe9dce20" for 127.0.0.1 at 2017-10-19 17:48:15 +0900
Started POST "/__web_console/repl_sessions/a0f0e4755e0ffebf732178b8fe9dce20/trace" for 127.0.0.1 at 2017-10-19 17:48:26 +0900
Started POST "/__web_console/repl_sessions/a0f0e4755e0ffebf732178b8fe9dce20/trace" for 127.0.0.1 at 2017-10-19 17:48:31 +0900
Started PUT "/__web_console/repl_sessions/a0f0e4755e0ffebf732178b8fe9dce20" for 127.0.0.1 at 2017-10-19 17:48:43 +0900
Started POST "/__web_console/repl_sessions/a0f0e4755e0ffebf732178b8fe9dce20/trace" for 127.0.0.1 at 2017-10-19 17:51:40 +0900
Started POST "/__web_console/repl_sessions/a0f0e4755e0ffebf732178b8fe9dce20/trace" for 127.0.0.1 at 2017-10-19 17:51:40 +0900
Started PUT "/__web_console/repl_sessions/a0f0e4755e0ffebf732178b8fe9dce20" for 127.0.0.1 at 2017-10-19 17:51:50 +0900
Started PUT "/__web_console/repl_sessions/a0f0e4755e0ffebf732178b8fe9dce20" for 127.0.0.1 at 2017-10-19 17:51:51 +0900
Started PUT "/__web_console/repl_sessions/a0f0e4755e0ffebf732178b8fe9dce20" for 127.0.0.1 at 2017-10-19 17:51:53 +0900
Started POST "/__web_console/repl_sessions/a0f0e4755e0ffebf732178b8fe9dce20/trace" for 127.0.0.1 at 2017-10-19 17:52:26 +0900
Started PUT "/__web_console/repl_sessions/a0f0e4755e0ffebf732178b8fe9dce20" for 127.0.0.1 at 2017-10-19 17:52:29 +0900
Started PUT "/__web_console/repl_sessions/a0f0e4755e0ffebf732178b8fe9dce20" for 127.0.0.1 at 2017-10-19 17:52:30 +0900
Started PUT "/__web_console/repl_sessions/a0f0e4755e0ffebf732178b8fe9dce20" for 127.0.0.1 at 2017-10-19 17:52:39 +0900
Started PUT "/__web_console/repl_sessions/a0f0e4755e0ffebf732178b8fe9dce20" for 127.0.0.1 at 2017-10-19 17:52:42 +0900
Started PUT "/__web_console/repl_sessions/a0f0e4755e0ffebf732178b8fe9dce20" for 127.0.0.1 at 2017-10-19 17:55:06 +0900
Started PUT "/__web_console/repl_sessions/a0f0e4755e0ffebf732178b8fe9dce20" for 127.0.0.1 at 2017-10-19 17:55:06 +0900
Started GET "/" for 127.0.0.1 at 2017-10-19 17:59:50 +0900
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.7ms)
Completed 200 OK in 27ms (Views: 24.6ms)


Started GET "/auth/chatwork" for 127.0.0.1 at 2017-10-19 17:59:51 +0900
(chatwork) Request phase initiated.
Started GET "/auth/chatwork" for 127.0.0.1 at 2017-10-19 17:59:52 +0900
(chatwork) Request phase initiated.
Started GET "/auth/chatwork/callback?code=a9e23fc0d9d3726447951e1698f78b105e39bfd6030047c40261a31d8947dee5af8109844bc7e03215b2e29298d59d999b28fae8d58872a0f10146fea4c9bdad&state=277905ce41bb13089129a9b5dea1aaa1027a357b3c019dbb" for 127.0.0.1 at 2017-10-19 17:59:53 +0900
(chatwork) Callback phase initiated.
(chatwork) Authentication failure! invalid_credentials: OAuth2::Error, : 
{"errors":["Invalid API Token"]}
  
OAuth2::Error (: 
{"errors":["Invalid API Token"]}):
  
oauth2 (1.4.0) lib/oauth2/client.rb:119:in `request'
oauth2 (1.4.0) lib/oauth2/access_token.rb:107:in `request'
oauth2 (1.4.0) lib/oauth2/access_token.rb:114:in `get'
/Users/taiyop/codes/ruffnote/omniauth-chatwork/lib/omniauth/strategies/chatwork.rb:30:in `raw_info'
/Users/taiyop/codes/ruffnote/omniauth-chatwork/lib/omniauth/strategies/chatwork.rb:14:in `block in <class:ChatWork>'
omniauth (1.7.1) lib/omniauth/strategy.rb:109:in `instance_eval'
omniauth (1.7.1) lib/omniauth/strategy.rb:109:in `block in compile_stack'
omniauth (1.7.1) lib/omniauth/strategy.rb:108:in `each'
omniauth (1.7.1) lib/omniauth/strategy.rb:108:in `inject'
omniauth (1.7.1) lib/omniauth/strategy.rb:108:in `compile_stack'
omniauth (1.7.1) lib/omniauth/strategy.rb:102:in `uid_stack'
omniauth (1.7.1) lib/omniauth/strategy.rb:329:in `uid'
omniauth (1.7.1) lib/omniauth/strategy.rb:345:in `auth_hash'
omniauth (1.7.1) lib/omniauth/strategy.rb:368:in `callback_phase'
omniauth-oauth2 (1.4.0) lib/omniauth/strategies/oauth2.rb:75:in `callback_phase'
omniauth (1.7.1) lib/omniauth/strategy.rb:236:in `callback_call'
omniauth (1.7.1) lib/omniauth/strategy.rb:188:in `call!'
omniauth (1.7.1) lib/omniauth/strategy.rb:168:in `call'
omniauth (1.7.1) lib/omniauth/builder.rb:63:in `call'
rack (2.0.3) lib/rack/etag.rb:25:in `call'
rack (2.0.3) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.3) lib/rack/head.rb:12:in `call'
rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.1.4) lib/active_record/migration.rb:556:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
activesupport (5.1.4) lib/active_support/callbacks.rb:97:in `run_callbacks'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.4) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.4) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.4) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started POST "/__web_console/repl_sessions/1760327dd528fdfd913f80a3afe248f7/trace" for 127.0.0.1 at 2017-10-19 17:59:59 +0900
Started PUT "/__web_console/repl_sessions/1760327dd528fdfd913f80a3afe248f7" for 127.0.0.1 at 2017-10-19 18:00:03 +0900
Started PUT "/__web_console/repl_sessions/1760327dd528fdfd913f80a3afe248f7" for 127.0.0.1 at 2017-10-19 18:00:03 +0900
Started GET "/" for 127.0.0.1 at 2017-10-19 18:00:30 +0900
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.5ms)
Completed 200 OK in 21ms (Views: 18.8ms)


Started GET "/auth/chatwork" for 127.0.0.1 at 2017-10-19 18:00:31 +0900
(chatwork) Request phase initiated.
Started GET "/auth/chatwork" for 127.0.0.1 at 2017-10-19 18:00:31 +0900
(chatwork) Request phase initiated.
Started GET "/auth/chatwork" for 127.0.0.1 at 2017-10-19 18:00:31 +0900
(chatwork) Request phase initiated.
Started GET "/auth/chatwork" for 127.0.0.1 at 2017-10-19 18:00:31 +0900
(chatwork) Request phase initiated.
Started GET "/auth/chatwork/callback?code=d14c6fa3ed9eaa118f027897dfb144ce967da0562d54ca53f6d3cc092e6741a57adca5bbdbc433dcb484bb35c012da087ab2b26416ec5bb750570d46b36099df&state=5da77e579cb6476cd1511f64fc78d6c79b1485309de2c8c8" for 127.0.0.1 at 2017-10-19 18:00:33 +0900
(chatwork) Callback phase initiated.
(chatwork) Authentication failure! invalid_credentials: OAuth2::Error, : 
{"errors":["Invalid API Token"]}
  
OAuth2::Error (: 
{"errors":["Invalid API Token"]}):
  
oauth2 (1.4.0) lib/oauth2/client.rb:119:in `request'
oauth2 (1.4.0) lib/oauth2/access_token.rb:107:in `request'
oauth2 (1.4.0) lib/oauth2/access_token.rb:114:in `get'
/Users/taiyop/codes/ruffnote/omniauth-chatwork/lib/omniauth/strategies/chatwork.rb:30:in `raw_info'
/Users/taiyop/codes/ruffnote/omniauth-chatwork/lib/omniauth/strategies/chatwork.rb:14:in `block in <class:ChatWork>'
omniauth (1.7.1) lib/omniauth/strategy.rb:109:in `instance_eval'
omniauth (1.7.1) lib/omniauth/strategy.rb:109:in `block in compile_stack'
omniauth (1.7.1) lib/omniauth/strategy.rb:108:in `each'
omniauth (1.7.1) lib/omniauth/strategy.rb:108:in `inject'
omniauth (1.7.1) lib/omniauth/strategy.rb:108:in `compile_stack'
omniauth (1.7.1) lib/omniauth/strategy.rb:102:in `uid_stack'
omniauth (1.7.1) lib/omniauth/strategy.rb:329:in `uid'
omniauth (1.7.1) lib/omniauth/strategy.rb:345:in `auth_hash'
omniauth (1.7.1) lib/omniauth/strategy.rb:368:in `callback_phase'
omniauth-oauth2 (1.4.0) lib/omniauth/strategies/oauth2.rb:75:in `callback_phase'
omniauth (1.7.1) lib/omniauth/strategy.rb:236:in `callback_call'
omniauth (1.7.1) lib/omniauth/strategy.rb:188:in `call!'
omniauth (1.7.1) lib/omniauth/strategy.rb:168:in `call'
omniauth (1.7.1) lib/omniauth/builder.rb:63:in `call'
rack (2.0.3) lib/rack/etag.rb:25:in `call'
rack (2.0.3) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.3) lib/rack/head.rb:12:in `call'
rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.1.4) lib/active_record/migration.rb:556:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
activesupport (5.1.4) lib/active_support/callbacks.rb:97:in `run_callbacks'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.4) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.4) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.4) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started PUT "/__web_console/repl_sessions/9c7a5017a3d0cff92cabc8a94e451488" for 127.0.0.1 at 2017-10-19 18:00:38 +0900
Started PUT "/__web_console/repl_sessions/9c7a5017a3d0cff92cabc8a94e451488" for 127.0.0.1 at 2017-10-19 18:00:39 +0900
Started POST "/__web_console/repl_sessions/9c7a5017a3d0cff92cabc8a94e451488/trace" for 127.0.0.1 at 2017-10-19 18:00:43 +0900
Started POST "/__web_console/repl_sessions/9c7a5017a3d0cff92cabc8a94e451488/trace" for 127.0.0.1 at 2017-10-19 18:01:04 +0900
Started POST "/__web_console/repl_sessions/9c7a5017a3d0cff92cabc8a94e451488/trace" for 127.0.0.1 at 2017-10-19 18:01:05 +0900
Started POST "/__web_console/repl_sessions/9c7a5017a3d0cff92cabc8a94e451488/trace" for 127.0.0.1 at 2017-10-19 18:01:06 +0900
Started POST "/__web_console/repl_sessions/9c7a5017a3d0cff92cabc8a94e451488/trace" for 127.0.0.1 at 2017-10-19 18:01:06 +0900
Started POST "/__web_console/repl_sessions/9c7a5017a3d0cff92cabc8a94e451488/trace" for 127.0.0.1 at 2017-10-19 18:01:10 +0900
Started POST "/__web_console/repl_sessions/9c7a5017a3d0cff92cabc8a94e451488/trace" for 127.0.0.1 at 2017-10-19 18:01:13 +0900
Started POST "/__web_console/repl_sessions/9c7a5017a3d0cff92cabc8a94e451488/trace" for 127.0.0.1 at 2017-10-19 18:01:20 +0900
Started PUT "/__web_console/repl_sessions/9c7a5017a3d0cff92cabc8a94e451488" for 127.0.0.1 at 2017-10-19 18:01:25 +0900
Started GET "/" for 127.0.0.1 at 2017-10-19 18:01:37 +0900
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.5ms)
Completed 200 OK in 23ms (Views: 20.9ms)


Started GET "/auth/chatwork" for 127.0.0.1 at 2017-10-19 18:01:38 +0900
(chatwork) Request phase initiated.
Started GET "/auth/chatwork" for 127.0.0.1 at 2017-10-19 18:01:39 +0900
(chatwork) Request phase initiated.
Started GET "/auth/chatwork/callback?code=c806a71a8bffb4f7f21ab3af4fa112e8959e3f2adb870a0416b55fe5d7d0228a189d9bce43813deeea8a0968355c486f34e8d125dd9d19317147f6c9d05780e2&state=3f95665ad8fb61546b50d487f8a902b734cf612b8c12d474" for 127.0.0.1 at 2017-10-19 18:01:40 +0900
(chatwork) Callback phase initiated.
(chatwork) Authentication failure! invalid_credentials: OAuth2::Error, : 
{"errors":["Invalid API Token"]}
  
OAuth2::Error (: 
{"errors":["Invalid API Token"]}):
  
oauth2 (1.4.0) lib/oauth2/client.rb:119:in `request'
oauth2 (1.4.0) lib/oauth2/access_token.rb:107:in `request'
oauth2 (1.4.0) lib/oauth2/access_token.rb:114:in `get'
/Users/taiyop/codes/ruffnote/omniauth-chatwork/lib/omniauth/strategies/chatwork.rb:30:in `raw_info'
/Users/taiyop/codes/ruffnote/omniauth-chatwork/lib/omniauth/strategies/chatwork.rb:14:in `block in <class:ChatWork>'
omniauth (1.7.1) lib/omniauth/strategy.rb:109:in `instance_eval'
omniauth (1.7.1) lib/omniauth/strategy.rb:109:in `block in compile_stack'
omniauth (1.7.1) lib/omniauth/strategy.rb:108:in `each'
omniauth (1.7.1) lib/omniauth/strategy.rb:108:in `inject'
omniauth (1.7.1) lib/omniauth/strategy.rb:108:in `compile_stack'
omniauth (1.7.1) lib/omniauth/strategy.rb:102:in `uid_stack'
omniauth (1.7.1) lib/omniauth/strategy.rb:329:in `uid'
omniauth (1.7.1) lib/omniauth/strategy.rb:345:in `auth_hash'
omniauth (1.7.1) lib/omniauth/strategy.rb:368:in `callback_phase'
omniauth-oauth2 (1.4.0) lib/omniauth/strategies/oauth2.rb:75:in `callback_phase'
omniauth (1.7.1) lib/omniauth/strategy.rb:236:in `callback_call'
omniauth (1.7.1) lib/omniauth/strategy.rb:188:in `call!'
omniauth (1.7.1) lib/omniauth/strategy.rb:168:in `call'
omniauth (1.7.1) lib/omniauth/builder.rb:63:in `call'
rack (2.0.3) lib/rack/etag.rb:25:in `call'
rack (2.0.3) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.3) lib/rack/head.rb:12:in `call'
rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.1.4) lib/active_record/migration.rb:556:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
activesupport (5.1.4) lib/active_support/callbacks.rb:97:in `run_callbacks'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.4) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.4) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.4) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started POST "/__web_console/repl_sessions/af34320d5c43f1768c9d14d83458ed75/trace" for 127.0.0.1 at 2017-10-19 18:01:44 +0900
Started GET "/" for 127.0.0.1 at 2017-10-19 18:01:58 +0900
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.5ms)
Completed 200 OK in 17ms (Views: 15.5ms)


Started GET "/auth/chatwork" for 127.0.0.1 at 2017-10-19 18:01:59 +0900
(chatwork) Request phase initiated.
Started GET "/auth/chatwork" for 127.0.0.1 at 2017-10-19 18:01:59 +0900
(chatwork) Request phase initiated.
Started GET "/auth/chatwork/callback?code=7acdd9814fb294df32f5986cd7a4c9d61225de7e70fb84c8c601d59927b8b92bbb71353bf9e78e7475fbc30cd71aa5b68da7985706a53102730a780f62e83015&state=a08194a3dba9db4ca7fc7b7da4fa90d0d6295c574d9dbf78" for 127.0.0.1 at 2017-10-19 18:02:01 +0900
(chatwork) Callback phase initiated.
(chatwork) Authentication failure! invalid_credentials: OAuth2::Error, : 
{"errors":["Invalid API Token"]}
  
OAuth2::Error (: 
{"errors":["Invalid API Token"]}):
  
oauth2 (1.4.0) lib/oauth2/client.rb:119:in `request'
oauth2 (1.4.0) lib/oauth2/access_token.rb:107:in `request'
oauth2 (1.4.0) lib/oauth2/access_token.rb:114:in `get'
/Users/taiyop/codes/ruffnote/omniauth-chatwork/lib/omniauth/strategies/chatwork.rb:30:in `raw_info'
/Users/taiyop/codes/ruffnote/omniauth-chatwork/lib/omniauth/strategies/chatwork.rb:14:in `block in <class:ChatWork>'
omniauth (1.7.1) lib/omniauth/strategy.rb:109:in `instance_eval'
omniauth (1.7.1) lib/omniauth/strategy.rb:109:in `block in compile_stack'
omniauth (1.7.1) lib/omniauth/strategy.rb:108:in `each'
omniauth (1.7.1) lib/omniauth/strategy.rb:108:in `inject'
omniauth (1.7.1) lib/omniauth/strategy.rb:108:in `compile_stack'
omniauth (1.7.1) lib/omniauth/strategy.rb:102:in `uid_stack'
omniauth (1.7.1) lib/omniauth/strategy.rb:329:in `uid'
omniauth (1.7.1) lib/omniauth/strategy.rb:345:in `auth_hash'
omniauth (1.7.1) lib/omniauth/strategy.rb:368:in `callback_phase'
omniauth-oauth2 (1.4.0) lib/omniauth/strategies/oauth2.rb:75:in `callback_phase'
omniauth (1.7.1) lib/omniauth/strategy.rb:236:in `callback_call'
omniauth (1.7.1) lib/omniauth/strategy.rb:188:in `call!'
omniauth (1.7.1) lib/omniauth/strategy.rb:168:in `call'
omniauth (1.7.1) lib/omniauth/builder.rb:63:in `call'
rack (2.0.3) lib/rack/etag.rb:25:in `call'
rack (2.0.3) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.3) lib/rack/head.rb:12:in `call'
rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.1.4) lib/active_record/migration.rb:556:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
activesupport (5.1.4) lib/active_support/callbacks.rb:97:in `run_callbacks'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.4) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.4) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.4) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started POST "/__web_console/repl_sessions/31d814038d73bb8e367240b0e0046483/trace" for 127.0.0.1 at 2017-10-19 18:02:05 +0900
Started POST "/__web_console/repl_sessions/31d814038d73bb8e367240b0e0046483/trace" for 127.0.0.1 at 2017-10-19 18:02:16 +0900
Started PUT "/__web_console/repl_sessions/31d814038d73bb8e367240b0e0046483" for 127.0.0.1 at 2017-10-19 18:02:24 +0900
Started PUT "/__web_console/repl_sessions/31d814038d73bb8e367240b0e0046483" for 127.0.0.1 at 2017-10-19 18:02:26 +0900
Started PUT "/__web_console/repl_sessions/31d814038d73bb8e367240b0e0046483" for 127.0.0.1 at 2017-10-19 18:10:42 +0900
Started PUT "/__web_console/repl_sessions/31d814038d73bb8e367240b0e0046483" for 127.0.0.1 at 2017-10-19 18:14:55 +0900
Started PUT "/__web_console/repl_sessions/31d814038d73bb8e367240b0e0046483" for 127.0.0.1 at 2017-10-19 18:15:03 +0900
Started PUT "/__web_console/repl_sessions/31d814038d73bb8e367240b0e0046483" for 127.0.0.1 at 2017-10-19 18:15:56 +0900
Started PUT "/__web_console/repl_sessions/31d814038d73bb8e367240b0e0046483" for 127.0.0.1 at 2017-10-19 18:16:30 +0900
Started PUT "/__web_console/repl_sessions/31d814038d73bb8e367240b0e0046483" for 127.0.0.1 at 2017-10-19 18:16:33 +0900
Started PUT "/__web_console/repl_sessions/31d814038d73bb8e367240b0e0046483" for 127.0.0.1 at 2017-10-19 18:16:34 +0900
Started PUT "/__web_console/repl_sessions/31d814038d73bb8e367240b0e0046483" for 127.0.0.1 at 2017-10-19 18:16:56 +0900
Started PUT "/__web_console/repl_sessions/31d814038d73bb8e367240b0e0046483" for 127.0.0.1 at 2017-10-19 18:17:06 +0900
Started PUT "/__web_console/repl_sessions/31d814038d73bb8e367240b0e0046483" for 127.0.0.1 at 2017-10-19 18:17:10 +0900
Started GET "/" for 127.0.0.1 at 2017-10-19 18:17:37 +0900
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.6ms)
Completed 200 OK in 28ms (Views: 25.7ms)


Started GET "/auth/chatwork" for 127.0.0.1 at 2017-10-19 18:17:38 +0900
(chatwork) Request phase initiated.
Started GET "/auth/chatwork" for 127.0.0.1 at 2017-10-19 18:17:39 +0900
(chatwork) Request phase initiated.
Started GET "/auth/chatwork/callback?code=837ef197f2a2c7c11883896ad9aa79e5406b8f22ba341ecb82130e9b0eef544530787699ab4034e2ab73f092f16c237102776b85d001085edde1b1532fbc8530&state=0131d155bf3a0b58f8370ab9d0351aaf4630be989fbed62d" for 127.0.0.1 at 2017-10-19 18:17:40 +0900
(chatwork) Callback phase initiated.
(chatwork) Authentication failure! invalid_credentials: OAuth2::Error, : 
{"errors":["Invalid API Token"]}
  
OAuth2::Error (: 
{"errors":["Invalid API Token"]}):
  
oauth2 (1.4.0) lib/oauth2/client.rb:119:in `request'
oauth2 (1.4.0) lib/oauth2/access_token.rb:107:in `request'
oauth2 (1.4.0) lib/oauth2/access_token.rb:114:in `get'
/Users/taiyop/codes/ruffnote/omniauth-chatwork/lib/omniauth/strategies/chatwork.rb:30:in `raw_info'
/Users/taiyop/codes/ruffnote/omniauth-chatwork/lib/omniauth/strategies/chatwork.rb:14:in `block in <class:ChatWork>'
omniauth (1.7.1) lib/omniauth/strategy.rb:109:in `instance_eval'
omniauth (1.7.1) lib/omniauth/strategy.rb:109:in `block in compile_stack'
omniauth (1.7.1) lib/omniauth/strategy.rb:108:in `each'
omniauth (1.7.1) lib/omniauth/strategy.rb:108:in `inject'
omniauth (1.7.1) lib/omniauth/strategy.rb:108:in `compile_stack'
omniauth (1.7.1) lib/omniauth/strategy.rb:102:in `uid_stack'
omniauth (1.7.1) lib/omniauth/strategy.rb:329:in `uid'
omniauth (1.7.1) lib/omniauth/strategy.rb:345:in `auth_hash'
omniauth (1.7.1) lib/omniauth/strategy.rb:368:in `callback_phase'
omniauth-oauth2 (1.4.0) lib/omniauth/strategies/oauth2.rb:75:in `callback_phase'
omniauth (1.7.1) lib/omniauth/strategy.rb:236:in `callback_call'
omniauth (1.7.1) lib/omniauth/strategy.rb:188:in `call!'
omniauth (1.7.1) lib/omniauth/strategy.rb:168:in `call'
omniauth (1.7.1) lib/omniauth/builder.rb:63:in `call'
rack (2.0.3) lib/rack/etag.rb:25:in `call'
rack (2.0.3) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.3) lib/rack/head.rb:12:in `call'
rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.1.4) lib/active_record/migration.rb:556:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
activesupport (5.1.4) lib/active_support/callbacks.rb:97:in `run_callbacks'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.4) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.4) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.4) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started POST "/__web_console/repl_sessions/1cadfcb960f67b6685c49bb92a4dc34c/trace" for 127.0.0.1 at 2017-10-19 18:17:45 +0900
Started POST "/__web_console/repl_sessions/1cadfcb960f67b6685c49bb92a4dc34c/trace" for 127.0.0.1 at 2017-10-19 18:17:46 +0900
Started PUT "/__web_console/repl_sessions/1cadfcb960f67b6685c49bb92a4dc34c" for 127.0.0.1 at 2017-10-19 18:18:17 +0900
Started PUT "/__web_console/repl_sessions/1cadfcb960f67b6685c49bb92a4dc34c" for 127.0.0.1 at 2017-10-19 18:18:17 +0900
Started PUT "/__web_console/repl_sessions/1cadfcb960f67b6685c49bb92a4dc34c" for 127.0.0.1 at 2017-10-19 18:18:18 +0900
Started PUT "/__web_console/repl_sessions/1cadfcb960f67b6685c49bb92a4dc34c" for 127.0.0.1 at 2017-10-19 18:18:20 +0900
Started PUT "/__web_console/repl_sessions/1cadfcb960f67b6685c49bb92a4dc34c" for 127.0.0.1 at 2017-10-19 18:18:21 +0900
Started PUT "/__web_console/repl_sessions/1cadfcb960f67b6685c49bb92a4dc34c" for 127.0.0.1 at 2017-10-19 18:20:08 +0900
Started PUT "/__web_console/repl_sessions/1cadfcb960f67b6685c49bb92a4dc34c" for 127.0.0.1 at 2017-10-19 18:20:09 +0900
Started PUT "/__web_console/repl_sessions/1cadfcb960f67b6685c49bb92a4dc34c" for 127.0.0.1 at 2017-10-19 18:20:14 +0900
Started PUT "/__web_console/repl_sessions/1cadfcb960f67b6685c49bb92a4dc34c" for 127.0.0.1 at 2017-10-19 18:20:15 +0900
Started PUT "/__web_console/repl_sessions/1cadfcb960f67b6685c49bb92a4dc34c" for 127.0.0.1 at 2017-10-19 18:25:26 +0900
Started PUT "/__web_console/repl_sessions/1cadfcb960f67b6685c49bb92a4dc34c" for 127.0.0.1 at 2017-10-19 18:25:27 +0900
Started PUT "/__web_console/repl_sessions/1cadfcb960f67b6685c49bb92a4dc34c" for 127.0.0.1 at 2017-10-19 18:25:28 +0900
Started PUT "/__web_console/repl_sessions/1cadfcb960f67b6685c49bb92a4dc34c" for 127.0.0.1 at 2017-10-19 18:27:55 +0900
Started PUT "/__web_console/repl_sessions/1cadfcb960f67b6685c49bb92a4dc34c" for 127.0.0.1 at 2017-10-19 18:27:56 +0900
Started PUT "/__web_console/repl_sessions/1cadfcb960f67b6685c49bb92a4dc34c" for 127.0.0.1 at 2017-10-19 18:27:57 +0900
Started PUT "/__web_console/repl_sessions/1cadfcb960f67b6685c49bb92a4dc34c" for 127.0.0.1 at 2017-10-19 18:27:58 +0900
Started PUT "/__web_console/repl_sessions/1cadfcb960f67b6685c49bb92a4dc34c" for 127.0.0.1 at 2017-10-19 18:28:00 +0900
Started PUT "/__web_console/repl_sessions/1cadfcb960f67b6685c49bb92a4dc34c" for 127.0.0.1 at 2017-10-19 18:28:02 +0900
Started PUT "/__web_console/repl_sessions/1cadfcb960f67b6685c49bb92a4dc34c" for 127.0.0.1 at 2017-10-19 18:28:03 +0900
Started PUT "/__web_console/repl_sessions/1cadfcb960f67b6685c49bb92a4dc34c" for 127.0.0.1 at 2017-10-19 18:28:05 +0900
Started PUT "/__web_console/repl_sessions/1cadfcb960f67b6685c49bb92a4dc34c" for 127.0.0.1 at 2017-10-19 18:28:26 +0900
Started PUT "/__web_console/repl_sessions/1cadfcb960f67b6685c49bb92a4dc34c" for 127.0.0.1 at 2017-10-19 18:28:33 +0900
Started PUT "/__web_console/repl_sessions/1cadfcb960f67b6685c49bb92a4dc34c" for 127.0.0.1 at 2017-10-19 18:29:55 +0900
Started PUT "/__web_console/repl_sessions/1cadfcb960f67b6685c49bb92a4dc34c" for 127.0.0.1 at 2017-10-19 18:29:56 +0900
Started PUT "/__web_console/repl_sessions/1cadfcb960f67b6685c49bb92a4dc34c" for 127.0.0.1 at 2017-10-19 18:30:34 +0900
Started PUT "/__web_console/repl_sessions/1cadfcb960f67b6685c49bb92a4dc34c" for 127.0.0.1 at 2017-10-19 18:30:34 +0900
Started PUT "/__web_console/repl_sessions/1cadfcb960f67b6685c49bb92a4dc34c" for 127.0.0.1 at 2017-10-19 18:30:42 +0900
Started PUT "/__web_console/repl_sessions/1cadfcb960f67b6685c49bb92a4dc34c" for 127.0.0.1 at 2017-10-19 18:30:44 +0900
Started GET "/" for 127.0.0.1 at 2017-10-19 18:30:55 +0900
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.3ms)
Completed 200 OK in 34ms (Views: 29.0ms)


Started GET "/auth/chatwork" for 127.0.0.1 at 2017-10-19 18:30:56 +0900
(chatwork) Request phase initiated.
Started GET "/auth/chatwork" for 127.0.0.1 at 2017-10-19 18:30:58 +0900
(chatwork) Request phase initiated.
Started GET "/auth/chatwork/callback?code=4d1d04c3c5324e7396050c64fe122c9a1b9a4e66a5afba1f5401624ff9b0436dde9a257b1a5191d98e4f474918a768bbfe8c1be8e1a967bb0a90e9b7157421b1&state=1a38206b3420eec0f569708d9ea0604251f6fba252a8fc85" for 127.0.0.1 at 2017-10-19 18:31:00 +0900
(chatwork) Callback phase initiated.
(chatwork) Authentication failure! invalid_credentials: OAuth2::Error, : 
{"errors":["Invalid API Token"]}
  
OAuth2::Error (: 
{"errors":["Invalid API Token"]}):
  
oauth2 (1.4.0) lib/oauth2/client.rb:119:in `request'
oauth2 (1.4.0) lib/oauth2/access_token.rb:107:in `request'
oauth2 (1.4.0) lib/oauth2/access_token.rb:114:in `get'
/Users/taiyop/codes/ruffnote/omniauth-chatwork/lib/omniauth/strategies/chatwork.rb:30:in `raw_info'
/Users/taiyop/codes/ruffnote/omniauth-chatwork/lib/omniauth/strategies/chatwork.rb:14:in `block in <class:ChatWork>'
omniauth (1.7.1) lib/omniauth/strategy.rb:109:in `instance_eval'
omniauth (1.7.1) lib/omniauth/strategy.rb:109:in `block in compile_stack'
omniauth (1.7.1) lib/omniauth/strategy.rb:108:in `each'
omniauth (1.7.1) lib/omniauth/strategy.rb:108:in `inject'
omniauth (1.7.1) lib/omniauth/strategy.rb:108:in `compile_stack'
omniauth (1.7.1) lib/omniauth/strategy.rb:102:in `uid_stack'
omniauth (1.7.1) lib/omniauth/strategy.rb:329:in `uid'
omniauth (1.7.1) lib/omniauth/strategy.rb:345:in `auth_hash'
omniauth (1.7.1) lib/omniauth/strategy.rb:368:in `callback_phase'
omniauth-oauth2 (1.4.0) lib/omniauth/strategies/oauth2.rb:75:in `callback_phase'
omniauth (1.7.1) lib/omniauth/strategy.rb:236:in `callback_call'
omniauth (1.7.1) lib/omniauth/strategy.rb:188:in `call!'
omniauth (1.7.1) lib/omniauth/strategy.rb:168:in `call'
omniauth (1.7.1) lib/omniauth/builder.rb:63:in `call'
rack (2.0.3) lib/rack/etag.rb:25:in `call'
rack (2.0.3) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.3) lib/rack/head.rb:12:in `call'
rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.1.4) lib/active_record/migration.rb:556:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
activesupport (5.1.4) lib/active_support/callbacks.rb:97:in `run_callbacks'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.4) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.4) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.4) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started PUT "/__web_console/repl_sessions/e96dcd0e248861d132b433d47fa0f2b5" for 127.0.0.1 at 2017-10-19 18:31:02 +0900
Started PUT "/__web_console/repl_sessions/e96dcd0e248861d132b433d47fa0f2b5" for 127.0.0.1 at 2017-10-19 18:31:03 +0900
Started PUT "/__web_console/repl_sessions/e96dcd0e248861d132b433d47fa0f2b5" for 127.0.0.1 at 2017-10-19 18:31:12 +0900
Started PUT "/__web_console/repl_sessions/e96dcd0e248861d132b433d47fa0f2b5" for 127.0.0.1 at 2017-10-19 18:31:14 +0900
Started PUT "/__web_console/repl_sessions/e96dcd0e248861d132b433d47fa0f2b5" for 127.0.0.1 at 2017-10-19 18:31:14 +0900
Started PUT "/__web_console/repl_sessions/e96dcd0e248861d132b433d47fa0f2b5" for 127.0.0.1 at 2017-10-19 18:31:15 +0900
Started PUT "/__web_console/repl_sessions/e96dcd0e248861d132b433d47fa0f2b5" for 127.0.0.1 at 2017-10-19 18:31:20 +0900
Started PUT "/__web_console/repl_sessions/e96dcd0e248861d132b433d47fa0f2b5" for 127.0.0.1 at 2017-10-19 18:31:29 +0900
Started PUT "/__web_console/repl_sessions/e96dcd0e248861d132b433d47fa0f2b5" for 127.0.0.1 at 2017-10-19 18:31:29 +0900
Started PUT "/__web_console/repl_sessions/e96dcd0e248861d132b433d47fa0f2b5" for 127.0.0.1 at 2017-10-19 18:31:30 +0900
Started PUT "/__web_console/repl_sessions/e96dcd0e248861d132b433d47fa0f2b5" for 127.0.0.1 at 2017-10-19 18:31:31 +0900
Started PUT "/__web_console/repl_sessions/e96dcd0e248861d132b433d47fa0f2b5" for 127.0.0.1 at 2017-10-19 18:31:34 +0900
Started PUT "/__web_console/repl_sessions/e96dcd0e248861d132b433d47fa0f2b5" for 127.0.0.1 at 2017-10-19 18:31:36 +0900
Started POST "/__web_console/repl_sessions/e96dcd0e248861d132b433d47fa0f2b5/trace" for 127.0.0.1 at 2017-10-19 18:31:53 +0900
Started POST "/__web_console/repl_sessions/e96dcd0e248861d132b433d47fa0f2b5/trace" for 127.0.0.1 at 2017-10-19 18:31:54 +0900
Started PUT "/__web_console/repl_sessions/e96dcd0e248861d132b433d47fa0f2b5" for 127.0.0.1 at 2017-10-19 18:31:56 +0900
Started PUT "/__web_console/repl_sessions/e96dcd0e248861d132b433d47fa0f2b5" for 127.0.0.1 at 2017-10-19 18:31:56 +0900
Started PUT "/__web_console/repl_sessions/e96dcd0e248861d132b433d47fa0f2b5" for 127.0.0.1 at 2017-10-19 18:32:00 +0900
Started PUT "/__web_console/repl_sessions/e96dcd0e248861d132b433d47fa0f2b5" for 127.0.0.1 at 2017-10-19 18:32:01 +0900
Started POST "/__web_console/repl_sessions/e96dcd0e248861d132b433d47fa0f2b5/trace" for 127.0.0.1 at 2017-10-19 18:32:07 +0900
Started PUT "/__web_console/repl_sessions/e96dcd0e248861d132b433d47fa0f2b5" for 127.0.0.1 at 2017-10-19 18:32:10 +0900
Started PUT "/__web_console/repl_sessions/e96dcd0e248861d132b433d47fa0f2b5" for 127.0.0.1 at 2017-10-19 18:32:10 +0900
Started PUT "/__web_console/repl_sessions/e96dcd0e248861d132b433d47fa0f2b5" for 127.0.0.1 at 2017-10-19 18:32:11 +0900
Started PUT "/__web_console/repl_sessions/e96dcd0e248861d132b433d47fa0f2b5" for 127.0.0.1 at 2017-10-19 18:32:37 +0900
Started PUT "/__web_console/repl_sessions/e96dcd0e248861d132b433d47fa0f2b5" for 127.0.0.1 at 2017-10-19 18:32:38 +0900
Started PUT "/__web_console/repl_sessions/e96dcd0e248861d132b433d47fa0f2b5" for 127.0.0.1 at 2017-10-19 18:32:53 +0900
Started PUT "/__web_console/repl_sessions/e96dcd0e248861d132b433d47fa0f2b5" for 127.0.0.1 at 2017-10-19 18:33:06 +0900
Started PUT "/__web_console/repl_sessions/e96dcd0e248861d132b433d47fa0f2b5" for 127.0.0.1 at 2017-10-19 18:33:08 +0900
Started PUT "/__web_console/repl_sessions/e96dcd0e248861d132b433d47fa0f2b5" for 127.0.0.1 at 2017-10-19 18:33:15 +0900
Started PUT "/__web_console/repl_sessions/e96dcd0e248861d132b433d47fa0f2b5" for 127.0.0.1 at 2017-10-19 18:33:18 +0900
Started PUT "/__web_console/repl_sessions/e96dcd0e248861d132b433d47fa0f2b5" for 127.0.0.1 at 2017-10-19 18:33:30 +0900
Started PUT "/__web_console/repl_sessions/e96dcd0e248861d132b433d47fa0f2b5" for 127.0.0.1 at 2017-10-19 18:33:38 +0900
Started POST "/__web_console/repl_sessions/e96dcd0e248861d132b433d47fa0f2b5/trace" for 127.0.0.1 at 2017-10-19 18:47:28 +0900
Started PUT "/__web_console/repl_sessions/e96dcd0e248861d132b433d47fa0f2b5" for 127.0.0.1 at 2017-10-19 18:47:31 +0900
Started PUT "/__web_console/repl_sessions/e96dcd0e248861d132b433d47fa0f2b5" for 127.0.0.1 at 2017-10-19 19:55:21 +0900
Started PUT "/__web_console/repl_sessions/e96dcd0e248861d132b433d47fa0f2b5" for 127.0.0.1 at 2017-10-19 19:55:26 +0900
Started PUT "/__web_console/repl_sessions/e96dcd0e248861d132b433d47fa0f2b5" for 127.0.0.1 at 2017-10-19 19:55:31 +0900
Started PUT "/__web_console/repl_sessions/e96dcd0e248861d132b433d47fa0f2b5" for 127.0.0.1 at 2017-10-19 20:08:20 +0900
Started PUT "/__web_console/repl_sessions/e96dcd0e248861d132b433d47fa0f2b5" for 127.0.0.1 at 2017-10-19 20:08:25 +0900
Started PUT "/__web_console/repl_sessions/e96dcd0e248861d132b433d47fa0f2b5" for 127.0.0.1 at 2017-10-19 20:08:27 +0900
Started PUT "/__web_console/repl_sessions/e96dcd0e248861d132b433d47fa0f2b5" for 127.0.0.1 at 2017-10-19 20:08:28 +0900
Started PUT "/__web_console/repl_sessions/e96dcd0e248861d132b433d47fa0f2b5" for 127.0.0.1 at 2017-10-19 20:09:10 +0900
Started PUT "/__web_console/repl_sessions/e96dcd0e248861d132b433d47fa0f2b5" for 127.0.0.1 at 2017-10-19 20:09:12 +0900
Started PUT "/__web_console/repl_sessions/e96dcd0e248861d132b433d47fa0f2b5" for 127.0.0.1 at 2017-10-19 20:09:13 +0900
Started PUT "/__web_console/repl_sessions/e96dcd0e248861d132b433d47fa0f2b5" for 127.0.0.1 at 2017-10-19 20:09:20 +0900
Started PUT "/__web_console/repl_sessions/e96dcd0e248861d132b433d47fa0f2b5" for 127.0.0.1 at 2017-10-19 20:09:20 +0900
Started POST "/__web_console/repl_sessions/e96dcd0e248861d132b433d47fa0f2b5/trace" for 127.0.0.1 at 2017-10-19 20:15:27 +0900
Started POST "/__web_console/repl_sessions/e96dcd0e248861d132b433d47fa0f2b5/trace" for 127.0.0.1 at 2017-10-19 20:15:28 +0900
Started POST "/__web_console/repl_sessions/e96dcd0e248861d132b433d47fa0f2b5/trace" for 127.0.0.1 at 2017-10-19 20:15:29 +0900
Started POST "/__web_console/repl_sessions/e96dcd0e248861d132b433d47fa0f2b5/trace" for 127.0.0.1 at 2017-10-19 20:15:30 +0900
Started POST "/__web_console/repl_sessions/e96dcd0e248861d132b433d47fa0f2b5/trace" for 127.0.0.1 at 2017-10-19 20:15:33 +0900
Started POST "/__web_console/repl_sessions/e96dcd0e248861d132b433d47fa0f2b5/trace" for 127.0.0.1 at 2017-10-19 20:15:34 +0900
Started POST "/__web_console/repl_sessions/e96dcd0e248861d132b433d47fa0f2b5/trace" for 127.0.0.1 at 2017-10-19 20:15:36 +0900
Started PUT "/__web_console/repl_sessions/e96dcd0e248861d132b433d47fa0f2b5" for 127.0.0.1 at 2017-10-19 20:16:52 +0900
Started PUT "/__web_console/repl_sessions/e96dcd0e248861d132b433d47fa0f2b5" for 127.0.0.1 at 2017-10-19 20:16:55 +0900
Started PUT "/__web_console/repl_sessions/e96dcd0e248861d132b433d47fa0f2b5" for 127.0.0.1 at 2017-10-19 20:16:56 +0900
Started PUT "/__web_console/repl_sessions/e96dcd0e248861d132b433d47fa0f2b5" for 127.0.0.1 at 2017-10-19 20:16:58 +0900
Started PUT "/__web_console/repl_sessions/e96dcd0e248861d132b433d47fa0f2b5" for 127.0.0.1 at 2017-10-19 20:17:01 +0900
Started PUT "/__web_console/repl_sessions/e96dcd0e248861d132b433d47fa0f2b5" for 127.0.0.1 at 2017-10-19 20:17:02 +0900
Started PUT "/__web_console/repl_sessions/e96dcd0e248861d132b433d47fa0f2b5" for 127.0.0.1 at 2017-10-19 20:17:10 +0900
Started PUT "/__web_console/repl_sessions/e96dcd0e248861d132b433d47fa0f2b5" for 127.0.0.1 at 2017-10-19 20:17:19 +0900
Started GET "/" for 127.0.0.1 at 2017-10-19 20:18:16 +0900
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.6ms)
Completed 200 OK in 36ms (Views: 31.8ms)


Started GET "/auth/chatwork" for 127.0.0.1 at 2017-10-19 20:18:18 +0900
(chatwork) Request phase initiated.
Started GET "/auth/chatwork" for 127.0.0.1 at 2017-10-19 20:18:18 +0900
(chatwork) Request phase initiated.
Started GET "/auth/chatwork/callback?code=390fc1773f2a411d6ef0dcbe52033978cba68709622d31e008afef2af18309a925138ebd41d28afd70d4f1e57b17fb76d6e30d953172747db73d17d2c6fcd61a&state=1d6178c421e77070baacd53b97ba4263eb99f54ba02cfe91" for 127.0.0.1 at 2017-10-19 20:18:20 +0900
(chatwork) Callback phase initiated.
(chatwork) Authentication failure! invalid_credentials: OAuth2::Error, : 
{"errors":["Invalid API Token"]}
  
OAuth2::Error (: 
{"errors":["Invalid API Token"]}):
  
oauth2 (1.4.0) lib/oauth2/client.rb:119:in `request'
oauth2 (1.4.0) lib/oauth2/access_token.rb:107:in `request'
oauth2 (1.4.0) lib/oauth2/access_token.rb:114:in `get'
/Users/taiyop/codes/ruffnote/omniauth-chatwork/lib/omniauth/strategies/chatwork.rb:30:in `raw_info'
/Users/taiyop/codes/ruffnote/omniauth-chatwork/lib/omniauth/strategies/chatwork.rb:14:in `block in <class:ChatWork>'
omniauth (1.7.1) lib/omniauth/strategy.rb:109:in `instance_eval'
omniauth (1.7.1) lib/omniauth/strategy.rb:109:in `block in compile_stack'
omniauth (1.7.1) lib/omniauth/strategy.rb:108:in `each'
omniauth (1.7.1) lib/omniauth/strategy.rb:108:in `inject'
omniauth (1.7.1) lib/omniauth/strategy.rb:108:in `compile_stack'
omniauth (1.7.1) lib/omniauth/strategy.rb:102:in `uid_stack'
omniauth (1.7.1) lib/omniauth/strategy.rb:329:in `uid'
omniauth (1.7.1) lib/omniauth/strategy.rb:345:in `auth_hash'
omniauth (1.7.1) lib/omniauth/strategy.rb:368:in `callback_phase'
omniauth-oauth2 (1.4.0) lib/omniauth/strategies/oauth2.rb:75:in `callback_phase'
omniauth (1.7.1) lib/omniauth/strategy.rb:236:in `callback_call'
omniauth (1.7.1) lib/omniauth/strategy.rb:188:in `call!'
omniauth (1.7.1) lib/omniauth/strategy.rb:168:in `call'
omniauth (1.7.1) lib/omniauth/builder.rb:63:in `call'
rack (2.0.3) lib/rack/etag.rb:25:in `call'
rack (2.0.3) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.3) lib/rack/head.rb:12:in `call'
rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.1.4) lib/active_record/migration.rb:556:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
activesupport (5.1.4) lib/active_support/callbacks.rb:97:in `run_callbacks'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.4) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.4) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.4) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started POST "/__web_console/repl_sessions/b617a342345e1023c818f1ddd532ac54/trace" for 127.0.0.1 at 2017-10-19 20:18:25 +0900
Started PUT "/__web_console/repl_sessions/b617a342345e1023c818f1ddd532ac54" for 127.0.0.1 at 2017-10-19 20:18:27 +0900
Started PUT "/__web_console/repl_sessions/b617a342345e1023c818f1ddd532ac54" for 127.0.0.1 at 2017-10-19 20:18:28 +0900
Started GET "/" for 127.0.0.1 at 2017-10-19 20:20:48 +0900
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.3ms)
Completed 200 OK in 423ms (Views: 214.6ms)


Started GET "/auth/chatwork" for 127.0.0.1 at 2017-10-19 20:20:50 +0900
(chatwork) Request phase initiated.
Started GET "/auth/chatwork" for 127.0.0.1 at 2017-10-19 20:20:50 +0900
(chatwork) Request phase initiated.
Started GET "/auth/chatwork/callback?code=291717e7fa6e96639284b04e95e32b50aedf6d337e18bf1b1a05053f06bd8ac06095ef277f5d699e9dac7a7177771cf5cbddecf754f063a578ed319e26a61c81&state=2e42a24ad440e27b4e545f9f637f43a486baa2e895d5f9bd" for 127.0.0.1 at 2017-10-19 20:20:52 +0900
(chatwork) Callback phase initiated.
(chatwork) Authentication failure! invalid_credentials: OAuth2::Error, : 
{"errors":["Invalid API Token"]}
  
OAuth2::Error (: 
{"errors":["Invalid API Token"]}):
  
oauth2 (1.4.0) lib/oauth2/client.rb:119:in `request'
oauth2 (1.4.0) lib/oauth2/access_token.rb:107:in `request'
oauth2 (1.4.0) lib/oauth2/access_token.rb:114:in `get'
/Users/taiyop/codes/ruffnote/omniauth-chatwork/lib/omniauth/strategies/chatwork.rb:31:in `raw_info'
/Users/taiyop/codes/ruffnote/omniauth-chatwork/lib/omniauth/strategies/chatwork.rb:15:in `block in <class:ChatWork>'
omniauth (1.7.1) lib/omniauth/strategy.rb:109:in `instance_eval'
omniauth (1.7.1) lib/omniauth/strategy.rb:109:in `block in compile_stack'
omniauth (1.7.1) lib/omniauth/strategy.rb:108:in `each'
omniauth (1.7.1) lib/omniauth/strategy.rb:108:in `inject'
omniauth (1.7.1) lib/omniauth/strategy.rb:108:in `compile_stack'
omniauth (1.7.1) lib/omniauth/strategy.rb:102:in `uid_stack'
omniauth (1.7.1) lib/omniauth/strategy.rb:329:in `uid'
omniauth (1.7.1) lib/omniauth/strategy.rb:345:in `auth_hash'
omniauth (1.7.1) lib/omniauth/strategy.rb:368:in `callback_phase'
omniauth-oauth2 (1.4.0) lib/omniauth/strategies/oauth2.rb:75:in `callback_phase'
omniauth (1.7.1) lib/omniauth/strategy.rb:236:in `callback_call'
omniauth (1.7.1) lib/omniauth/strategy.rb:188:in `call!'
omniauth (1.7.1) lib/omniauth/strategy.rb:168:in `call'
omniauth (1.7.1) lib/omniauth/builder.rb:63:in `call'
rack (2.0.3) lib/rack/etag.rb:25:in `call'
rack (2.0.3) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.3) lib/rack/head.rb:12:in `call'
rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.1.4) lib/active_record/migration.rb:556:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
activesupport (5.1.4) lib/active_support/callbacks.rb:97:in `run_callbacks'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.4) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.4) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.4) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started POST "/__web_console/repl_sessions/97c9edeca4e65a2f7bc10a31fcef18a1/trace" for 127.0.0.1 at 2017-10-19 20:20:58 +0900
Started POST "/__web_console/repl_sessions/97c9edeca4e65a2f7bc10a31fcef18a1/trace" for 127.0.0.1 at 2017-10-19 20:21:00 +0900
Started POST "/__web_console/repl_sessions/97c9edeca4e65a2f7bc10a31fcef18a1/trace" for 127.0.0.1 at 2017-10-19 20:21:01 +0900
Started PUT "/__web_console/repl_sessions/97c9edeca4e65a2f7bc10a31fcef18a1" for 127.0.0.1 at 2017-10-19 20:21:04 +0900
Started PUT "/__web_console/repl_sessions/97c9edeca4e65a2f7bc10a31fcef18a1" for 127.0.0.1 at 2017-10-19 20:21:07 +0900
Started PUT "/__web_console/repl_sessions/97c9edeca4e65a2f7bc10a31fcef18a1" for 127.0.0.1 at 2017-10-19 20:21:09 +0900
Started PUT "/__web_console/repl_sessions/97c9edeca4e65a2f7bc10a31fcef18a1" for 127.0.0.1 at 2017-10-19 20:21:11 +0900
Started PUT "/__web_console/repl_sessions/97c9edeca4e65a2f7bc10a31fcef18a1" for 127.0.0.1 at 2017-10-19 20:21:33 +0900
Started GET "/" for 127.0.0.1 at 2017-10-19 20:34:58 +0900
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (3.8ms)
Completed 200 OK in 63ms (Views: 54.6ms)


Started GET "/auth/chatwork" for 127.0.0.1 at 2017-10-19 20:34:59 +0900
(chatwork) Request phase initiated.
Started GET "/auth/chatwork" for 127.0.0.1 at 2017-10-19 20:35:00 +0900
(chatwork) Request phase initiated.
Started GET "/auth/chatwork/callback?code=f5093c7e34ad255399b843a0d59cd3b59ab48987c2eb5bc7630e6ae3d46c4b9ec582107b87bf0a60cbbd4a41bed643ee7a13f4b44442b92ad93e747cb505df2f&state=c971281a9d325995df1e4696a5283c370215ebe9bca5834c" for 127.0.0.1 at 2017-10-19 20:35:01 +0900
(chatwork) Callback phase initiated.
(chatwork) Authentication failure! invalid_credentials: OAuth2::Error, : 
{"errors":["Invalid API Token"]}
  
OAuth2::Error (: 
{"errors":["Invalid API Token"]}):
  
oauth2 (1.4.0) lib/oauth2/client.rb:119:in `request'
oauth2 (1.4.0) lib/oauth2/access_token.rb:107:in `request'
oauth2 (1.4.0) lib/oauth2/access_token.rb:114:in `get'
/Users/taiyop/codes/ruffnote/omniauth-chatwork/lib/omniauth/strategies/chatwork.rb:31:in `raw_info'
/Users/taiyop/codes/ruffnote/omniauth-chatwork/lib/omniauth/strategies/chatwork.rb:15:in `block in <class:ChatWork>'
omniauth (1.7.1) lib/omniauth/strategy.rb:109:in `instance_eval'
omniauth (1.7.1) lib/omniauth/strategy.rb:109:in `block in compile_stack'
omniauth (1.7.1) lib/omniauth/strategy.rb:108:in `each'
omniauth (1.7.1) lib/omniauth/strategy.rb:108:in `inject'
omniauth (1.7.1) lib/omniauth/strategy.rb:108:in `compile_stack'
omniauth (1.7.1) lib/omniauth/strategy.rb:102:in `uid_stack'
omniauth (1.7.1) lib/omniauth/strategy.rb:329:in `uid'
omniauth (1.7.1) lib/omniauth/strategy.rb:345:in `auth_hash'
omniauth (1.7.1) lib/omniauth/strategy.rb:368:in `callback_phase'
omniauth-oauth2 (1.4.0) lib/omniauth/strategies/oauth2.rb:75:in `callback_phase'
omniauth (1.7.1) lib/omniauth/strategy.rb:236:in `callback_call'
omniauth (1.7.1) lib/omniauth/strategy.rb:188:in `call!'
omniauth (1.7.1) lib/omniauth/strategy.rb:168:in `call'
omniauth (1.7.1) lib/omniauth/builder.rb:63:in `call'
rack (2.0.3) lib/rack/etag.rb:25:in `call'
rack (2.0.3) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.3) lib/rack/head.rb:12:in `call'
rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.1.4) lib/active_record/migration.rb:556:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
activesupport (5.1.4) lib/active_support/callbacks.rb:97:in `run_callbacks'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.4) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.4) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.4) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started POST "/__web_console/repl_sessions/0a76707cbd85958ddcb9c6e2eec234c5/trace" for 127.0.0.1 at 2017-10-19 20:35:07 +0900
Started GET "/" for 127.0.0.1 at 2017-10-19 20:35:16 +0900
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.5ms)
Completed 200 OK in 27ms (Views: 24.0ms)


Started GET "/auth/chatwork" for 127.0.0.1 at 2017-10-19 20:35:17 +0900
(chatwork) Request phase initiated.
Started GET "/auth/chatwork" for 127.0.0.1 at 2017-10-19 20:35:17 +0900
(chatwork) Request phase initiated.
Started GET "/auth/chatwork/callback?code=abd0f562f877a0fc829845f1a6702249919ddd83491122bbecc3d47e29f317f09b0138f761b1bc0df2cb0bf78b59300badbec971e83e0ea05692b2ca6f2ca4ee&state=f66d2b6b92b40c643aeb25db557e14732b3c996727fb956e" for 127.0.0.1 at 2017-10-19 20:35:19 +0900
(chatwork) Callback phase initiated.
(chatwork) Authentication failure! invalid_credentials: OAuth2::Error, : 
{"errors":["Invalid API Token"]}
  
OAuth2::Error (: 
{"errors":["Invalid API Token"]}):
  
oauth2 (1.4.0) lib/oauth2/client.rb:119:in `request'
oauth2 (1.4.0) lib/oauth2/access_token.rb:107:in `request'
oauth2 (1.4.0) lib/oauth2/access_token.rb:114:in `get'
/Users/taiyop/codes/ruffnote/omniauth-chatwork/lib/omniauth/strategies/chatwork.rb:31:in `raw_info'
/Users/taiyop/codes/ruffnote/omniauth-chatwork/lib/omniauth/strategies/chatwork.rb:15:in `block in <class:ChatWork>'
omniauth (1.7.1) lib/omniauth/strategy.rb:109:in `instance_eval'
omniauth (1.7.1) lib/omniauth/strategy.rb:109:in `block in compile_stack'
omniauth (1.7.1) lib/omniauth/strategy.rb:108:in `each'
omniauth (1.7.1) lib/omniauth/strategy.rb:108:in `inject'
omniauth (1.7.1) lib/omniauth/strategy.rb:108:in `compile_stack'
omniauth (1.7.1) lib/omniauth/strategy.rb:102:in `uid_stack'
omniauth (1.7.1) lib/omniauth/strategy.rb:329:in `uid'
omniauth (1.7.1) lib/omniauth/strategy.rb:345:in `auth_hash'
omniauth (1.7.1) lib/omniauth/strategy.rb:368:in `callback_phase'
omniauth-oauth2 (1.4.0) lib/omniauth/strategies/oauth2.rb:75:in `callback_phase'
omniauth (1.7.1) lib/omniauth/strategy.rb:236:in `callback_call'
omniauth (1.7.1) lib/omniauth/strategy.rb:188:in `call!'
omniauth (1.7.1) lib/omniauth/strategy.rb:168:in `call'
omniauth (1.7.1) lib/omniauth/builder.rb:63:in `call'
rack (2.0.3) lib/rack/etag.rb:25:in `call'
rack (2.0.3) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.3) lib/rack/head.rb:12:in `call'
rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.1.4) lib/active_record/migration.rb:556:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
activesupport (5.1.4) lib/active_support/callbacks.rb:97:in `run_callbacks'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.4) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.4) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.4) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started POST "/__web_console/repl_sessions/9ba9ec076dceb13e821e464859490259/trace" for 127.0.0.1 at 2017-10-19 20:35:23 +0900
Started POST "/__web_console/repl_sessions/9ba9ec076dceb13e821e464859490259/trace" for 127.0.0.1 at 2017-10-19 20:35:27 +0900
Started POST "/__web_console/repl_sessions/9ba9ec076dceb13e821e464859490259/trace" for 127.0.0.1 at 2017-10-19 20:35:28 +0900
Started POST "/__web_console/repl_sessions/9ba9ec076dceb13e821e464859490259/trace" for 127.0.0.1 at 2017-10-19 20:35:31 +0900
Started POST "/__web_console/repl_sessions/9ba9ec076dceb13e821e464859490259/trace" for 127.0.0.1 at 2017-10-19 20:35:32 +0900
Started POST "/__web_console/repl_sessions/9ba9ec076dceb13e821e464859490259/trace" for 127.0.0.1 at 2017-10-19 20:35:33 +0900
Started GET "/" for 127.0.0.1 at 2017-10-19 20:35:39 +0900
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.5ms)
Completed 200 OK in 19ms (Views: 16.4ms)


Started GET "/auth/chatwork" for 127.0.0.1 at 2017-10-19 20:35:40 +0900
(chatwork) Request phase initiated.
Started GET "/auth/chatwork" for 127.0.0.1 at 2017-10-19 20:35:40 +0900
(chatwork) Request phase initiated.
Started GET "/auth/chatwork/callback?code=82c9f5a83f78ecea8b47b92d4fcd142bfd71a1da72c32e5a29c439fba987b9f77cd4c8d31457cd6e978dc8f4837537d7749b0b83c03046e007ced2b67d6df1d0&state=3d0940a7e2df8f1d36be5427a045f1eb0a778469190ca426" for 127.0.0.1 at 2017-10-19 20:35:41 +0900
(chatwork) Callback phase initiated.
(chatwork) Authentication failure! invalid_credentials: OAuth2::Error, : 
{"errors":["Invalid API Token"]}
  
OAuth2::Error (: 
{"errors":["Invalid API Token"]}):
  
oauth2 (1.4.0) lib/oauth2/client.rb:119:in `request'
oauth2 (1.4.0) lib/oauth2/access_token.rb:107:in `request'
oauth2 (1.4.0) lib/oauth2/access_token.rb:114:in `get'
/Users/taiyop/codes/ruffnote/omniauth-chatwork/lib/omniauth/strategies/chatwork.rb:31:in `raw_info'
/Users/taiyop/codes/ruffnote/omniauth-chatwork/lib/omniauth/strategies/chatwork.rb:15:in `block in <class:ChatWork>'
omniauth (1.7.1) lib/omniauth/strategy.rb:109:in `instance_eval'
omniauth (1.7.1) lib/omniauth/strategy.rb:109:in `block in compile_stack'
omniauth (1.7.1) lib/omniauth/strategy.rb:108:in `each'
omniauth (1.7.1) lib/omniauth/strategy.rb:108:in `inject'
omniauth (1.7.1) lib/omniauth/strategy.rb:108:in `compile_stack'
omniauth (1.7.1) lib/omniauth/strategy.rb:102:in `uid_stack'
omniauth (1.7.1) lib/omniauth/strategy.rb:329:in `uid'
omniauth (1.7.1) lib/omniauth/strategy.rb:345:in `auth_hash'
omniauth (1.7.1) lib/omniauth/strategy.rb:368:in `callback_phase'
omniauth-oauth2 (1.4.0) lib/omniauth/strategies/oauth2.rb:75:in `callback_phase'
omniauth (1.7.1) lib/omniauth/strategy.rb:236:in `callback_call'
omniauth (1.7.1) lib/omniauth/strategy.rb:188:in `call!'
omniauth (1.7.1) lib/omniauth/strategy.rb:168:in `call'
omniauth (1.7.1) lib/omniauth/builder.rb:63:in `call'
rack (2.0.3) lib/rack/etag.rb:25:in `call'
rack (2.0.3) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.3) lib/rack/head.rb:12:in `call'
rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.1.4) lib/active_record/migration.rb:556:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
activesupport (5.1.4) lib/active_support/callbacks.rb:97:in `run_callbacks'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.4) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.4) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.4) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started POST "/__web_console/repl_sessions/7780d20b91be50ae7e526deeceb93394/trace" for 127.0.0.1 at 2017-10-19 20:35:45 +0900
Started POST "/__web_console/repl_sessions/7780d20b91be50ae7e526deeceb93394/trace" for 127.0.0.1 at 2017-10-19 20:35:47 +0900
Started POST "/__web_console/repl_sessions/7780d20b91be50ae7e526deeceb93394/trace" for 127.0.0.1 at 2017-10-19 20:35:51 +0900
Started POST "/__web_console/repl_sessions/7780d20b91be50ae7e526deeceb93394/trace" for 127.0.0.1 at 2017-10-19 20:35:51 +0900
Started POST "/__web_console/repl_sessions/7780d20b91be50ae7e526deeceb93394/trace" for 127.0.0.1 at 2017-10-19 20:35:52 +0900
Started GET "/" for 127.0.0.1 at 2017-10-19 20:36:21 +0900
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.5ms)
Completed 200 OK in 17ms (Views: 15.3ms)


Started GET "/auth/chatwork" for 127.0.0.1 at 2017-10-19 20:36:22 +0900
(chatwork) Request phase initiated.
Started GET "/auth/chatwork" for 127.0.0.1 at 2017-10-19 20:36:22 +0900
(chatwork) Request phase initiated.
Started GET "/auth/chatwork/callback?code=1561034b419e0e57406cf32f632855c4d6ff4174249fcb81a779001875b58915f230e35594cb933883f975aeacf5bac2ae853d116ea786e36255ad710ea37841&state=176acc71933cc44189033d2f7e45f06a6a8f80864c4395f2" for 127.0.0.1 at 2017-10-19 20:36:23 +0900
(chatwork) Callback phase initiated.
(chatwork) Authentication failure! invalid_credentials: OAuth2::Error, : 
{"errors":["Invalid API Token"]}
  
OAuth2::Error (: 
{"errors":["Invalid API Token"]}):
  
oauth2 (1.4.0) lib/oauth2/client.rb:119:in `request'
oauth2 (1.4.0) lib/oauth2/access_token.rb:107:in `request'
oauth2 (1.4.0) lib/oauth2/access_token.rb:114:in `get'
/Users/taiyop/codes/ruffnote/omniauth-chatwork/lib/omniauth/strategies/chatwork.rb:31:in `raw_info'
/Users/taiyop/codes/ruffnote/omniauth-chatwork/lib/omniauth/strategies/chatwork.rb:15:in `block in <class:ChatWork>'
omniauth (1.7.1) lib/omniauth/strategy.rb:109:in `instance_eval'
omniauth (1.7.1) lib/omniauth/strategy.rb:109:in `block in compile_stack'
omniauth (1.7.1) lib/omniauth/strategy.rb:108:in `each'
omniauth (1.7.1) lib/omniauth/strategy.rb:108:in `inject'
omniauth (1.7.1) lib/omniauth/strategy.rb:108:in `compile_stack'
omniauth (1.7.1) lib/omniauth/strategy.rb:102:in `uid_stack'
omniauth (1.7.1) lib/omniauth/strategy.rb:329:in `uid'
omniauth (1.7.1) lib/omniauth/strategy.rb:345:in `auth_hash'
omniauth (1.7.1) lib/omniauth/strategy.rb:368:in `callback_phase'
omniauth-oauth2 (1.4.0) lib/omniauth/strategies/oauth2.rb:75:in `callback_phase'
omniauth (1.7.1) lib/omniauth/strategy.rb:236:in `callback_call'
omniauth (1.7.1) lib/omniauth/strategy.rb:188:in `call!'
omniauth (1.7.1) lib/omniauth/strategy.rb:168:in `call'
omniauth (1.7.1) lib/omniauth/builder.rb:63:in `call'
rack (2.0.3) lib/rack/etag.rb:25:in `call'
rack (2.0.3) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.3) lib/rack/head.rb:12:in `call'
rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.1.4) lib/active_record/migration.rb:556:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
activesupport (5.1.4) lib/active_support/callbacks.rb:97:in `run_callbacks'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.4) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.4) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.4) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started POST "/__web_console/repl_sessions/cc70d9a6153f6010eaef0d759023a721/trace" for 127.0.0.1 at 2017-10-19 20:36:27 +0900
Started GET "/" for 127.0.0.1 at 2017-10-19 20:36:56 +0900
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.7ms)
Completed 200 OK in 23ms (Views: 21.2ms)


Started GET "/auth/chatwork" for 127.0.0.1 at 2017-10-19 20:36:57 +0900
(chatwork) Request phase initiated.
Started GET "/auth/chatwork" for 127.0.0.1 at 2017-10-19 20:36:57 +0900
(chatwork) Request phase initiated.
Started GET "/auth/chatwork/callback?code=892554bb2a97ec8e83c72b38a95acb327434e34432bf32b54908101d2b71777cc2bd0f0a84dc0b2e000944e44f88b4e4397ed5eb04cd86878289e0e884cea7f9&state=a03d81ca84871e6e31dd148a44822e2a6064e3b9a58722de" for 127.0.0.1 at 2017-10-19 20:36:58 +0900
(chatwork) Callback phase initiated.
(chatwork) Authentication failure! invalid_credentials: OAuth2::Error, : 
{"errors":["Invalid API Token"]}
  
OAuth2::Error (: 
{"errors":["Invalid API Token"]}):
  
oauth2 (1.4.0) lib/oauth2/client.rb:119:in `request'
oauth2 (1.4.0) lib/oauth2/access_token.rb:107:in `request'
oauth2 (1.4.0) lib/oauth2/access_token.rb:114:in `get'
/Users/taiyop/codes/ruffnote/omniauth-chatwork/lib/omniauth/strategies/chatwork.rb:31:in `raw_info'
/Users/taiyop/codes/ruffnote/omniauth-chatwork/lib/omniauth/strategies/chatwork.rb:15:in `block in <class:ChatWork>'
omniauth (1.7.1) lib/omniauth/strategy.rb:109:in `instance_eval'
omniauth (1.7.1) lib/omniauth/strategy.rb:109:in `block in compile_stack'
omniauth (1.7.1) lib/omniauth/strategy.rb:108:in `each'
omniauth (1.7.1) lib/omniauth/strategy.rb:108:in `inject'
omniauth (1.7.1) lib/omniauth/strategy.rb:108:in `compile_stack'
omniauth (1.7.1) lib/omniauth/strategy.rb:102:in `uid_stack'
omniauth (1.7.1) lib/omniauth/strategy.rb:329:in `uid'
omniauth (1.7.1) lib/omniauth/strategy.rb:345:in `auth_hash'
omniauth (1.7.1) lib/omniauth/strategy.rb:368:in `callback_phase'
omniauth-oauth2 (1.4.0) lib/omniauth/strategies/oauth2.rb:75:in `callback_phase'
omniauth (1.7.1) lib/omniauth/strategy.rb:236:in `callback_call'
omniauth (1.7.1) lib/omniauth/strategy.rb:188:in `call!'
omniauth (1.7.1) lib/omniauth/strategy.rb:168:in `call'
omniauth (1.7.1) lib/omniauth/builder.rb:63:in `call'
rack (2.0.3) lib/rack/etag.rb:25:in `call'
rack (2.0.3) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.3) lib/rack/head.rb:12:in `call'
rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.1.4) lib/active_record/migration.rb:556:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
activesupport (5.1.4) lib/active_support/callbacks.rb:97:in `run_callbacks'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.4) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.4) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.4) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started POST "/__web_console/repl_sessions/a3366f17231c399bad27d31cacdfb4aa/trace" for 127.0.0.1 at 2017-10-19 20:37:02 +0900
Started GET "/" for 127.0.0.1 at 2017-10-19 20:37:12 +0900
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.6ms)
Completed 200 OK in 20ms (Views: 17.9ms)


Started GET "/auth/chatwork" for 127.0.0.1 at 2017-10-19 20:37:13 +0900
(chatwork) Request phase initiated.
Started GET "/auth/chatwork" for 127.0.0.1 at 2017-10-19 20:37:13 +0900
(chatwork) Request phase initiated.
Started GET "/auth/chatwork/callback?code=0a99cdaecddd5ebf11f9740cce02eb7af9e2e84c49e355c8e7fc7a11b7891e908c16540832f225709be3a0f72d4af3e44089c0621826d7cb99b08241ec70d699&state=5046374d4e0fb44984ac1a5005a2f6dd7aa142cb50719bdc" for 127.0.0.1 at 2017-10-19 20:37:15 +0900
(chatwork) Callback phase initiated.
(chatwork) Authentication failure! invalid_credentials: OAuth2::Error, : 
{"errors":["Invalid API Token"]}
  
OAuth2::Error (: 
{"errors":["Invalid API Token"]}):
  
oauth2 (1.4.0) lib/oauth2/client.rb:119:in `request'
oauth2 (1.4.0) lib/oauth2/access_token.rb:107:in `request'
oauth2 (1.4.0) lib/oauth2/access_token.rb:114:in `get'
/Users/taiyop/codes/ruffnote/omniauth-chatwork/lib/omniauth/strategies/chatwork.rb:31:in `raw_info'
/Users/taiyop/codes/ruffnote/omniauth-chatwork/lib/omniauth/strategies/chatwork.rb:15:in `block in <class:ChatWork>'
omniauth (1.7.1) lib/omniauth/strategy.rb:109:in `instance_eval'
omniauth (1.7.1) lib/omniauth/strategy.rb:109:in `block in compile_stack'
omniauth (1.7.1) lib/omniauth/strategy.rb:108:in `each'
omniauth (1.7.1) lib/omniauth/strategy.rb:108:in `inject'
omniauth (1.7.1) lib/omniauth/strategy.rb:108:in `compile_stack'
omniauth (1.7.1) lib/omniauth/strategy.rb:102:in `uid_stack'
omniauth (1.7.1) lib/omniauth/strategy.rb:329:in `uid'
omniauth (1.7.1) lib/omniauth/strategy.rb:345:in `auth_hash'
omniauth (1.7.1) lib/omniauth/strategy.rb:368:in `callback_phase'
omniauth-oauth2 (1.4.0) lib/omniauth/strategies/oauth2.rb:75:in `callback_phase'
omniauth (1.7.1) lib/omniauth/strategy.rb:236:in `callback_call'
omniauth (1.7.1) lib/omniauth/strategy.rb:188:in `call!'
omniauth (1.7.1) lib/omniauth/strategy.rb:168:in `call'
omniauth (1.7.1) lib/omniauth/builder.rb:63:in `call'
rack (2.0.3) lib/rack/etag.rb:25:in `call'
rack (2.0.3) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.3) lib/rack/head.rb:12:in `call'
rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.1.4) lib/active_record/migration.rb:556:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
activesupport (5.1.4) lib/active_support/callbacks.rb:97:in `run_callbacks'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.4) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.4) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.4) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started POST "/__web_console/repl_sessions/0a20349ed982838b9a3a1fac2ef003b7/trace" for 127.0.0.1 at 2017-10-19 20:37:19 +0900
Started GET "/" for 127.0.0.1 at 2017-10-19 20:43:22 +0900
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.4ms)
Completed 200 OK in 409ms (Views: 232.2ms)


Started GET "/auth/chatwork" for 127.0.0.1 at 2017-10-19 20:43:24 +0900
(chatwork) Request phase initiated.
Started GET "/auth/chatwork" for 127.0.0.1 at 2017-10-19 20:43:24 +0900
(chatwork) Request phase initiated.
Started GET "/auth/chatwork/callback?code=63948111eb4026ea57b4c90de4a8d637e84ed14cf02ff64d61e9698d3776544099b8ce95e5148e2807d976983025a407d35fbb162a75ad562da18a572d3eedb9&state=f5dd27eb741d427f6530a82600d16dba67c1c2dfdf7a3efb" for 127.0.0.1 at 2017-10-19 20:43:26 +0900
(chatwork) Callback phase initiated.
Processing by WelcomeController#callback as HTML
  Parameters: {"code"=>"63948111eb4026ea57b4c90de4a8d637e84ed14cf02ff64d61e9698d3776544099b8ce95e5148e2807d976983025a407d35fbb162a75ad562da18a572d3eedb9", "state"=>"f5dd27eb741d427f6530a82600d16dba67c1c2dfdf7a3efb"}
Completed 500 Internal Server Error in 133ms


  
NameError (undefined local variable or method `auth' for #<WelcomeController:0x007f98101f03d8>):
  
app/controllers/welcome_controller.rb:6:in `callback'
Started PUT "/__web_console/repl_sessions/869d02c74d866ae79242708c13bc61d8" for 127.0.0.1 at 2017-10-19 20:43:56 +0900
Started PUT "/__web_console/repl_sessions/869d02c74d866ae79242708c13bc61d8" for 127.0.0.1 at 2017-10-19 20:43:56 +0900
Started PUT "/__web_console/repl_sessions/869d02c74d866ae79242708c13bc61d8" for 127.0.0.1 at 2017-10-19 20:43:57 +0900
Started PUT "/__web_console/repl_sessions/869d02c74d866ae79242708c13bc61d8" for 127.0.0.1 at 2017-10-19 20:44:31 +0900
Started PUT "/__web_console/repl_sessions/869d02c74d866ae79242708c13bc61d8" for 127.0.0.1 at 2017-10-19 20:44:31 +0900
Started PUT "/__web_console/repl_sessions/869d02c74d866ae79242708c13bc61d8" for 127.0.0.1 at 2017-10-19 20:44:34 +0900
Started PUT "/__web_console/repl_sessions/869d02c74d866ae79242708c13bc61d8" for 127.0.0.1 at 2017-10-19 20:44:36 +0900
Started PUT "/__web_console/repl_sessions/869d02c74d866ae79242708c13bc61d8" for 127.0.0.1 at 2017-10-19 20:44:38 +0900
Started PUT "/__web_console/repl_sessions/869d02c74d866ae79242708c13bc61d8" for 127.0.0.1 at 2017-10-19 20:45:00 +0900
Started PUT "/__web_console/repl_sessions/869d02c74d866ae79242708c13bc61d8" for 127.0.0.1 at 2017-10-19 20:45:18 +0900
Started PUT "/__web_console/repl_sessions/869d02c74d866ae79242708c13bc61d8" for 127.0.0.1 at 2017-10-19 20:45:40 +0900
Started PUT "/__web_console/repl_sessions/869d02c74d866ae79242708c13bc61d8" for 127.0.0.1 at 2017-10-19 20:45:40 +0900
Started PUT "/__web_console/repl_sessions/869d02c74d866ae79242708c13bc61d8" for 127.0.0.1 at 2017-10-19 20:45:40 +0900
Started PUT "/__web_console/repl_sessions/869d02c74d866ae79242708c13bc61d8" for 127.0.0.1 at 2017-10-19 20:45:40 +0900
Started PUT "/__web_console/repl_sessions/869d02c74d866ae79242708c13bc61d8" for 127.0.0.1 at 2017-10-19 20:45:40 +0900
Started PUT "/__web_console/repl_sessions/869d02c74d866ae79242708c13bc61d8" for 127.0.0.1 at 2017-10-19 20:45:41 +0900
Started PUT "/__web_console/repl_sessions/869d02c74d866ae79242708c13bc61d8" for 127.0.0.1 at 2017-10-19 20:47:16 +0900
Started PUT "/__web_console/repl_sessions/869d02c74d866ae79242708c13bc61d8" for 127.0.0.1 at 2017-10-19 20:47:16 +0900
Started PUT "/__web_console/repl_sessions/869d02c74d866ae79242708c13bc61d8" for 127.0.0.1 at 2017-10-19 20:47:45 +0900

NoMethodError: undefined method `map' for nil:NilClass
	from /Users/taiyop/.anyenv/envs/rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/web-console-3.5.1/lib/web_console/context.rb:35:in `local'
	from /Users/taiyop/.anyenv/envs/rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/web-console-3.5.1/lib/web_console/context.rb:14:in `extract'
	from /Users/taiyop/.anyenv/envs/rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/web-console-3.5.1/lib/web_console/session.rb:67:in `context'
	from /Users/taiyop/.anyenv/envs/rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:109:in `block in update_repl_session'
	from /Users/taiyop/.anyenv/envs/rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:72:in `block in json_response_with_session'
	from /Users/taiyop/.anyenv/envs/rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:63:in `json_response'
	from /Users/taiyop/.anyenv/envs/rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:72:in `json_response_with_session'
	from /Users/taiyop/.anyenv/envs/rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:105:in `update_repl_session'
	from /Users/taiyop/.anyenv/envs/rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:23:in `block in call'
	from /Users/taiyop/.anyenv/envs/rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch'
	from /Users/taiyop/.anyenv/envs/rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call'
	from /Users/taiyop/.anyenv/envs/rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
	from /Users/taiyop/.anyenv/envs/rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/railties-5.1.4/lib/rails/rack/logger.rb:36:in `call_app'
	from /Users/taiyop/.anyenv/envs/rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/railties-5.1.4/lib/rails/rack/logger.rb:24:in `block in call'
	from /Users/taiyop/.anyenv/envs/rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/activesupport-5.1.4/lib/active_support/tagged_logging.rb:69:in `block in tagged'
	from /Users/taiyop/.anyenv/envs/rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/activesupport-5.1.4/lib/active_support/tagged_logging.rb:26:in `tagged'
	from /Users/taiyop/.anyenv/envs/rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/activesupport-5.1.4/lib/active_support/tagged_logging.rb:69:in `tagged'
	from /Users/taiyop/.anyenv/envs/rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/railties-5.1.4/lib/rails/rack/logger.rb:24:in `call'
	from /Users/taiyop/.anyenv/envs/rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
	from /Users/taiyop/.anyenv/envs/rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
	from /Users/taiyop/.anyenv/envs/rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/request_id.rb:25:in `call'
	from /Users/taiyop/.anyenv/envs/rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call'
	from /Users/taiyop/.anyenv/envs/rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call'
	from /Users/taiyop/.anyenv/envs/rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/activesupport-5.1.4/lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
	from /Users/taiyop/.anyenv/envs/rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/executor.rb:12:in `call'
	from /Users/taiyop/.anyenv/envs/rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/static.rb:125:in `call'
	from /Users/taiyop/.anyenv/envs/rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call'
	from /Users/taiyop/.anyenv/envs/rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/railties-5.1.4/lib/rails/engine.rb:522:in `call'
	from /Users/taiyop/.anyenv/envs/rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/puma-3.10.0/lib/puma/configuration.rb:225:in `call'
	from /Users/taiyop/.anyenv/envs/rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:605:in `handle_request'
	from /Users/taiyop/.anyenv/envs/rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:437:in `process_client'
	from /Users/taiyop/.anyenv/envs/rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:301:in `block in run'
	from /Users/taiyop/.anyenv/envs/rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/puma-3.10.0/lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started PUT "/__web_console/repl_sessions/869d02c74d866ae79242708c13bc61d8" for 127.0.0.1 at 2017-10-19 20:47:45 +0900
Started PUT "/__web_console/repl_sessions/869d02c74d866ae79242708c13bc61d8" for 127.0.0.1 at 2017-10-19 20:48:04 +0900
Started PUT "/__web_console/repl_sessions/869d02c74d866ae79242708c13bc61d8" for 127.0.0.1 at 2017-10-19 20:48:07 +0900
Started PUT "/__web_console/repl_sessions/869d02c74d866ae79242708c13bc61d8" for 127.0.0.1 at 2017-10-19 20:48:11 +0900

NoMethodError: undefined method `map' for nil:NilClass
	from /Users/taiyop/.anyenv/envs/rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/web-console-3.5.1/lib/web_console/context.rb:35:in `local'
	from /Users/taiyop/.anyenv/envs/rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/web-console-3.5.1/lib/web_console/context.rb:14:in `extract'
	from /Users/taiyop/.anyenv/envs/rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/web-console-3.5.1/lib/web_console/session.rb:67:in `context'
	from /Users/taiyop/.anyenv/envs/rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:109:in `block in update_repl_session'
	from /Users/taiyop/.anyenv/envs/rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:72:in `block in json_response_with_session'
	from /Users/taiyop/.anyenv/envs/rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:63:in `json_response'
	from /Users/taiyop/.anyenv/envs/rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:72:in `json_response_with_session'
	from /Users/taiyop/.anyenv/envs/rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:105:in `update_repl_session'
	from /Users/taiyop/.anyenv/envs/rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:23:in `block in call'
	from /Users/taiyop/.anyenv/envs/rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch'
	from /Users/taiyop/.anyenv/envs/rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call'
	from /Users/taiyop/.anyenv/envs/rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
	from /Users/taiyop/.anyenv/envs/rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/railties-5.1.4/lib/rails/rack/logger.rb:36:in `call_app'
	from /Users/taiyop/.anyenv/envs/rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/railties-5.1.4/lib/rails/rack/logger.rb:24:in `block in call'
	from /Users/taiyop/.anyenv/envs/rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/activesupport-5.1.4/lib/active_support/tagged_logging.rb:69:in `block in tagged'
	from /Users/taiyop/.anyenv/envs/rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/activesupport-5.1.4/lib/active_support/tagged_logging.rb:26:in `tagged'
	from /Users/taiyop/.anyenv/envs/rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/activesupport-5.1.4/lib/active_support/tagged_logging.rb:69:in `tagged'
	from /Users/taiyop/.anyenv/envs/rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/railties-5.1.4/lib/rails/rack/logger.rb:24:in `call'
	from /Users/taiyop/.anyenv/envs/rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
	from /Users/taiyop/.anyenv/envs/rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
	from /Users/taiyop/.anyenv/envs/rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/request_id.rb:25:in `call'
	from /Users/taiyop/.anyenv/envs/rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call'
	from /Users/taiyop/.anyenv/envs/rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call'
	from /Users/taiyop/.anyenv/envs/rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/activesupport-5.1.4/lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
	from /Users/taiyop/.anyenv/envs/rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/executor.rb:12:in `call'
	from /Users/taiyop/.anyenv/envs/rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/static.rb:125:in `call'
	from /Users/taiyop/.anyenv/envs/rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call'
	from /Users/taiyop/.anyenv/envs/rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/railties-5.1.4/lib/rails/engine.rb:522:in `call'
	from /Users/taiyop/.anyenv/envs/rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/puma-3.10.0/lib/puma/configuration.rb:225:in `call'
	from /Users/taiyop/.anyenv/envs/rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:605:in `handle_request'
	from /Users/taiyop/.anyenv/envs/rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:437:in `process_client'
	from /Users/taiyop/.anyenv/envs/rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:301:in `block in run'
	from /Users/taiyop/.anyenv/envs/rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/puma-3.10.0/lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started PUT "/__web_console/repl_sessions/869d02c74d866ae79242708c13bc61d8" for 127.0.0.1 at 2017-10-19 20:48:11 +0900
Started GET "/auth/chatwork/callback?code=63948111eb4026ea57b4c90de4a8d637e84ed14cf02ff64d61e9698d3776544099b8ce95e5148e2807d976983025a407d35fbb162a75ad562da18a572d3eedb9&state=f5dd27eb741d427f6530a82600d16dba67c1c2dfdf7a3efb" for 127.0.0.1 at 2017-10-19 20:48:18 +0900
(chatwork) Callback phase initiated.
(chatwork) Authentication failure! invalid_credentials: OAuth2::Error, invalid_grant: 
{"error":"invalid_grant","error_description":null,"error_uri":null}
  
OAuth2::Error (invalid_grant: 
{"error":"invalid_grant","error_description":null,"error_uri":null}):
  
oauth2 (1.4.0) lib/oauth2/client.rb:119:in `request'
oauth2 (1.4.0) lib/oauth2/client.rb:146:in `get_token'
oauth2 (1.4.0) lib/oauth2/strategy/auth_code.rb:30:in `get_token'
omniauth-oauth2 (1.4.0) lib/omniauth/strategies/oauth2.rb:89:in `build_access_token'
omniauth-oauth2 (1.4.0) lib/omniauth/strategies/oauth2.rb:73:in `callback_phase'
omniauth (1.7.1) lib/omniauth/strategy.rb:236:in `callback_call'
omniauth (1.7.1) lib/omniauth/strategy.rb:188:in `call!'
omniauth (1.7.1) lib/omniauth/strategy.rb:168:in `call'
omniauth (1.7.1) lib/omniauth/builder.rb:63:in `call'
rack (2.0.3) lib/rack/etag.rb:25:in `call'
rack (2.0.3) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.3) lib/rack/head.rb:12:in `call'
rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.1.4) lib/active_record/migration.rb:556:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
activesupport (5.1.4) lib/active_support/callbacks.rb:97:in `run_callbacks'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.4) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.4) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.4) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2017-10-19 20:48:24 +0900
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.4ms)
Completed 200 OK in 22ms (Views: 20.0ms)


Started GET "/auth/chatwork" for 127.0.0.1 at 2017-10-19 20:48:25 +0900
(chatwork) Request phase initiated.
Started GET "/auth/chatwork" for 127.0.0.1 at 2017-10-19 20:48:25 +0900
(chatwork) Request phase initiated.
Started GET "/auth/chatwork/callback?code=68b04d87de8da65b1e7463ccbbc31381865161e1c1369265f0f94e1389c246f0ef06cb9cfcacdf04b994e80e61fe4d38b1b5a24d6a133f0164ccf1a603336c58&state=a0cfc10b19c59b39407849e0aae572178c929d958bc2c649" for 127.0.0.1 at 2017-10-19 20:48:27 +0900
(chatwork) Callback phase initiated.
Processing by WelcomeController#callback as HTML
  Parameters: {"code"=>"68b04d87de8da65b1e7463ccbbc31381865161e1c1369265f0f94e1389c246f0ef06cb9cfcacdf04b994e80e61fe4d38b1b5a24d6a133f0164ccf1a603336c58", "state"=>"a0cfc10b19c59b39407849e0aae572178c929d958bc2c649"}
Completed 500 Internal Server Error in 3ms


  
NoMethodError (undefined method `+' for nil:NilClass):
  
app/controllers/welcome_controller.rb:11:in `callback'
Started PUT "/__web_console/repl_sessions/9c85ade70935277972f444535a94c339" for 127.0.0.1 at 2017-10-19 20:48:33 +0900
Started PUT "/__web_console/repl_sessions/9c85ade70935277972f444535a94c339" for 127.0.0.1 at 2017-10-19 20:48:35 +0900
Started PUT "/__web_console/repl_sessions/9c85ade70935277972f444535a94c339" for 127.0.0.1 at 2017-10-19 20:48:39 +0900
Started PUT "/__web_console/repl_sessions/9c85ade70935277972f444535a94c339" for 127.0.0.1 at 2017-10-19 20:48:59 +0900
Started GET "/" for 127.0.0.1 at 2017-10-19 20:50:18 +0900
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.8ms)
Completed 200 OK in 28ms (Views: 25.1ms)


Started GET "/auth/chatwork" for 127.0.0.1 at 2017-10-19 20:50:20 +0900
(chatwork) Request phase initiated.
Started GET "/auth/chatwork" for 127.0.0.1 at 2017-10-19 20:50:20 +0900
(chatwork) Request phase initiated.
Started GET "/auth/chatwork/callback?code=d6c44e68fa1a72d87d497723ceaba2cd974995597d9884dc6732109df3a94110b9be0669d12b07078c05d68965a5ae049eab5fd7f80613efa860ee546cf68be5&state=d37e5421c8b303161701e6f45bc90db8cf450c972223c0a4" for 127.0.0.1 at 2017-10-19 20:50:21 +0900
(chatwork) Callback phase initiated.
Processing by WelcomeController#callback as HTML
  Parameters: {"code"=>"d6c44e68fa1a72d87d497723ceaba2cd974995597d9884dc6732109df3a94110b9be0669d12b07078c05d68965a5ae049eab5fd7f80613efa860ee546cf68be5", "state"=>"d37e5421c8b303161701e6f45bc90db8cf450c972223c0a4"}
  Rendering welcome/callback.html.erb within layouts/application
  Rendered welcome/callback.html.erb within layouts/application (0.7ms)
Completed 200 OK in 794ms (Views: 16.5ms)


Started GET "/" for 127.0.0.1 at 2017-10-19 20:57:46 +0900
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.6ms)
Completed 200 OK in 412ms (Views: 194.4ms)


Started GET "/auth/chatwork" for 127.0.0.1 at 2017-10-19 20:57:48 +0900
(chatwork) Request phase initiated.
Started GET "/auth/chatwork" for 127.0.0.1 at 2017-10-19 20:57:49 +0900
(chatwork) Request phase initiated.
Started GET "/auth/chatwork/callback?code=b795c53f3a8b08bed129676afe3c0fbda7e7ed0c0d71224ff36603daa7d59d5cc717fab27824d0c2dcdc09cecbf77ea4ed0765d8bc1dde6eabd67c085be40883&state=7d77300df5efee1d4bf8d1a9325efc69138bc326f42daf97" for 127.0.0.1 at 2017-10-19 20:57:50 +0900
(chatwork) Callback phase initiated.
  
NoMethodError (undefined method `each' for #<String:0x007fbcb3355b20>):
  
faraday (0.12.2) lib/faraday/utils.rb:87:in `merge!'
faraday (0.12.2) lib/faraday/connection.rb:381:in `block in run_request'
faraday (0.12.2) lib/faraday/connection.rb:397:in `block in build_request'
faraday (0.12.2) lib/faraday/request.rb:26:in `block in create'
faraday (0.12.2) lib/faraday/request.rb:25:in `tap'
faraday (0.12.2) lib/faraday/request.rb:25:in `create'
faraday (0.12.2) lib/faraday/connection.rb:393:in `build_request'
faraday (0.12.2) lib/faraday/connection.rb:379:in `run_request'
oauth2 (1.4.0) lib/oauth2/client.rb:99:in `request'
oauth2 (1.4.0) lib/oauth2/access_token.rb:107:in `request'
oauth2 (1.4.0) lib/oauth2/access_token.rb:114:in `get'
/Users/taiyop/codes/ruffnote/omniauth-chatwork/lib/omniauth/strategies/chatwork.rb:33:in `raw_info'
/Users/taiyop/codes/ruffnote/omniauth-chatwork/lib/omniauth/strategies/chatwork.rb:15:in `block in <class:ChatWork>'
omniauth (1.7.1) lib/omniauth/strategy.rb:109:in `instance_eval'
omniauth (1.7.1) lib/omniauth/strategy.rb:109:in `block in compile_stack'
omniauth (1.7.1) lib/omniauth/strategy.rb:108:in `each'
omniauth (1.7.1) lib/omniauth/strategy.rb:108:in `inject'
omniauth (1.7.1) lib/omniauth/strategy.rb:108:in `compile_stack'
omniauth (1.7.1) lib/omniauth/strategy.rb:102:in `uid_stack'
omniauth (1.7.1) lib/omniauth/strategy.rb:329:in `uid'
omniauth (1.7.1) lib/omniauth/strategy.rb:345:in `auth_hash'
omniauth (1.7.1) lib/omniauth/strategy.rb:368:in `callback_phase'
omniauth-oauth2 (1.4.0) lib/omniauth/strategies/oauth2.rb:75:in `callback_phase'
omniauth (1.7.1) lib/omniauth/strategy.rb:236:in `callback_call'
omniauth (1.7.1) lib/omniauth/strategy.rb:188:in `call!'
omniauth (1.7.1) lib/omniauth/strategy.rb:168:in `call'
omniauth (1.7.1) lib/omniauth/builder.rb:63:in `call'
rack (2.0.3) lib/rack/etag.rb:25:in `call'
rack (2.0.3) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.3) lib/rack/head.rb:12:in `call'
rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.1.4) lib/active_record/migration.rb:556:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
activesupport (5.1.4) lib/active_support/callbacks.rb:97:in `run_callbacks'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.4) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.4) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.4) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/auth/chatwork/callback?code=b795c53f3a8b08bed129676afe3c0fbda7e7ed0c0d71224ff36603daa7d59d5cc717fab27824d0c2dcdc09cecbf77ea4ed0765d8bc1dde6eabd67c085be40883&state=7d77300df5efee1d4bf8d1a9325efc69138bc326f42daf97" for 127.0.0.1 at 2017-10-19 20:58:30 +0900
(chatwork) Callback phase initiated.
(chatwork) Authentication failure! invalid_credentials: OAuth2::Error, invalid_grant: 
{"error":"invalid_grant","error_description":null,"error_uri":null}
  
OAuth2::Error (invalid_grant: 
{"error":"invalid_grant","error_description":null,"error_uri":null}):
  
oauth2 (1.4.0) lib/oauth2/client.rb:119:in `request'
oauth2 (1.4.0) lib/oauth2/client.rb:146:in `get_token'
oauth2 (1.4.0) lib/oauth2/strategy/auth_code.rb:30:in `get_token'
omniauth-oauth2 (1.4.0) lib/omniauth/strategies/oauth2.rb:89:in `build_access_token'
omniauth-oauth2 (1.4.0) lib/omniauth/strategies/oauth2.rb:73:in `callback_phase'
omniauth (1.7.1) lib/omniauth/strategy.rb:236:in `callback_call'
omniauth (1.7.1) lib/omniauth/strategy.rb:188:in `call!'
omniauth (1.7.1) lib/omniauth/strategy.rb:168:in `call'
omniauth (1.7.1) lib/omniauth/builder.rb:63:in `call'
rack (2.0.3) lib/rack/etag.rb:25:in `call'
rack (2.0.3) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.3) lib/rack/head.rb:12:in `call'
rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.1.4) lib/active_record/migration.rb:556:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
activesupport (5.1.4) lib/active_support/callbacks.rb:97:in `run_callbacks'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.4) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.4) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.4) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2017-10-19 20:58:34 +0900
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.5ms)
Completed 200 OK in 398ms (Views: 236.3ms)


Started GET "/auth/chatwork" for 127.0.0.1 at 2017-10-19 20:58:35 +0900
(chatwork) Request phase initiated.
Started GET "/auth/chatwork" for 127.0.0.1 at 2017-10-19 20:58:35 +0900
(chatwork) Request phase initiated.
Started GET "/auth/chatwork/callback?code=0c8078f0d8be65f125beea5573f612ed15d6e2ba2f0854d02a3c32695266d79ce5e7c1d2b2a4b6d3714595a8f54cade0c7ddeecc9d8f3141c88aa1d9c3fd8916&state=a79cc9a125d1a249b85b21f35f7c363a220da4228b4f75b6" for 127.0.0.1 at 2017-10-19 20:58:37 +0900
(chatwork) Callback phase initiated.
(chatwork) Authentication failure! invalid_credentials: OAuth2::Error, : 
{"errors":["Invalid API Token"]}
  
OAuth2::Error (: 
{"errors":["Invalid API Token"]}):
  
oauth2 (1.4.0) lib/oauth2/client.rb:119:in `request'
oauth2 (1.4.0) lib/oauth2/access_token.rb:107:in `request'
oauth2 (1.4.0) lib/oauth2/access_token.rb:114:in `get'
/Users/taiyop/codes/ruffnote/omniauth-chatwork/lib/omniauth/strategies/chatwork.rb:33:in `raw_info'
/Users/taiyop/codes/ruffnote/omniauth-chatwork/lib/omniauth/strategies/chatwork.rb:15:in `block in <class:ChatWork>'
omniauth (1.7.1) lib/omniauth/strategy.rb:109:in `instance_eval'
omniauth (1.7.1) lib/omniauth/strategy.rb:109:in `block in compile_stack'
omniauth (1.7.1) lib/omniauth/strategy.rb:108:in `each'
omniauth (1.7.1) lib/omniauth/strategy.rb:108:in `inject'
omniauth (1.7.1) lib/omniauth/strategy.rb:108:in `compile_stack'
omniauth (1.7.1) lib/omniauth/strategy.rb:102:in `uid_stack'
omniauth (1.7.1) lib/omniauth/strategy.rb:329:in `uid'
omniauth (1.7.1) lib/omniauth/strategy.rb:345:in `auth_hash'
omniauth (1.7.1) lib/omniauth/strategy.rb:368:in `callback_phase'
omniauth-oauth2 (1.4.0) lib/omniauth/strategies/oauth2.rb:75:in `callback_phase'
omniauth (1.7.1) lib/omniauth/strategy.rb:236:in `callback_call'
omniauth (1.7.1) lib/omniauth/strategy.rb:188:in `call!'
omniauth (1.7.1) lib/omniauth/strategy.rb:168:in `call'
omniauth (1.7.1) lib/omniauth/builder.rb:63:in `call'
rack (2.0.3) lib/rack/etag.rb:25:in `call'
rack (2.0.3) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.3) lib/rack/head.rb:12:in `call'
rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.1.4) lib/active_record/migration.rb:556:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
activesupport (5.1.4) lib/active_support/callbacks.rb:97:in `run_callbacks'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.4) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.4) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.4) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started POST "/__web_console/repl_sessions/cd58f28a1434d4fe0f4fe01c627e1364/trace" for 127.0.0.1 at 2017-10-19 20:58:40 +0900
Started PUT "/__web_console/repl_sessions/cd58f28a1434d4fe0f4fe01c627e1364" for 127.0.0.1 at 2017-10-19 20:58:44 +0900
Started PUT "/__web_console/repl_sessions/cd58f28a1434d4fe0f4fe01c627e1364" for 127.0.0.1 at 2017-10-19 20:58:47 +0900
Started PUT "/__web_console/repl_sessions/cd58f28a1434d4fe0f4fe01c627e1364" for 127.0.0.1 at 2017-10-19 20:58:48 +0900
Started PUT "/__web_console/repl_sessions/cd58f28a1434d4fe0f4fe01c627e1364" for 127.0.0.1 at 2017-10-19 20:58:50 +0900
Started PUT "/__web_console/repl_sessions/cd58f28a1434d4fe0f4fe01c627e1364" for 127.0.0.1 at 2017-10-19 20:58:51 +0900
Started PUT "/__web_console/repl_sessions/cd58f28a1434d4fe0f4fe01c627e1364" for 127.0.0.1 at 2017-10-19 22:38:30 +0900
Started PUT "/__web_console/repl_sessions/cd58f28a1434d4fe0f4fe01c627e1364" for 127.0.0.1 at 2017-10-19 22:38:32 +0900
Started PUT "/__web_console/repl_sessions/cd58f28a1434d4fe0f4fe01c627e1364" for 127.0.0.1 at 2017-10-19 22:38:35 +0900
Started PUT "/__web_console/repl_sessions/cd58f28a1434d4fe0f4fe01c627e1364" for 127.0.0.1 at 2017-10-19 22:38:39 +0900
Started PUT "/__web_console/repl_sessions/cd58f28a1434d4fe0f4fe01c627e1364" for 127.0.0.1 at 2017-10-19 22:38:44 +0900
Started PUT "/__web_console/repl_sessions/cd58f28a1434d4fe0f4fe01c627e1364" for 127.0.0.1 at 2017-10-19 22:38:48 +0900
Started PUT "/__web_console/repl_sessions/cd58f28a1434d4fe0f4fe01c627e1364" for 127.0.0.1 at 2017-10-19 22:38:49 +0900
Started PUT "/__web_console/repl_sessions/cd58f28a1434d4fe0f4fe01c627e1364" for 127.0.0.1 at 2017-10-19 22:38:52 +0900
Started PUT "/__web_console/repl_sessions/cd58f28a1434d4fe0f4fe01c627e1364" for 127.0.0.1 at 2017-10-19 22:38:55 +0900
Started PUT "/__web_console/repl_sessions/cd58f28a1434d4fe0f4fe01c627e1364" for 127.0.0.1 at 2017-10-19 22:39:09 +0900
Started PUT "/__web_console/repl_sessions/cd58f28a1434d4fe0f4fe01c627e1364" for 127.0.0.1 at 2017-10-19 22:39:14 +0900
Started PUT "/__web_console/repl_sessions/cd58f28a1434d4fe0f4fe01c627e1364" for 127.0.0.1 at 2017-10-19 22:39:19 +0900
Started PUT "/__web_console/repl_sessions/cd58f28a1434d4fe0f4fe01c627e1364" for 127.0.0.1 at 2017-10-19 22:39:31 +0900
Started PUT "/__web_console/repl_sessions/cd58f28a1434d4fe0f4fe01c627e1364" for 127.0.0.1 at 2017-10-19 22:39:38 +0900
Started PUT "/__web_console/repl_sessions/cd58f28a1434d4fe0f4fe01c627e1364" for 127.0.0.1 at 2017-10-19 22:39:38 +0900
Started PUT "/__web_console/repl_sessions/cd58f28a1434d4fe0f4fe01c627e1364" for 127.0.0.1 at 2017-10-19 22:39:42 +0900
Started PUT "/__web_console/repl_sessions/cd58f28a1434d4fe0f4fe01c627e1364" for 127.0.0.1 at 2017-10-19 22:39:43 +0900
Started PUT "/__web_console/repl_sessions/cd58f28a1434d4fe0f4fe01c627e1364" for 127.0.0.1 at 2017-10-19 22:39:46 +0900
Started GET "/" for 127.0.0.1 at 2017-10-19 22:39:54 +0900
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.5ms)
Completed 200 OK in 47ms (Views: 43.6ms)


Started GET "/auth/chatwork" for 127.0.0.1 at 2017-10-19 22:39:56 +0900
(chatwork) Request phase initiated.
Started GET "/auth/chatwork" for 127.0.0.1 at 2017-10-19 22:39:56 +0900
(chatwork) Request phase initiated.
Started GET "/auth/chatwork/callback?code=83b6ff1a0b6ff33673bc15ce4bd2c7b65c2e1e08fd11d01d8c7045ccb038fbd6de79253f6e00473319caf3a8292d5d8a7818e5a7489dd783a94458bd11196c1e&state=d4bd08994bbca6443ff0fa50fbd0eebea51ac37e5299ba2f" for 127.0.0.1 at 2017-10-19 22:39:58 +0900
(chatwork) Callback phase initiated.
(chatwork) Authentication failure! invalid_credentials: OAuth2::Error, : 
{"errors":["Invalid API Token"]}
  
OAuth2::Error (: 
{"errors":["Invalid API Token"]}):
  
oauth2 (1.4.0) lib/oauth2/client.rb:119:in `request'
oauth2 (1.4.0) lib/oauth2/access_token.rb:107:in `request'
oauth2 (1.4.0) lib/oauth2/access_token.rb:114:in `get'
/Users/taiyop/codes/ruffnote/omniauth-chatwork/lib/omniauth/strategies/chatwork.rb:33:in `raw_info'
/Users/taiyop/codes/ruffnote/omniauth-chatwork/lib/omniauth/strategies/chatwork.rb:15:in `block in <class:ChatWork>'
omniauth (1.7.1) lib/omniauth/strategy.rb:109:in `instance_eval'
omniauth (1.7.1) lib/omniauth/strategy.rb:109:in `block in compile_stack'
omniauth (1.7.1) lib/omniauth/strategy.rb:108:in `each'
omniauth (1.7.1) lib/omniauth/strategy.rb:108:in `inject'
omniauth (1.7.1) lib/omniauth/strategy.rb:108:in `compile_stack'
omniauth (1.7.1) lib/omniauth/strategy.rb:102:in `uid_stack'
omniauth (1.7.1) lib/omniauth/strategy.rb:329:in `uid'
omniauth (1.7.1) lib/omniauth/strategy.rb:345:in `auth_hash'
omniauth (1.7.1) lib/omniauth/strategy.rb:368:in `callback_phase'
omniauth-oauth2 (1.4.0) lib/omniauth/strategies/oauth2.rb:75:in `callback_phase'
omniauth (1.7.1) lib/omniauth/strategy.rb:236:in `callback_call'
omniauth (1.7.1) lib/omniauth/strategy.rb:188:in `call!'
omniauth (1.7.1) lib/omniauth/strategy.rb:168:in `call'
omniauth (1.7.1) lib/omniauth/builder.rb:63:in `call'
rack (2.0.3) lib/rack/etag.rb:25:in `call'
rack (2.0.3) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.3) lib/rack/head.rb:12:in `call'
rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.1.4) lib/active_record/migration.rb:556:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
activesupport (5.1.4) lib/active_support/callbacks.rb:97:in `run_callbacks'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.4) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.4) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.4) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started PUT "/__web_console/repl_sessions/5e443d41707854a12bd21b55ef049ae3" for 127.0.0.1 at 2017-10-19 22:40:01 +0900
Started PUT "/__web_console/repl_sessions/5e443d41707854a12bd21b55ef049ae3" for 127.0.0.1 at 2017-10-19 22:40:05 +0900
Started PUT "/__web_console/repl_sessions/5e443d41707854a12bd21b55ef049ae3" for 127.0.0.1 at 2017-10-19 22:40:06 +0900
Started PUT "/__web_console/repl_sessions/5e443d41707854a12bd21b55ef049ae3" for 127.0.0.1 at 2017-10-19 22:40:08 +0900
Started PUT "/__web_console/repl_sessions/5e443d41707854a12bd21b55ef049ae3" for 127.0.0.1 at 2017-10-19 22:40:10 +0900
Started PUT "/__web_console/repl_sessions/5e443d41707854a12bd21b55ef049ae3" for 127.0.0.1 at 2017-10-19 22:40:11 +0900
Started PUT "/__web_console/repl_sessions/5e443d41707854a12bd21b55ef049ae3" for 127.0.0.1 at 2017-10-19 22:40:16 +0900
Started PUT "/__web_console/repl_sessions/5e443d41707854a12bd21b55ef049ae3" for 127.0.0.1 at 2017-10-19 22:40:17 +0900
Started PUT "/__web_console/repl_sessions/5e443d41707854a12bd21b55ef049ae3" for 127.0.0.1 at 2017-10-19 22:40:19 +0900
Started PUT "/__web_console/repl_sessions/5e443d41707854a12bd21b55ef049ae3" for 127.0.0.1 at 2017-10-19 22:40:20 +0900
Started PUT "/__web_console/repl_sessions/5e443d41707854a12bd21b55ef049ae3" for 127.0.0.1 at 2017-10-19 22:40:21 +0900
Started POST "/__web_console/repl_sessions/5e443d41707854a12bd21b55ef049ae3/trace" for 127.0.0.1 at 2017-10-19 22:40:24 +0900
Started PUT "/__web_console/repl_sessions/5e443d41707854a12bd21b55ef049ae3" for 127.0.0.1 at 2017-10-19 22:40:25 +0900
Started PUT "/__web_console/repl_sessions/5e443d41707854a12bd21b55ef049ae3" for 127.0.0.1 at 2017-10-19 22:40:26 +0900
Started PUT "/__web_console/repl_sessions/5e443d41707854a12bd21b55ef049ae3" for 127.0.0.1 at 2017-10-19 22:40:27 +0900
Started PUT "/__web_console/repl_sessions/5e443d41707854a12bd21b55ef049ae3" for 127.0.0.1 at 2017-10-19 22:40:29 +0900
Started PUT "/__web_console/repl_sessions/5e443d41707854a12bd21b55ef049ae3" for 127.0.0.1 at 2017-10-19 22:40:31 +0900
Started PUT "/__web_console/repl_sessions/5e443d41707854a12bd21b55ef049ae3" for 127.0.0.1 at 2017-10-19 22:40:35 +0900
Started PUT "/__web_console/repl_sessions/5e443d41707854a12bd21b55ef049ae3" for 127.0.0.1 at 2017-10-19 22:40:48 +0900
Started PUT "/__web_console/repl_sessions/5e443d41707854a12bd21b55ef049ae3" for 127.0.0.1 at 2017-10-19 22:40:49 +0900
Started GET "/" for 127.0.0.1 at 2017-10-19 22:42:43 +0900
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.4ms)
Completed 200 OK in 401ms (Views: 229.9ms)


Started GET "/auth/chatwork" for 127.0.0.1 at 2017-10-19 22:42:45 +0900
(chatwork) Request phase initiated.
Started GET "/auth/chatwork" for 127.0.0.1 at 2017-10-19 22:42:45 +0900
(chatwork) Request phase initiated.
Started GET "/auth/chatwork/callback?code=8cf23e340fc8936ca59d82adc51603168cedff0bef392f83c9bb4e7055ec49b0f5eb622551e1edb8c208ffb66e7b6f66b2a19d4a0de0e91ee76b166d131c0dbc&state=1d18768fe214d918be8d133b65ced54e10ffecc5588b98d5" for 127.0.0.1 at 2017-10-19 22:42:47 +0900
(chatwork) Callback phase initiated.
Processing by WelcomeController#callback as HTML
  Parameters: {"code"=>"8cf23e340fc8936ca59d82adc51603168cedff0bef392f83c9bb4e7055ec49b0f5eb622551e1edb8c208ffb66e7b6f66b2a19d4a0de0e91ee76b166d131c0dbc", "state"=>"1d18768fe214d918be8d133b65ced54e10ffecc5588b98d5"}
Completed 500 Internal Server Error in 179ms


  
NameError (undefined local variable or method `hogehoge' for #<WelcomeController:0x007f85842e16c8>):
  
app/controllers/welcome_controller.rb:11:in `callback'
Started PUT "/__web_console/repl_sessions/882b74daceb53a052764136cdef82a6d" for 127.0.0.1 at 2017-10-19 22:42:51 +0900
Started PUT "/__web_console/repl_sessions/882b74daceb53a052764136cdef82a6d" for 127.0.0.1 at 2017-10-19 22:42:52 +0900
Started PUT "/__web_console/repl_sessions/882b74daceb53a052764136cdef82a6d" for 127.0.0.1 at 2017-10-19 22:42:53 +0900
Started PUT "/__web_console/repl_sessions/882b74daceb53a052764136cdef82a6d" for 127.0.0.1 at 2017-10-19 22:43:05 +0900
Started PUT "/__web_console/repl_sessions/882b74daceb53a052764136cdef82a6d" for 127.0.0.1 at 2017-10-19 22:43:06 +0900
Started GET "/" for 127.0.0.1 at 2017-10-19 22:44:16 +0900
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.4ms)
Completed 200 OK in 404ms (Views: 235.5ms)


Started GET "/auth/chatwork" for 127.0.0.1 at 2017-10-19 22:44:18 +0900
(chatwork) Request phase initiated.
Started GET "/auth/chatwork" for 127.0.0.1 at 2017-10-19 22:44:18 +0900
(chatwork) Request phase initiated.
Started GET "/auth/chatwork/callback?code=b7aedfd5daa6b9a4b840fae46ee9c0748f8d5583258bf1eef1df488899788552d6cd663c14149ea60c8ca3f2ae8c6f561f0722b6237945da01deaad4e6cc3832&state=42a1f1f3381395994bf77abb12168cc29aa2c7229915b202" for 127.0.0.1 at 2017-10-19 22:44:20 +0900
(chatwork) Callback phase initiated.
(chatwork) Authentication failure! invalid_credentials: OAuth2::Error, invalid_client: 
{"error":"invalid_client","error_description":null,"error_uri":null}
  
OAuth2::Error (invalid_client: 
{"error":"invalid_client","error_description":null,"error_uri":null}):
  
oauth2 (1.4.0) lib/oauth2/client.rb:119:in `request'
oauth2 (1.4.0) lib/oauth2/client.rb:146:in `get_token'
oauth2 (1.4.0) lib/oauth2/strategy/auth_code.rb:30:in `get_token'
omniauth-oauth2 (1.4.0) lib/omniauth/strategies/oauth2.rb:89:in `build_access_token'
omniauth-oauth2 (1.4.0) lib/omniauth/strategies/oauth2.rb:73:in `callback_phase'
omniauth (1.7.1) lib/omniauth/strategy.rb:236:in `callback_call'
omniauth (1.7.1) lib/omniauth/strategy.rb:188:in `call!'
omniauth (1.7.1) lib/omniauth/strategy.rb:168:in `call'
omniauth (1.7.1) lib/omniauth/builder.rb:63:in `call'
rack (2.0.3) lib/rack/etag.rb:25:in `call'
rack (2.0.3) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.3) lib/rack/head.rb:12:in `call'
rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.1.4) lib/active_record/migration.rb:556:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
activesupport (5.1.4) lib/active_support/callbacks.rb:97:in `run_callbacks'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.4) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.4) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.4) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started POST "/__web_console/repl_sessions/2bcbc8b02aab6404fde2af72dca5e191/trace" for 127.0.0.1 at 2017-10-19 22:44:30 +0900
Started GET "/" for 127.0.0.1 at 2017-10-19 22:54:35 +0900
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.6ms)
Completed 200 OK in 448ms (Views: 220.9ms)


Started GET "/auth/chatwork" for 127.0.0.1 at 2017-10-19 22:54:37 +0900
(chatwork) Request phase initiated.
Started GET "/auth/chatwork" for 127.0.0.1 at 2017-10-19 22:54:37 +0900
(chatwork) Request phase initiated.
Started GET "/auth/chatwork/callback?code=cfd1c58e5ae1e7fbb8d0a99d1d0308282030d5a4d997c15e671639b9eb8456ca37f5b87ab7fcc00d5f8b8722dbb8814f193b6062f45724d665afb9d2909f0781&state=6d9b23404856926674cb652446c2226f0af639d05d1f52c0" for 127.0.0.1 at 2017-10-19 22:54:39 +0900
(chatwork) Callback phase initiated.
(chatwork) Authentication failure! invalid_credentials: OAuth2::Error, : 
{"errors":["Invalid API Token"]}
  
OAuth2::Error (: 
{"errors":["Invalid API Token"]}):
  
oauth2 (1.4.0) lib/oauth2/client.rb:119:in `request'
oauth2 (1.4.0) lib/oauth2/access_token.rb:107:in `request'
oauth2 (1.4.0) lib/oauth2/access_token.rb:114:in `get'
/Users/taiyop/codes/ruffnote/omniauth-chatwork/lib/omniauth/strategies/chatwork.rb:32:in `raw_info'
/Users/taiyop/codes/ruffnote/omniauth-chatwork/lib/omniauth/strategies/chatwork.rb:15:in `block in <class:ChatWork>'
omniauth (1.7.1) lib/omniauth/strategy.rb:109:in `instance_eval'
omniauth (1.7.1) lib/omniauth/strategy.rb:109:in `block in compile_stack'
omniauth (1.7.1) lib/omniauth/strategy.rb:108:in `each'
omniauth (1.7.1) lib/omniauth/strategy.rb:108:in `inject'
omniauth (1.7.1) lib/omniauth/strategy.rb:108:in `compile_stack'
omniauth (1.7.1) lib/omniauth/strategy.rb:102:in `uid_stack'
omniauth (1.7.1) lib/omniauth/strategy.rb:329:in `uid'
omniauth (1.7.1) lib/omniauth/strategy.rb:345:in `auth_hash'
omniauth (1.7.1) lib/omniauth/strategy.rb:368:in `callback_phase'
omniauth-oauth2 (1.4.0) lib/omniauth/strategies/oauth2.rb:75:in `callback_phase'
omniauth (1.7.1) lib/omniauth/strategy.rb:236:in `callback_call'
omniauth (1.7.1) lib/omniauth/strategy.rb:188:in `call!'
omniauth (1.7.1) lib/omniauth/strategy.rb:168:in `call'
omniauth (1.7.1) lib/omniauth/builder.rb:63:in `call'
rack (2.0.3) lib/rack/etag.rb:25:in `call'
rack (2.0.3) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.3) lib/rack/head.rb:12:in `call'
rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.1.4) lib/active_record/migration.rb:556:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
activesupport (5.1.4) lib/active_support/callbacks.rb:97:in `run_callbacks'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.4) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.4) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.4) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started POST "/__web_console/repl_sessions/7b1ca66cd7389328fc8466f80645ef1a/trace" for 127.0.0.1 at 2017-10-19 22:54:46 +0900
Started PUT "/__web_console/repl_sessions/7b1ca66cd7389328fc8466f80645ef1a" for 127.0.0.1 at 2017-10-19 22:54:47 +0900
Started PUT "/__web_console/repl_sessions/7b1ca66cd7389328fc8466f80645ef1a" for 127.0.0.1 at 2017-10-19 22:54:49 +0900
Started PUT "/__web_console/repl_sessions/7b1ca66cd7389328fc8466f80645ef1a" for 127.0.0.1 at 2017-10-19 22:54:50 +0900
Started PUT "/__web_console/repl_sessions/7b1ca66cd7389328fc8466f80645ef1a" for 127.0.0.1 at 2017-10-19 22:54:50 +0900
Started PUT "/__web_console/repl_sessions/7b1ca66cd7389328fc8466f80645ef1a" for 127.0.0.1 at 2017-10-19 22:54:55 +0900
Started PUT "/__web_console/repl_sessions/7b1ca66cd7389328fc8466f80645ef1a" for 127.0.0.1 at 2017-10-19 22:54:58 +0900
Started PUT "/__web_console/repl_sessions/7b1ca66cd7389328fc8466f80645ef1a" for 127.0.0.1 at 2017-10-19 22:55:38 +0900
Started PUT "/__web_console/repl_sessions/7b1ca66cd7389328fc8466f80645ef1a" for 127.0.0.1 at 2017-10-19 22:55:44 +0900
Started PUT "/__web_console/repl_sessions/7b1ca66cd7389328fc8466f80645ef1a" for 127.0.0.1 at 2017-10-19 22:55:45 +0900
Started PUT "/__web_console/repl_sessions/7b1ca66cd7389328fc8466f80645ef1a" for 127.0.0.1 at 2017-10-19 22:55:47 +0900
Started PUT "/__web_console/repl_sessions/7b1ca66cd7389328fc8466f80645ef1a" for 127.0.0.1 at 2017-10-19 22:57:59 +0900
Started PUT "/__web_console/repl_sessions/7b1ca66cd7389328fc8466f80645ef1a" for 127.0.0.1 at 2017-10-19 22:58:04 +0900
Started PUT "/__web_console/repl_sessions/7b1ca66cd7389328fc8466f80645ef1a" for 127.0.0.1 at 2017-10-19 22:58:07 +0900
Started PUT "/__web_console/repl_sessions/7b1ca66cd7389328fc8466f80645ef1a" for 127.0.0.1 at 2017-10-19 22:58:27 +0900
Started PUT "/__web_console/repl_sessions/7b1ca66cd7389328fc8466f80645ef1a" for 127.0.0.1 at 2017-10-19 22:58:33 +0900
Started PUT "/__web_console/repl_sessions/7b1ca66cd7389328fc8466f80645ef1a" for 127.0.0.1 at 2017-10-19 22:58:54 +0900
Started PUT "/__web_console/repl_sessions/7b1ca66cd7389328fc8466f80645ef1a" for 127.0.0.1 at 2017-10-19 22:59:00 +0900
Started PUT "/__web_console/repl_sessions/7b1ca66cd7389328fc8466f80645ef1a" for 127.0.0.1 at 2017-10-19 22:59:08 +0900
Started PUT "/__web_console/repl_sessions/7b1ca66cd7389328fc8466f80645ef1a" for 127.0.0.1 at 2017-10-19 22:59:09 +0900
Started POST "/__web_console/repl_sessions/7b1ca66cd7389328fc8466f80645ef1a/trace" for 127.0.0.1 at 2017-10-19 22:59:47 +0900
Started PUT "/__web_console/repl_sessions/7b1ca66cd7389328fc8466f80645ef1a" for 127.0.0.1 at 2017-10-19 22:59:53 +0900
Started PUT "/__web_console/repl_sessions/7b1ca66cd7389328fc8466f80645ef1a" for 127.0.0.1 at 2017-10-19 22:59:53 +0900
Started PUT "/__web_console/repl_sessions/7b1ca66cd7389328fc8466f80645ef1a" for 127.0.0.1 at 2017-10-19 23:00:04 +0900
Started PUT "/__web_console/repl_sessions/7b1ca66cd7389328fc8466f80645ef1a" for 127.0.0.1 at 2017-10-19 23:00:04 +0900
Started PUT "/__web_console/repl_sessions/7b1ca66cd7389328fc8466f80645ef1a" for 127.0.0.1 at 2017-10-19 23:00:09 +0900
Started PUT "/__web_console/repl_sessions/7b1ca66cd7389328fc8466f80645ef1a" for 127.0.0.1 at 2017-10-19 23:00:11 +0900
Started PUT "/__web_console/repl_sessions/7b1ca66cd7389328fc8466f80645ef1a" for 127.0.0.1 at 2017-10-19 23:00:12 +0900
Started PUT "/__web_console/repl_sessions/7b1ca66cd7389328fc8466f80645ef1a" for 127.0.0.1 at 2017-10-19 23:00:21 +0900
Started PUT "/__web_console/repl_sessions/7b1ca66cd7389328fc8466f80645ef1a" for 127.0.0.1 at 2017-10-19 23:00:21 +0900
Started PUT "/__web_console/repl_sessions/7b1ca66cd7389328fc8466f80645ef1a" for 127.0.0.1 at 2017-10-19 23:00:22 +0900
Started PUT "/__web_console/repl_sessions/7b1ca66cd7389328fc8466f80645ef1a" for 127.0.0.1 at 2017-10-19 23:00:22 +0900
Started PUT "/__web_console/repl_sessions/7b1ca66cd7389328fc8466f80645ef1a" for 127.0.0.1 at 2017-10-19 23:00:30 +0900
Started PUT "/__web_console/repl_sessions/7b1ca66cd7389328fc8466f80645ef1a" for 127.0.0.1 at 2017-10-19 23:00:31 +0900
Started PUT "/__web_console/repl_sessions/7b1ca66cd7389328fc8466f80645ef1a" for 127.0.0.1 at 2017-10-19 23:00:33 +0900
Started PUT "/__web_console/repl_sessions/7b1ca66cd7389328fc8466f80645ef1a" for 127.0.0.1 at 2017-10-19 23:00:35 +0900
Started PUT "/__web_console/repl_sessions/7b1ca66cd7389328fc8466f80645ef1a" for 127.0.0.1 at 2017-10-19 23:00:36 +0900
Started PUT "/__web_console/repl_sessions/7b1ca66cd7389328fc8466f80645ef1a" for 127.0.0.1 at 2017-10-19 23:00:37 +0900
Started PUT "/__web_console/repl_sessions/7b1ca66cd7389328fc8466f80645ef1a" for 127.0.0.1 at 2017-10-19 23:00:39 +0900
Started PUT "/__web_console/repl_sessions/7b1ca66cd7389328fc8466f80645ef1a" for 127.0.0.1 at 2017-10-19 23:00:42 +0900
Started PUT "/__web_console/repl_sessions/7b1ca66cd7389328fc8466f80645ef1a" for 127.0.0.1 at 2017-10-19 23:00:47 +0900
Started PUT "/__web_console/repl_sessions/7b1ca66cd7389328fc8466f80645ef1a" for 127.0.0.1 at 2017-10-19 23:00:50 +0900
Started PUT "/__web_console/repl_sessions/7b1ca66cd7389328fc8466f80645ef1a" for 127.0.0.1 at 2017-10-19 23:00:59 +0900
Started PUT "/__web_console/repl_sessions/7b1ca66cd7389328fc8466f80645ef1a" for 127.0.0.1 at 2017-10-19 23:01:03 +0900
Started PUT "/__web_console/repl_sessions/7b1ca66cd7389328fc8466f80645ef1a" for 127.0.0.1 at 2017-10-19 23:01:07 +0900
Started PUT "/__web_console/repl_sessions/7b1ca66cd7389328fc8466f80645ef1a" for 127.0.0.1 at 2017-10-19 23:01:11 +0900
Started PUT "/__web_console/repl_sessions/7b1ca66cd7389328fc8466f80645ef1a" for 127.0.0.1 at 2017-10-19 23:01:16 +0900
Started PUT "/__web_console/repl_sessions/7b1ca66cd7389328fc8466f80645ef1a" for 127.0.0.1 at 2017-10-19 23:01:25 +0900
Started PUT "/__web_console/repl_sessions/7b1ca66cd7389328fc8466f80645ef1a" for 127.0.0.1 at 2017-10-19 23:06:07 +0900
Started PUT "/__web_console/repl_sessions/7b1ca66cd7389328fc8466f80645ef1a" for 127.0.0.1 at 2017-10-19 23:06:07 +0900
Started PUT "/__web_console/repl_sessions/7b1ca66cd7389328fc8466f80645ef1a" for 127.0.0.1 at 2017-10-19 23:06:11 +0900
Started PUT "/__web_console/repl_sessions/7b1ca66cd7389328fc8466f80645ef1a" for 127.0.0.1 at 2017-10-19 23:06:29 +0900
Started PUT "/__web_console/repl_sessions/7b1ca66cd7389328fc8466f80645ef1a" for 127.0.0.1 at 2017-10-19 23:06:30 +0900
Started PUT "/__web_console/repl_sessions/7b1ca66cd7389328fc8466f80645ef1a" for 127.0.0.1 at 2017-10-19 23:06:34 +0900
Started PUT "/__web_console/repl_sessions/7b1ca66cd7389328fc8466f80645ef1a" for 127.0.0.1 at 2017-10-19 23:06:40 +0900
Started PUT "/__web_console/repl_sessions/7b1ca66cd7389328fc8466f80645ef1a" for 127.0.0.1 at 2017-10-19 23:06:45 +0900
Started PUT "/__web_console/repl_sessions/7b1ca66cd7389328fc8466f80645ef1a" for 127.0.0.1 at 2017-10-19 23:06:59 +0900
Started PUT "/__web_console/repl_sessions/7b1ca66cd7389328fc8466f80645ef1a" for 127.0.0.1 at 2017-10-19 23:07:00 +0900
Started PUT "/__web_console/repl_sessions/7b1ca66cd7389328fc8466f80645ef1a" for 127.0.0.1 at 2017-10-19 23:07:17 +0900
Started PUT "/__web_console/repl_sessions/7b1ca66cd7389328fc8466f80645ef1a" for 127.0.0.1 at 2017-10-19 23:07:18 +0900
Started PUT "/__web_console/repl_sessions/7b1ca66cd7389328fc8466f80645ef1a" for 127.0.0.1 at 2017-10-19 23:07:19 +0900
Started PUT "/__web_console/repl_sessions/7b1ca66cd7389328fc8466f80645ef1a" for 127.0.0.1 at 2017-10-19 23:07:27 +0900
Started PUT "/__web_console/repl_sessions/7b1ca66cd7389328fc8466f80645ef1a" for 127.0.0.1 at 2017-10-19 23:07:28 +0900
Started PUT "/__web_console/repl_sessions/7b1ca66cd7389328fc8466f80645ef1a" for 127.0.0.1 at 2017-10-19 23:07:29 +0900
Started PUT "/__web_console/repl_sessions/7b1ca66cd7389328fc8466f80645ef1a" for 127.0.0.1 at 2017-10-19 23:08:15 +0900
Started PUT "/__web_console/repl_sessions/7b1ca66cd7389328fc8466f80645ef1a" for 127.0.0.1 at 2017-10-19 23:08:29 +0900
Started PUT "/__web_console/repl_sessions/7b1ca66cd7389328fc8466f80645ef1a" for 127.0.0.1 at 2017-10-19 23:08:33 +0900
Started PUT "/__web_console/repl_sessions/7b1ca66cd7389328fc8466f80645ef1a" for 127.0.0.1 at 2017-10-19 23:08:38 +0900
Started PUT "/__web_console/repl_sessions/7b1ca66cd7389328fc8466f80645ef1a" for 127.0.0.1 at 2017-10-19 23:08:44 +0900
Started PUT "/__web_console/repl_sessions/7b1ca66cd7389328fc8466f80645ef1a" for 127.0.0.1 at 2017-10-19 23:08:57 +0900
Started PUT "/__web_console/repl_sessions/7b1ca66cd7389328fc8466f80645ef1a" for 127.0.0.1 at 2017-10-19 23:09:09 +0900
Started PUT "/__web_console/repl_sessions/7b1ca66cd7389328fc8466f80645ef1a" for 127.0.0.1 at 2017-10-19 23:09:11 +0900
Started PUT "/__web_console/repl_sessions/7b1ca66cd7389328fc8466f80645ef1a" for 127.0.0.1 at 2017-10-19 23:09:23 +0900
Started POST "/__web_console/repl_sessions/7b1ca66cd7389328fc8466f80645ef1a/trace" for 127.0.0.1 at 2017-10-19 23:09:34 +0900
Started GET "/" for 127.0.0.1 at 2017-10-19 23:09:39 +0900
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (2.1ms)
Completed 200 OK in 45ms (Views: 38.5ms)


Started GET "/auth/chatwork" for 127.0.0.1 at 2017-10-19 23:09:41 +0900
(chatwork) Request phase initiated.
Started GET "/auth/chatwork" for 127.0.0.1 at 2017-10-19 23:09:41 +0900
(chatwork) Request phase initiated.
Started GET "/auth/chatwork/callback?code=3ad47a992c3109cd555dfcf0af0d628ca5dbcf1ab6cbbb8a935a5f0006173bca49ed3a0ac61e5f194b802326ac91d4add647c1633425b5be395216b388665021&state=8e2072c70798b8bae5cc3773bd7a543cdfa8f5cde4887294" for 127.0.0.1 at 2017-10-19 23:09:43 +0900
(chatwork) Callback phase initiated.
(chatwork) Authentication failure! invalid_credentials: OAuth2::Error, : 
{"errors":["Invalid API Token"]}
  
OAuth2::Error (: 
{"errors":["Invalid API Token"]}):
  
oauth2 (1.4.0) lib/oauth2/client.rb:119:in `request'
oauth2 (1.4.0) lib/oauth2/access_token.rb:107:in `request'
oauth2 (1.4.0) lib/oauth2/access_token.rb:114:in `get'
/Users/taiyop/codes/ruffnote/omniauth-chatwork/lib/omniauth/strategies/chatwork.rb:32:in `raw_info'
/Users/taiyop/codes/ruffnote/omniauth-chatwork/lib/omniauth/strategies/chatwork.rb:15:in `block in <class:ChatWork>'
omniauth (1.7.1) lib/omniauth/strategy.rb:109:in `instance_eval'
omniauth (1.7.1) lib/omniauth/strategy.rb:109:in `block in compile_stack'
omniauth (1.7.1) lib/omniauth/strategy.rb:108:in `each'
omniauth (1.7.1) lib/omniauth/strategy.rb:108:in `inject'
omniauth (1.7.1) lib/omniauth/strategy.rb:108:in `compile_stack'
omniauth (1.7.1) lib/omniauth/strategy.rb:102:in `uid_stack'
omniauth (1.7.1) lib/omniauth/strategy.rb:329:in `uid'
omniauth (1.7.1) lib/omniauth/strategy.rb:345:in `auth_hash'
omniauth (1.7.1) lib/omniauth/strategy.rb:368:in `callback_phase'
omniauth-oauth2 (1.4.0) lib/omniauth/strategies/oauth2.rb:75:in `callback_phase'
omniauth (1.7.1) lib/omniauth/strategy.rb:236:in `callback_call'
omniauth (1.7.1) lib/omniauth/strategy.rb:188:in `call!'
omniauth (1.7.1) lib/omniauth/strategy.rb:168:in `call'
omniauth (1.7.1) lib/omniauth/builder.rb:63:in `call'
rack (2.0.3) lib/rack/etag.rb:25:in `call'
rack (2.0.3) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.3) lib/rack/head.rb:12:in `call'
rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.1.4) lib/active_record/migration.rb:556:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
activesupport (5.1.4) lib/active_support/callbacks.rb:97:in `run_callbacks'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.4) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.4) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.4) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started POST "/__web_console/repl_sessions/d3aa1d309a34dcf7ddcb5ad294681c78/trace" for 127.0.0.1 at 2017-10-19 23:09:46 +0900
Started PUT "/__web_console/repl_sessions/d3aa1d309a34dcf7ddcb5ad294681c78" for 127.0.0.1 at 2017-10-19 23:09:47 +0900
Started PUT "/__web_console/repl_sessions/d3aa1d309a34dcf7ddcb5ad294681c78" for 127.0.0.1 at 2017-10-19 23:09:49 +0900
Started PUT "/__web_console/repl_sessions/d3aa1d309a34dcf7ddcb5ad294681c78" for 127.0.0.1 at 2017-10-19 23:10:39 +0900
Started PUT "/__web_console/repl_sessions/d3aa1d309a34dcf7ddcb5ad294681c78" for 127.0.0.1 at 2017-10-19 23:10:41 +0900
Started PUT "/__web_console/repl_sessions/d3aa1d309a34dcf7ddcb5ad294681c78" for 127.0.0.1 at 2017-10-19 23:12:48 +0900
Started PUT "/__web_console/repl_sessions/d3aa1d309a34dcf7ddcb5ad294681c78" for 127.0.0.1 at 2017-10-19 23:14:03 +0900
Started PUT "/__web_console/repl_sessions/d3aa1d309a34dcf7ddcb5ad294681c78" for 127.0.0.1 at 2017-10-19 23:15:42 +0900
Started GET "/" for 127.0.0.1 at 2017-10-19 23:15:46 +0900
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.4ms)
Completed 200 OK in 59ms (Views: 55.4ms)


Started GET "/auth/chatwork" for 127.0.0.1 at 2017-10-19 23:15:47 +0900
(chatwork) Request phase initiated.
Started GET "/auth/chatwork" for 127.0.0.1 at 2017-10-19 23:15:47 +0900
(chatwork) Request phase initiated.
Started GET "/auth/chatwork/callback?code=44459abb6ebcef1c1b158cb5ebdfa43ff8d2b1d2989cd955b48fa9a9640e66074508198d953c5add6b6bb224b22f472fa3b24193d140a67fa009634d763d0800&state=ffa1e2bc473b656bf30be84adde9bccad0f87998e02459c3" for 127.0.0.1 at 2017-10-19 23:15:49 +0900
(chatwork) Callback phase initiated.
(chatwork) Authentication failure! invalid_credentials: OAuth2::Error, : 
{"errors":["Invalid API Token"]}
  
OAuth2::Error (: 
{"errors":["Invalid API Token"]}):
  
oauth2 (1.4.0) lib/oauth2/client.rb:119:in `request'
oauth2 (1.4.0) lib/oauth2/access_token.rb:107:in `request'
oauth2 (1.4.0) lib/oauth2/access_token.rb:114:in `get'
/Users/taiyop/codes/ruffnote/omniauth-chatwork/lib/omniauth/strategies/chatwork.rb:32:in `raw_info'
/Users/taiyop/codes/ruffnote/omniauth-chatwork/lib/omniauth/strategies/chatwork.rb:15:in `block in <class:ChatWork>'
omniauth (1.7.1) lib/omniauth/strategy.rb:109:in `instance_eval'
omniauth (1.7.1) lib/omniauth/strategy.rb:109:in `block in compile_stack'
omniauth (1.7.1) lib/omniauth/strategy.rb:108:in `each'
omniauth (1.7.1) lib/omniauth/strategy.rb:108:in `inject'
omniauth (1.7.1) lib/omniauth/strategy.rb:108:in `compile_stack'
omniauth (1.7.1) lib/omniauth/strategy.rb:102:in `uid_stack'
omniauth (1.7.1) lib/omniauth/strategy.rb:329:in `uid'
omniauth (1.7.1) lib/omniauth/strategy.rb:345:in `auth_hash'
omniauth (1.7.1) lib/omniauth/strategy.rb:368:in `callback_phase'
omniauth-oauth2 (1.4.0) lib/omniauth/strategies/oauth2.rb:75:in `callback_phase'
omniauth (1.7.1) lib/omniauth/strategy.rb:236:in `callback_call'
omniauth (1.7.1) lib/omniauth/strategy.rb:188:in `call!'
omniauth (1.7.1) lib/omniauth/strategy.rb:168:in `call'
omniauth (1.7.1) lib/omniauth/builder.rb:63:in `call'
rack (2.0.3) lib/rack/etag.rb:25:in `call'
rack (2.0.3) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.3) lib/rack/head.rb:12:in `call'
rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.1.4) lib/active_record/migration.rb:556:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
activesupport (5.1.4) lib/active_support/callbacks.rb:97:in `run_callbacks'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.4) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.4) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.4) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started PUT "/__web_console/repl_sessions/d85e3e8216d2fbfb78e557323a0e2396" for 127.0.0.1 at 2017-10-19 23:15:52 +0900
Started PUT "/__web_console/repl_sessions/d85e3e8216d2fbfb78e557323a0e2396" for 127.0.0.1 at 2017-10-19 23:15:53 +0900
Started PUT "/__web_console/repl_sessions/d85e3e8216d2fbfb78e557323a0e2396" for 127.0.0.1 at 2017-10-19 23:16:13 +0900
Started PUT "/__web_console/repl_sessions/d85e3e8216d2fbfb78e557323a0e2396" for 127.0.0.1 at 2017-10-19 23:16:14 +0900
Started PUT "/__web_console/repl_sessions/d85e3e8216d2fbfb78e557323a0e2396" for 127.0.0.1 at 2017-10-19 23:16:15 +0900
Started PUT "/__web_console/repl_sessions/d85e3e8216d2fbfb78e557323a0e2396" for 127.0.0.1 at 2017-10-19 23:16:16 +0900
Started PUT "/__web_console/repl_sessions/d85e3e8216d2fbfb78e557323a0e2396" for 127.0.0.1 at 2017-10-19 23:16:22 +0900
Started GET "/auth/chatwork/callback?code=44459abb6ebcef1c1b158cb5ebdfa43ff8d2b1d2989cd955b48fa9a9640e66074508198d953c5add6b6bb224b22f472fa3b24193d140a67fa009634d763d0800&state=ffa1e2bc473b656bf30be84adde9bccad0f87998e02459c3" for 127.0.0.1 at 2017-10-19 23:16:26 +0900
(chatwork) Callback phase initiated.
(chatwork) Authentication failure! invalid_credentials: OAuth2::Error, invalid_grant: 
{"error":"invalid_grant","error_description":null,"error_uri":null}
  
OAuth2::Error (invalid_grant: 
{"error":"invalid_grant","error_description":null,"error_uri":null}):
  
oauth2 (1.4.0) lib/oauth2/client.rb:119:in `request'
oauth2 (1.4.0) lib/oauth2/client.rb:146:in `get_token'
oauth2 (1.4.0) lib/oauth2/strategy/auth_code.rb:30:in `get_token'
omniauth-oauth2 (1.4.0) lib/omniauth/strategies/oauth2.rb:89:in `build_access_token'
omniauth-oauth2 (1.4.0) lib/omniauth/strategies/oauth2.rb:73:in `callback_phase'
omniauth (1.7.1) lib/omniauth/strategy.rb:236:in `callback_call'
omniauth (1.7.1) lib/omniauth/strategy.rb:188:in `call!'
omniauth (1.7.1) lib/omniauth/strategy.rb:168:in `call'
omniauth (1.7.1) lib/omniauth/builder.rb:63:in `call'
rack (2.0.3) lib/rack/etag.rb:25:in `call'
rack (2.0.3) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.3) lib/rack/head.rb:12:in `call'
rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.1.4) lib/active_record/migration.rb:556:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
activesupport (5.1.4) lib/active_support/callbacks.rb:97:in `run_callbacks'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.4) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.4) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.4) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started PUT "/__web_console/repl_sessions/7ddd20682d0fa84bfa187d0777b56b11" for 127.0.0.1 at 2017-10-19 23:16:28 +0900
Started PUT "/__web_console/repl_sessions/7ddd20682d0fa84bfa187d0777b56b11" for 127.0.0.1 at 2017-10-19 23:16:30 +0900
Started PUT "/__web_console/repl_sessions/7ddd20682d0fa84bfa187d0777b56b11" for 127.0.0.1 at 2017-10-19 23:16:30 +0900
Started PUT "/__web_console/repl_sessions/7ddd20682d0fa84bfa187d0777b56b11" for 127.0.0.1 at 2017-10-19 23:16:32 +0900
Started PUT "/__web_console/repl_sessions/7ddd20682d0fa84bfa187d0777b56b11" for 127.0.0.1 at 2017-10-19 23:16:32 +0900
Started PUT "/__web_console/repl_sessions/7ddd20682d0fa84bfa187d0777b56b11" for 127.0.0.1 at 2017-10-19 23:16:34 +0900
Started PUT "/__web_console/repl_sessions/7ddd20682d0fa84bfa187d0777b56b11" for 127.0.0.1 at 2017-10-19 23:23:44 +0900
Started PUT "/__web_console/repl_sessions/7ddd20682d0fa84bfa187d0777b56b11" for 127.0.0.1 at 2017-10-19 23:23:48 +0900
Started PUT "/__web_console/repl_sessions/7ddd20682d0fa84bfa187d0777b56b11" for 127.0.0.1 at 2017-10-19 23:23:49 +0900
Started PUT "/__web_console/repl_sessions/7ddd20682d0fa84bfa187d0777b56b11" for 127.0.0.1 at 2017-10-19 23:23:52 +0900
Started PUT "/__web_console/repl_sessions/7ddd20682d0fa84bfa187d0777b56b11" for 127.0.0.1 at 2017-10-19 23:24:23 +0900
Started PUT "/__web_console/repl_sessions/7ddd20682d0fa84bfa187d0777b56b11" for 127.0.0.1 at 2017-10-19 23:24:25 +0900
Started PUT "/__web_console/repl_sessions/7ddd20682d0fa84bfa187d0777b56b11" for 127.0.0.1 at 2017-10-19 23:24:26 +0900
Started PUT "/__web_console/repl_sessions/7ddd20682d0fa84bfa187d0777b56b11" for 127.0.0.1 at 2017-10-19 23:24:31 +0900
Started PUT "/__web_console/repl_sessions/7ddd20682d0fa84bfa187d0777b56b11" for 127.0.0.1 at 2017-10-19 23:24:38 +0900
Started PUT "/__web_console/repl_sessions/7ddd20682d0fa84bfa187d0777b56b11" for 127.0.0.1 at 2017-10-19 23:25:05 +0900
Started PUT "/__web_console/repl_sessions/7ddd20682d0fa84bfa187d0777b56b11" for 127.0.0.1 at 2017-10-19 23:25:11 +0900
Started PUT "/__web_console/repl_sessions/7ddd20682d0fa84bfa187d0777b56b11" for 127.0.0.1 at 2017-10-19 23:26:06 +0900
Started PUT "/__web_console/repl_sessions/7ddd20682d0fa84bfa187d0777b56b11" for 127.0.0.1 at 2017-10-19 23:27:49 +0900
Started PUT "/__web_console/repl_sessions/7ddd20682d0fa84bfa187d0777b56b11" for 127.0.0.1 at 2017-10-19 23:28:30 +0900
Started PUT "/__web_console/repl_sessions/7ddd20682d0fa84bfa187d0777b56b11" for 127.0.0.1 at 2017-10-19 23:28:40 +0900
Started PUT "/__web_console/repl_sessions/7ddd20682d0fa84bfa187d0777b56b11" for 127.0.0.1 at 2017-10-19 23:28:44 +0900
Started POST "/__web_console/repl_sessions/7ddd20682d0fa84bfa187d0777b56b11/trace" for 127.0.0.1 at 2017-10-19 23:29:49 +0900
Started POST "/__web_console/repl_sessions/7ddd20682d0fa84bfa187d0777b56b11/trace" for 127.0.0.1 at 2017-10-19 23:29:52 +0900
Started GET "/" for 127.0.0.1 at 2017-10-19 23:30:09 +0900
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (2.1ms)
Completed 200 OK in 140ms (Views: 130.3ms)


Started GET "/auth/chatwork" for 127.0.0.1 at 2017-10-19 23:30:11 +0900
(chatwork) Request phase initiated.
Started GET "/auth/chatwork" for 127.0.0.1 at 2017-10-19 23:30:11 +0900
(chatwork) Request phase initiated.
Started GET "/auth/chatwork/callback?code=0d9b4e4af0fbc0e5052f7c8e34505a5c3ebd120d87b22e2dd3afe006e3c2fabb4d51ca1af527698771a5f220a348a7b72e8401e5b141f5328455d063abc7f8d5&state=e13f0619cd5536b1107bd58da9d69024b416070d9365798a" for 127.0.0.1 at 2017-10-19 23:30:12 +0900
(chatwork) Callback phase initiated.
(chatwork) Authentication failure! invalid_credentials: OAuth2::Error, : 
{"errors":["Invalid API Token"]}
  
OAuth2::Error (: 
{"errors":["Invalid API Token"]}):
  
oauth2 (1.4.0) lib/oauth2/client.rb:119:in `request'
oauth2 (1.4.0) lib/oauth2/access_token.rb:107:in `request'
oauth2 (1.4.0) lib/oauth2/access_token.rb:114:in `get'
/Users/taiyop/codes/ruffnote/omniauth-chatwork/lib/omniauth/strategies/chatwork.rb:32:in `raw_info'
/Users/taiyop/codes/ruffnote/omniauth-chatwork/lib/omniauth/strategies/chatwork.rb:15:in `block in <class:ChatWork>'
omniauth (1.7.1) lib/omniauth/strategy.rb:109:in `instance_eval'
omniauth (1.7.1) lib/omniauth/strategy.rb:109:in `block in compile_stack'
omniauth (1.7.1) lib/omniauth/strategy.rb:108:in `each'
omniauth (1.7.1) lib/omniauth/strategy.rb:108:in `inject'
omniauth (1.7.1) lib/omniauth/strategy.rb:108:in `compile_stack'
omniauth (1.7.1) lib/omniauth/strategy.rb:102:in `uid_stack'
omniauth (1.7.1) lib/omniauth/strategy.rb:329:in `uid'
omniauth (1.7.1) lib/omniauth/strategy.rb:345:in `auth_hash'
omniauth (1.7.1) lib/omniauth/strategy.rb:368:in `callback_phase'
omniauth-oauth2 (1.4.0) lib/omniauth/strategies/oauth2.rb:75:in `callback_phase'
omniauth (1.7.1) lib/omniauth/strategy.rb:236:in `callback_call'
omniauth (1.7.1) lib/omniauth/strategy.rb:188:in `call!'
omniauth (1.7.1) lib/omniauth/strategy.rb:168:in `call'
omniauth (1.7.1) lib/omniauth/builder.rb:63:in `call'
rack (2.0.3) lib/rack/etag.rb:25:in `call'
rack (2.0.3) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.3) lib/rack/head.rb:12:in `call'
rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.1.4) lib/active_record/migration.rb:556:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
activesupport (5.1.4) lib/active_support/callbacks.rb:97:in `run_callbacks'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.4) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.4) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.4) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started POST "/__web_console/repl_sessions/c67102ba3a4b40a89140414902d29484/trace" for 127.0.0.1 at 2017-10-19 23:30:16 +0900
Started PUT "/__web_console/repl_sessions/c67102ba3a4b40a89140414902d29484" for 127.0.0.1 at 2017-10-19 23:30:21 +0900
Started PUT "/__web_console/repl_sessions/c67102ba3a4b40a89140414902d29484" for 127.0.0.1 at 2017-10-19 23:30:23 +0900
Started PUT "/__web_console/repl_sessions/c67102ba3a4b40a89140414902d29484" for 127.0.0.1 at 2017-10-19 23:30:23 +0900
Started PUT "/__web_console/repl_sessions/c67102ba3a4b40a89140414902d29484" for 127.0.0.1 at 2017-10-19 23:30:27 +0900
Started PUT "/__web_console/repl_sessions/c67102ba3a4b40a89140414902d29484" for 127.0.0.1 at 2017-10-19 23:30:35 +0900
Started PUT "/__web_console/repl_sessions/c67102ba3a4b40a89140414902d29484" for 127.0.0.1 at 2017-10-19 23:30:37 +0900
Started PUT "/__web_console/repl_sessions/c67102ba3a4b40a89140414902d29484" for 127.0.0.1 at 2017-10-19 23:30:38 +0900
Started PUT "/__web_console/repl_sessions/c67102ba3a4b40a89140414902d29484" for 127.0.0.1 at 2017-10-19 23:30:42 +0900
Started PUT "/__web_console/repl_sessions/c67102ba3a4b40a89140414902d29484" for 127.0.0.1 at 2017-10-19 23:30:42 +0900
Started PUT "/__web_console/repl_sessions/c67102ba3a4b40a89140414902d29484" for 127.0.0.1 at 2017-10-19 23:30:44 +0900
Started PUT "/__web_console/repl_sessions/c67102ba3a4b40a89140414902d29484" for 127.0.0.1 at 2017-10-19 23:30:59 +0900
Started PUT "/__web_console/repl_sessions/c67102ba3a4b40a89140414902d29484" for 127.0.0.1 at 2017-10-19 23:31:00 +0900
Started PUT "/__web_console/repl_sessions/c67102ba3a4b40a89140414902d29484" for 127.0.0.1 at 2017-10-19 23:31:09 +0900
Started PUT "/__web_console/repl_sessions/c67102ba3a4b40a89140414902d29484" for 127.0.0.1 at 2017-10-19 23:31:09 +0900
Started PUT "/__web_console/repl_sessions/c67102ba3a4b40a89140414902d29484" for 127.0.0.1 at 2017-10-19 23:31:10 +0900
Started PUT "/__web_console/repl_sessions/c67102ba3a4b40a89140414902d29484" for 127.0.0.1 at 2017-10-19 23:31:25 +0900
Started PUT "/__web_console/repl_sessions/c67102ba3a4b40a89140414902d29484" for 127.0.0.1 at 2017-10-19 23:31:25 +0900
Started PUT "/__web_console/repl_sessions/c67102ba3a4b40a89140414902d29484" for 127.0.0.1 at 2017-10-19 23:31:27 +0900
Started PUT "/__web_console/repl_sessions/c67102ba3a4b40a89140414902d29484" for 127.0.0.1 at 2017-10-19 23:31:35 +0900
Started PUT "/__web_console/repl_sessions/c67102ba3a4b40a89140414902d29484" for 127.0.0.1 at 2017-10-19 23:31:37 +0900
Started GET "/" for 127.0.0.1 at 2017-10-19 23:34:28 +0900
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (2.9ms)
Completed 200 OK in 773ms (Views: 367.8ms)


Started GET "/auth/chatwork" for 127.0.0.1 at 2017-10-19 23:34:32 +0900
(chatwork) Request phase initiated.
Started GET "/auth/chatwork" for 127.0.0.1 at 2017-10-19 23:34:32 +0900
(chatwork) Request phase initiated.
Started GET "/auth/chatwork/callback?code=72220b058af0f9adf7aaf10e6f55cb06d8c408dbe1c87e15dd3cf3dba463efb2801d08e597f57aca522085aee26aac8f724c78e9bd557bbab11ec1a2a79c9f51&state=802d03829ce724388a9bfadac2d93917a632814bf0c87852" for 127.0.0.1 at 2017-10-19 23:34:34 +0900
(chatwork) Callback phase initiated.
  
NameError (uninitialized constant OmniAuth::Strategies::OAuth2::Client):
  
/Users/taiyop/codes/ruffnote/omniauth-chatwork/lib/omniauth/strategies/chatwork.rb:31:in `raw_info'
/Users/taiyop/codes/ruffnote/omniauth-chatwork/lib/omniauth/strategies/chatwork.rb:15:in `block in <class:ChatWork>'
omniauth (1.7.1) lib/omniauth/strategy.rb:109:in `instance_eval'
omniauth (1.7.1) lib/omniauth/strategy.rb:109:in `block in compile_stack'
omniauth (1.7.1) lib/omniauth/strategy.rb:108:in `each'
omniauth (1.7.1) lib/omniauth/strategy.rb:108:in `inject'
omniauth (1.7.1) lib/omniauth/strategy.rb:108:in `compile_stack'
omniauth (1.7.1) lib/omniauth/strategy.rb:102:in `uid_stack'
omniauth (1.7.1) lib/omniauth/strategy.rb:329:in `uid'
omniauth (1.7.1) lib/omniauth/strategy.rb:345:in `auth_hash'
omniauth (1.7.1) lib/omniauth/strategy.rb:368:in `callback_phase'
omniauth-oauth2 (1.4.0) lib/omniauth/strategies/oauth2.rb:75:in `callback_phase'
omniauth (1.7.1) lib/omniauth/strategy.rb:236:in `callback_call'
omniauth (1.7.1) lib/omniauth/strategy.rb:188:in `call!'
omniauth (1.7.1) lib/omniauth/strategy.rb:168:in `call'
omniauth (1.7.1) lib/omniauth/builder.rb:63:in `call'
rack (2.0.3) lib/rack/etag.rb:25:in `call'
rack (2.0.3) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.3) lib/rack/head.rb:12:in `call'
rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.1.4) lib/active_record/migration.rb:556:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
activesupport (5.1.4) lib/active_support/callbacks.rb:97:in `run_callbacks'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.4) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.4) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.4) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started PUT "/__web_console/repl_sessions/34cd0f4cf7873ea92451eb8de3443ecb" for 127.0.0.1 at 2017-10-19 23:34:45 +0900
Started PUT "/__web_console/repl_sessions/34cd0f4cf7873ea92451eb8de3443ecb" for 127.0.0.1 at 2017-10-19 23:34:46 +0900
Started PUT "/__web_console/repl_sessions/34cd0f4cf7873ea92451eb8de3443ecb" for 127.0.0.1 at 2017-10-19 23:34:48 +0900
Started PUT "/__web_console/repl_sessions/34cd0f4cf7873ea92451eb8de3443ecb" for 127.0.0.1 at 2017-10-19 23:34:51 +0900
Started GET "/" for 127.0.0.1 at 2017-10-19 23:35:43 +0900
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (2.0ms)
Completed 200 OK in 693ms (Views: 374.1ms)


Started GET "/auth/chatwork" for 127.0.0.1 at 2017-10-19 23:35:45 +0900
(chatwork) Request phase initiated.
Started GET "/auth/chatwork" for 127.0.0.1 at 2017-10-19 23:35:45 +0900
(chatwork) Request phase initiated.
Started GET "/auth/chatwork/callback?code=5f9f345d9135fa1d2585f80f47183d554857693fdcfe732784e3145e61552550c247344d032bf111c0fe7272dc46d0177102aac3696e9cdc26c0db2560d650a0&state=39c8ecb769909061a94c402cb59ec3209865b6cb042ce5b7" for 127.0.0.1 at 2017-10-19 23:35:47 +0900
(chatwork) Callback phase initiated.
  
NameError (uninitialized constant OmniAuth::Strategies::OAuth2::Client):
  
/Users/taiyop/codes/ruffnote/omniauth-chatwork/lib/omniauth/strategies/chatwork.rb:32:in `raw_info'
/Users/taiyop/codes/ruffnote/omniauth-chatwork/lib/omniauth/strategies/chatwork.rb:16:in `block in <class:ChatWork>'
omniauth (1.7.1) lib/omniauth/strategy.rb:109:in `instance_eval'
omniauth (1.7.1) lib/omniauth/strategy.rb:109:in `block in compile_stack'
omniauth (1.7.1) lib/omniauth/strategy.rb:108:in `each'
omniauth (1.7.1) lib/omniauth/strategy.rb:108:in `inject'
omniauth (1.7.1) lib/omniauth/strategy.rb:108:in `compile_stack'
omniauth (1.7.1) lib/omniauth/strategy.rb:102:in `uid_stack'
omniauth (1.7.1) lib/omniauth/strategy.rb:329:in `uid'
omniauth (1.7.1) lib/omniauth/strategy.rb:345:in `auth_hash'
omniauth (1.7.1) lib/omniauth/strategy.rb:368:in `callback_phase'
omniauth-oauth2 (1.4.0) lib/omniauth/strategies/oauth2.rb:75:in `callback_phase'
omniauth (1.7.1) lib/omniauth/strategy.rb:236:in `callback_call'
omniauth (1.7.1) lib/omniauth/strategy.rb:188:in `call!'
omniauth (1.7.1) lib/omniauth/strategy.rb:168:in `call'
omniauth (1.7.1) lib/omniauth/builder.rb:63:in `call'
rack (2.0.3) lib/rack/etag.rb:25:in `call'
rack (2.0.3) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.3) lib/rack/head.rb:12:in `call'
rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.1.4) lib/active_record/migration.rb:556:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
activesupport (5.1.4) lib/active_support/callbacks.rb:97:in `run_callbacks'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.4) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.4) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.4) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started PUT "/__web_console/repl_sessions/e4429250dc2d26059c1a365d574a3ae1" for 127.0.0.1 at 2017-10-19 23:35:58 +0900
Started PUT "/__web_console/repl_sessions/e4429250dc2d26059c1a365d574a3ae1" for 127.0.0.1 at 2017-10-19 23:35:59 +0900
Started PUT "/__web_console/repl_sessions/e4429250dc2d26059c1a365d574a3ae1" for 127.0.0.1 at 2017-10-19 23:36:01 +0900
Started PUT "/__web_console/repl_sessions/e4429250dc2d26059c1a365d574a3ae1" for 127.0.0.1 at 2017-10-19 23:36:04 +0900
Started PUT "/__web_console/repl_sessions/e4429250dc2d26059c1a365d574a3ae1" for 127.0.0.1 at 2017-10-19 23:36:04 +0900
Started PUT "/__web_console/repl_sessions/e4429250dc2d26059c1a365d574a3ae1" for 127.0.0.1 at 2017-10-19 23:36:27 +0900
Started PUT "/__web_console/repl_sessions/e4429250dc2d26059c1a365d574a3ae1" for 127.0.0.1 at 2017-10-19 23:36:30 +0900
Started PUT "/__web_console/repl_sessions/e4429250dc2d26059c1a365d574a3ae1" for 127.0.0.1 at 2017-10-19 23:36:37 +0900
Started PUT "/__web_console/repl_sessions/e4429250dc2d26059c1a365d574a3ae1" for 127.0.0.1 at 2017-10-19 23:36:38 +0900
Started PUT "/__web_console/repl_sessions/e4429250dc2d26059c1a365d574a3ae1" for 127.0.0.1 at 2017-10-19 23:36:44 +0900
Started PUT "/__web_console/repl_sessions/e4429250dc2d26059c1a365d574a3ae1" for 127.0.0.1 at 2017-10-19 23:36:45 +0900
Started PUT "/__web_console/repl_sessions/e4429250dc2d26059c1a365d574a3ae1" for 127.0.0.1 at 2017-10-19 23:36:45 +0900
Started PUT "/__web_console/repl_sessions/e4429250dc2d26059c1a365d574a3ae1" for 127.0.0.1 at 2017-10-19 23:36:56 +0900
Started PUT "/__web_console/repl_sessions/e4429250dc2d26059c1a365d574a3ae1" for 127.0.0.1 at 2017-10-19 23:36:57 +0900
Started PUT "/__web_console/repl_sessions/e4429250dc2d26059c1a365d574a3ae1" for 127.0.0.1 at 2017-10-19 23:36:57 +0900
Started GET "/" for 127.0.0.1 at 2017-10-20 00:13:03 +0900
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.8ms)
Completed 200 OK in 731ms (Views: 396.7ms)


Started GET "/auth/chatwork" for 127.0.0.1 at 2017-10-20 00:13:06 +0900
(chatwork) Request phase initiated.
Started GET "/auth/chatwork" for 127.0.0.1 at 2017-10-20 00:13:06 +0900
(chatwork) Request phase initiated.
Started GET "/auth/chatwork/callback?code=d412c9002beac6fb84d78724c64c08bb74856c16156005f464d3f4d4c0b1161315471d2fcc2d285cc6f1d4ee3b0b95b9d967246a58cd1b3fbcb45387f66b7cb1&state=09b837c0c75c76ae799957abdbdbcb412d94383a2b89fa77" for 127.0.0.1 at 2017-10-20 00:13:08 +0900
(chatwork) Callback phase initiated.
(chatwork) Authentication failure! invalid_credentials: OAuth2::Error, : 
{"errors":["Invalid API Token"]}
  
OAuth2::Error (: 
{"errors":["Invalid API Token"]}):
  
oauth2 (1.4.0) lib/oauth2/client.rb:119:in `request'
oauth2 (1.4.0) lib/oauth2/access_token.rb:107:in `request'
oauth2 (1.4.0) lib/oauth2/access_token.rb:114:in `get'
/Users/taiyop/codes/ruffnote/omniauth-chatwork/lib/omniauth/strategies/chatwork.rb:33:in `raw_info'
/Users/taiyop/codes/ruffnote/omniauth-chatwork/lib/omniauth/strategies/chatwork.rb:15:in `block in <class:ChatWork>'
omniauth (1.7.1) lib/omniauth/strategy.rb:109:in `instance_eval'
omniauth (1.7.1) lib/omniauth/strategy.rb:109:in `block in compile_stack'
omniauth (1.7.1) lib/omniauth/strategy.rb:108:in `each'
omniauth (1.7.1) lib/omniauth/strategy.rb:108:in `inject'
omniauth (1.7.1) lib/omniauth/strategy.rb:108:in `compile_stack'
omniauth (1.7.1) lib/omniauth/strategy.rb:102:in `uid_stack'
omniauth (1.7.1) lib/omniauth/strategy.rb:329:in `uid'
omniauth (1.7.1) lib/omniauth/strategy.rb:345:in `auth_hash'
omniauth (1.7.1) lib/omniauth/strategy.rb:368:in `callback_phase'
omniauth-oauth2 (1.4.0) lib/omniauth/strategies/oauth2.rb:75:in `callback_phase'
omniauth (1.7.1) lib/omniauth/strategy.rb:236:in `callback_call'
omniauth (1.7.1) lib/omniauth/strategy.rb:188:in `call!'
omniauth (1.7.1) lib/omniauth/strategy.rb:168:in `call'
omniauth (1.7.1) lib/omniauth/builder.rb:63:in `call'
rack (2.0.3) lib/rack/etag.rb:25:in `call'
rack (2.0.3) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.3) lib/rack/head.rb:12:in `call'
rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.1.4) lib/active_record/migration.rb:556:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
activesupport (5.1.4) lib/active_support/callbacks.rb:97:in `run_callbacks'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.4) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.4) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.4) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started PUT "/__web_console/repl_sessions/a70129c2ee3036ac8ad6d9be39babba2" for 127.0.0.1 at 2017-10-20 00:13:14 +0900
Started PUT "/__web_console/repl_sessions/a70129c2ee3036ac8ad6d9be39babba2" for 127.0.0.1 at 2017-10-20 00:13:18 +0900
Started PUT "/__web_console/repl_sessions/a70129c2ee3036ac8ad6d9be39babba2" for 127.0.0.1 at 2017-10-20 00:13:19 +0900
Started POST "/__web_console/repl_sessions/a70129c2ee3036ac8ad6d9be39babba2/trace" for 127.0.0.1 at 2017-10-20 00:13:22 +0900
Started PUT "/__web_console/repl_sessions/a70129c2ee3036ac8ad6d9be39babba2" for 127.0.0.1 at 2017-10-20 00:13:25 +0900
Started PUT "/__web_console/repl_sessions/a70129c2ee3036ac8ad6d9be39babba2" for 127.0.0.1 at 2017-10-20 00:13:28 +0900
Started PUT "/__web_console/repl_sessions/a70129c2ee3036ac8ad6d9be39babba2" for 127.0.0.1 at 2017-10-20 00:13:42 +0900
Started PUT "/__web_console/repl_sessions/a70129c2ee3036ac8ad6d9be39babba2" for 127.0.0.1 at 2017-10-20 00:13:44 +0900
Started PUT "/__web_console/repl_sessions/a70129c2ee3036ac8ad6d9be39babba2" for 127.0.0.1 at 2017-10-20 00:13:49 +0900
Started PUT "/__web_console/repl_sessions/a70129c2ee3036ac8ad6d9be39babba2" for 127.0.0.1 at 2017-10-20 00:13:51 +0900
Started PUT "/__web_console/repl_sessions/a70129c2ee3036ac8ad6d9be39babba2" for 127.0.0.1 at 2017-10-20 00:14:36 +0900
Started PUT "/__web_console/repl_sessions/a70129c2ee3036ac8ad6d9be39babba2" for 127.0.0.1 at 2017-10-20 00:14:44 +0900
Started PUT "/__web_console/repl_sessions/a70129c2ee3036ac8ad6d9be39babba2" for 127.0.0.1 at 2017-10-20 00:14:47 +0900
Started PUT "/__web_console/repl_sessions/a70129c2ee3036ac8ad6d9be39babba2" for 127.0.0.1 at 2017-10-20 00:14:51 +0900
Started PUT "/__web_console/repl_sessions/a70129c2ee3036ac8ad6d9be39babba2" for 127.0.0.1 at 2017-10-20 00:14:57 +0900
Started PUT "/__web_console/repl_sessions/a70129c2ee3036ac8ad6d9be39babba2" for 127.0.0.1 at 2017-10-20 00:15:02 +0900
Started PUT "/__web_console/repl_sessions/a70129c2ee3036ac8ad6d9be39babba2" for 127.0.0.1 at 2017-10-20 00:15:04 +0900
Started PUT "/__web_console/repl_sessions/a70129c2ee3036ac8ad6d9be39babba2" for 127.0.0.1 at 2017-10-20 00:15:05 +0900
Started POST "/__web_console/repl_sessions/a70129c2ee3036ac8ad6d9be39babba2/trace" for 127.0.0.1 at 2017-10-20 00:15:13 +0900
Started POST "/__web_console/repl_sessions/a70129c2ee3036ac8ad6d9be39babba2/trace" for 127.0.0.1 at 2017-10-20 00:15:14 +0900
Started POST "/__web_console/repl_sessions/a70129c2ee3036ac8ad6d9be39babba2/trace" for 127.0.0.1 at 2017-10-20 00:15:24 +0900
Started PUT "/__web_console/repl_sessions/a70129c2ee3036ac8ad6d9be39babba2" for 127.0.0.1 at 2017-10-20 00:15:26 +0900
Started PUT "/__web_console/repl_sessions/a70129c2ee3036ac8ad6d9be39babba2" for 127.0.0.1 at 2017-10-20 00:15:27 +0900
Started PUT "/__web_console/repl_sessions/a70129c2ee3036ac8ad6d9be39babba2" for 127.0.0.1 at 2017-10-20 00:15:55 +0900
Started PUT "/__web_console/repl_sessions/a70129c2ee3036ac8ad6d9be39babba2" for 127.0.0.1 at 2017-10-20 00:15:55 +0900
Started PUT "/__web_console/repl_sessions/a70129c2ee3036ac8ad6d9be39babba2" for 127.0.0.1 at 2017-10-20 00:15:58 +0900
Started PUT "/__web_console/repl_sessions/a70129c2ee3036ac8ad6d9be39babba2" for 127.0.0.1 at 2017-10-20 00:16:01 +0900
Started PUT "/__web_console/repl_sessions/a70129c2ee3036ac8ad6d9be39babba2" for 127.0.0.1 at 2017-10-20 00:16:02 +0900
Started PUT "/__web_console/repl_sessions/a70129c2ee3036ac8ad6d9be39babba2" for 127.0.0.1 at 2017-10-20 00:16:02 +0900
Started PUT "/__web_console/repl_sessions/a70129c2ee3036ac8ad6d9be39babba2" for 127.0.0.1 at 2017-10-20 00:16:11 +0900
Started PUT "/__web_console/repl_sessions/a70129c2ee3036ac8ad6d9be39babba2" for 127.0.0.1 at 2017-10-20 00:16:12 +0900
Started PUT "/__web_console/repl_sessions/a70129c2ee3036ac8ad6d9be39babba2" for 127.0.0.1 at 2017-10-20 00:16:13 +0900
Started PUT "/__web_console/repl_sessions/a70129c2ee3036ac8ad6d9be39babba2" for 127.0.0.1 at 2017-10-20 00:16:28 +0900
Started PUT "/__web_console/repl_sessions/a70129c2ee3036ac8ad6d9be39babba2" for 127.0.0.1 at 2017-10-20 00:16:30 +0900
Started PUT "/__web_console/repl_sessions/a70129c2ee3036ac8ad6d9be39babba2" for 127.0.0.1 at 2017-10-20 00:16:33 +0900
Started PUT "/__web_console/repl_sessions/a70129c2ee3036ac8ad6d9be39babba2" for 127.0.0.1 at 2017-10-20 00:16:34 +0900
Started PUT "/__web_console/repl_sessions/a70129c2ee3036ac8ad6d9be39babba2" for 127.0.0.1 at 2017-10-20 00:16:37 +0900
Started PUT "/__web_console/repl_sessions/a70129c2ee3036ac8ad6d9be39babba2" for 127.0.0.1 at 2017-10-20 00:16:44 +0900
Started PUT "/__web_console/repl_sessions/a70129c2ee3036ac8ad6d9be39babba2" for 127.0.0.1 at 2017-10-20 00:16:45 +0900
Started PUT "/__web_console/repl_sessions/a70129c2ee3036ac8ad6d9be39babba2" for 127.0.0.1 at 2017-10-20 00:17:00 +0900
Started PUT "/__web_console/repl_sessions/a70129c2ee3036ac8ad6d9be39babba2" for 127.0.0.1 at 2017-10-20 00:17:03 +0900
Started PUT "/__web_console/repl_sessions/a70129c2ee3036ac8ad6d9be39babba2" for 127.0.0.1 at 2017-10-20 00:17:05 +0900
Started PUT "/__web_console/repl_sessions/a70129c2ee3036ac8ad6d9be39babba2" for 127.0.0.1 at 2017-10-20 00:17:05 +0900
Started PUT "/__web_console/repl_sessions/a70129c2ee3036ac8ad6d9be39babba2" for 127.0.0.1 at 2017-10-20 00:17:06 +0900
Started PUT "/__web_console/repl_sessions/a70129c2ee3036ac8ad6d9be39babba2" for 127.0.0.1 at 2017-10-20 00:17:18 +0900
Started PUT "/__web_console/repl_sessions/a70129c2ee3036ac8ad6d9be39babba2" for 127.0.0.1 at 2017-10-20 00:17:21 +0900
Started PUT "/__web_console/repl_sessions/a70129c2ee3036ac8ad6d9be39babba2" for 127.0.0.1 at 2017-10-20 00:17:21 +0900
Started PUT "/__web_console/repl_sessions/a70129c2ee3036ac8ad6d9be39babba2" for 127.0.0.1 at 2017-10-20 00:17:23 +0900
Started PUT "/__web_console/repl_sessions/a70129c2ee3036ac8ad6d9be39babba2" for 127.0.0.1 at 2017-10-20 00:17:24 +0900
Started PUT "/__web_console/repl_sessions/a70129c2ee3036ac8ad6d9be39babba2" for 127.0.0.1 at 2017-10-20 00:17:25 +0900
Started PUT "/__web_console/repl_sessions/a70129c2ee3036ac8ad6d9be39babba2" for 127.0.0.1 at 2017-10-20 00:17:27 +0900
Started PUT "/__web_console/repl_sessions/a70129c2ee3036ac8ad6d9be39babba2" for 127.0.0.1 at 2017-10-20 00:17:33 +0900
Started PUT "/__web_console/repl_sessions/a70129c2ee3036ac8ad6d9be39babba2" for 127.0.0.1 at 2017-10-20 00:17:34 +0900
Started PUT "/__web_console/repl_sessions/a70129c2ee3036ac8ad6d9be39babba2" for 127.0.0.1 at 2017-10-20 00:17:49 +0900
Started PUT "/__web_console/repl_sessions/a70129c2ee3036ac8ad6d9be39babba2" for 127.0.0.1 at 2017-10-20 00:17:49 +0900
Started PUT "/__web_console/repl_sessions/a70129c2ee3036ac8ad6d9be39babba2" for 127.0.0.1 at 2017-10-20 00:17:51 +0900
Started PUT "/__web_console/repl_sessions/a70129c2ee3036ac8ad6d9be39babba2" for 127.0.0.1 at 2017-10-20 00:17:52 +0900
Started PUT "/__web_console/repl_sessions/a70129c2ee3036ac8ad6d9be39babba2" for 127.0.0.1 at 2017-10-20 00:17:52 +0900
Started PUT "/__web_console/repl_sessions/a70129c2ee3036ac8ad6d9be39babba2" for 127.0.0.1 at 2017-10-20 00:17:54 +0900
Started PUT "/__web_console/repl_sessions/a70129c2ee3036ac8ad6d9be39babba2" for 127.0.0.1 at 2017-10-20 00:18:06 +0900
Started PUT "/__web_console/repl_sessions/a70129c2ee3036ac8ad6d9be39babba2" for 127.0.0.1 at 2017-10-20 00:18:10 +0900
Started PUT "/__web_console/repl_sessions/a70129c2ee3036ac8ad6d9be39babba2" for 127.0.0.1 at 2017-10-20 00:18:12 +0900
Started PUT "/__web_console/repl_sessions/a70129c2ee3036ac8ad6d9be39babba2" for 127.0.0.1 at 2017-10-20 00:18:30 +0900
Started PUT "/__web_console/repl_sessions/a70129c2ee3036ac8ad6d9be39babba2" for 127.0.0.1 at 2017-10-20 00:18:32 +0900
Started PUT "/__web_console/repl_sessions/a70129c2ee3036ac8ad6d9be39babba2" for 127.0.0.1 at 2017-10-20 00:18:33 +0900
Started PUT "/__web_console/repl_sessions/a70129c2ee3036ac8ad6d9be39babba2" for 127.0.0.1 at 2017-10-20 00:18:33 +0900
Started PUT "/__web_console/repl_sessions/a70129c2ee3036ac8ad6d9be39babba2" for 127.0.0.1 at 2017-10-20 00:18:59 +0900
Started PUT "/__web_console/repl_sessions/a70129c2ee3036ac8ad6d9be39babba2" for 127.0.0.1 at 2017-10-20 00:19:00 +0900
Started PUT "/__web_console/repl_sessions/a70129c2ee3036ac8ad6d9be39babba2" for 127.0.0.1 at 2017-10-20 00:19:00 +0900
Started PUT "/__web_console/repl_sessions/a70129c2ee3036ac8ad6d9be39babba2" for 127.0.0.1 at 2017-10-20 00:19:06 +0900
Started PUT "/__web_console/repl_sessions/a70129c2ee3036ac8ad6d9be39babba2" for 127.0.0.1 at 2017-10-20 00:19:23 +0900
Started PUT "/__web_console/repl_sessions/a70129c2ee3036ac8ad6d9be39babba2" for 127.0.0.1 at 2017-10-20 00:19:24 +0900
Started PUT "/__web_console/repl_sessions/a70129c2ee3036ac8ad6d9be39babba2" for 127.0.0.1 at 2017-10-20 00:19:57 +0900
Started PUT "/__web_console/repl_sessions/a70129c2ee3036ac8ad6d9be39babba2" for 127.0.0.1 at 2017-10-20 00:19:59 +0900
Started PUT "/__web_console/repl_sessions/a70129c2ee3036ac8ad6d9be39babba2" for 127.0.0.1 at 2017-10-20 00:20:03 +0900
Started PUT "/__web_console/repl_sessions/a70129c2ee3036ac8ad6d9be39babba2" for 127.0.0.1 at 2017-10-20 00:20:05 +0900
Started PUT "/__web_console/repl_sessions/a70129c2ee3036ac8ad6d9be39babba2" for 127.0.0.1 at 2017-10-20 00:20:05 +0900
Started PUT "/__web_console/repl_sessions/a70129c2ee3036ac8ad6d9be39babba2" for 127.0.0.1 at 2017-10-20 00:20:07 +0900
Started PUT "/__web_console/repl_sessions/a70129c2ee3036ac8ad6d9be39babba2" for 127.0.0.1 at 2017-10-20 00:20:10 +0900
Started GET "/" for 127.0.0.1 at 2017-10-20 00:27:43 +0900
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.6ms)
Completed 200 OK in 425ms (Views: 207.1ms)


Started GET "/auth/chatwork" for 127.0.0.1 at 2017-10-20 00:27:45 +0900
(chatwork) Request phase initiated.
Started GET "/auth/chatwork" for 127.0.0.1 at 2017-10-20 00:27:46 +0900
(chatwork) Request phase initiated.
Started GET "/auth/chatwork/callback?code=1f74d43455ce2211db564feab85474979ed4957a4705a758a86e3f6efe97a6dd9e391849adaf1f7f5e831864a7ca36c3e616f65559026cf67a03492deaf64bd6&state=cf02af420631e2a69251e0f6d8b2189f48b135368aa9d58a" for 127.0.0.1 at 2017-10-20 00:27:47 +0900
(chatwork) Callback phase initiated.
(chatwork) Authentication failure! invalid_credentials: OAuth2::Error, : 
{"errors":["Invalid API Token"]}
  
OAuth2::Error (: 
{"errors":["Invalid API Token"]}):
  
oauth2 (1.4.0) lib/oauth2/client.rb:119:in `request'
oauth2 (1.4.0) lib/oauth2/access_token.rb:107:in `request'
oauth2 (1.4.0) lib/oauth2/access_token.rb:114:in `get'
/Users/taiyop/codes/ruffnote/omniauth-chatwork/lib/omniauth/strategies/chatwork.rb:33:in `raw_info'
/Users/taiyop/codes/ruffnote/omniauth-chatwork/lib/omniauth/strategies/chatwork.rb:15:in `block in <class:ChatWork>'
omniauth (1.7.1) lib/omniauth/strategy.rb:109:in `instance_eval'
omniauth (1.7.1) lib/omniauth/strategy.rb:109:in `block in compile_stack'
omniauth (1.7.1) lib/omniauth/strategy.rb:108:in `each'
omniauth (1.7.1) lib/omniauth/strategy.rb:108:in `inject'
omniauth (1.7.1) lib/omniauth/strategy.rb:108:in `compile_stack'
omniauth (1.7.1) lib/omniauth/strategy.rb:102:in `uid_stack'
omniauth (1.7.1) lib/omniauth/strategy.rb:329:in `uid'
omniauth (1.7.1) lib/omniauth/strategy.rb:345:in `auth_hash'
omniauth (1.7.1) lib/omniauth/strategy.rb:368:in `callback_phase'
omniauth-oauth2 (1.4.0) lib/omniauth/strategies/oauth2.rb:75:in `callback_phase'
omniauth (1.7.1) lib/omniauth/strategy.rb:236:in `callback_call'
omniauth (1.7.1) lib/omniauth/strategy.rb:188:in `call!'
omniauth (1.7.1) lib/omniauth/strategy.rb:168:in `call'
omniauth (1.7.1) lib/omniauth/builder.rb:63:in `call'
rack (2.0.3) lib/rack/etag.rb:25:in `call'
rack (2.0.3) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.3) lib/rack/head.rb:12:in `call'
rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.1.4) lib/active_record/migration.rb:556:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
activesupport (5.1.4) lib/active_support/callbacks.rb:97:in `run_callbacks'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.4) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.4) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.4) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started PUT "/__web_console/repl_sessions/35eee0b7dcc968c38cd7a41ee1fb6c19" for 127.0.0.1 at 2017-10-20 00:27:49 +0900
Started POST "/__web_console/repl_sessions/35eee0b7dcc968c38cd7a41ee1fb6c19/trace" for 127.0.0.1 at 2017-10-20 00:27:51 +0900
Started PUT "/__web_console/repl_sessions/35eee0b7dcc968c38cd7a41ee1fb6c19" for 127.0.0.1 at 2017-10-20 00:27:56 +0900
Started PUT "/__web_console/repl_sessions/35eee0b7dcc968c38cd7a41ee1fb6c19" for 127.0.0.1 at 2017-10-20 00:28:02 +0900
Started GET "/" for 127.0.0.1 at 2017-10-20 00:28:44 +0900
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.5ms)
Completed 200 OK in 414ms (Views: 190.2ms)


Started GET "/auth/chatwork" for 127.0.0.1 at 2017-10-20 00:28:47 +0900
(chatwork) Request phase initiated.
Started GET "/auth/chatwork" for 127.0.0.1 at 2017-10-20 00:28:47 +0900
(chatwork) Request phase initiated.
Started GET "/auth/chatwork/callback?code=af6272c7c33ea49b6bdfbc4065765834ed7231b20e728e70c2cd5ac2b3de58814d79729185b9a3d9e2bb0f27a4aa245470648415c74c10410f954f855bc897f3&state=14cdc0e38970e4baeb0b734de91c0bf916c680b0794726bd" for 127.0.0.1 at 2017-10-20 00:28:49 +0900
(chatwork) Callback phase initiated.
Processing by WelcomeController#callback as HTML
  Parameters: {"code"=>"af6272c7c33ea49b6bdfbc4065765834ed7231b20e728e70c2cd5ac2b3de58814d79729185b9a3d9e2bb0f27a4aa245470648415c74c10410f954f855bc897f3", "state"=>"14cdc0e38970e4baeb0b734de91c0bf916c680b0794726bd"}
Completed 500 Internal Server Error in 152ms


  
NameError (undefined local variable or method `hogehoge' for #<WelcomeController:0x007f9675de84e8>):
  
app/controllers/welcome_controller.rb:11:in `callback'
Started PUT "/__web_console/repl_sessions/3e0867944319f4e8af5c901bbcb50a7d" for 127.0.0.1 at 2017-10-20 00:28:59 +0900
Started PUT "/__web_console/repl_sessions/3e0867944319f4e8af5c901bbcb50a7d" for 127.0.0.1 at 2017-10-20 00:29:01 +0900

NoMethodError: undefined method `map' for nil:NilClass
	from /Users/taiyop/.anyenv/envs/rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/web-console-3.5.1/lib/web_console/context.rb:35:in `local'
	from /Users/taiyop/.anyenv/envs/rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/web-console-3.5.1/lib/web_console/context.rb:14:in `extract'
	from /Users/taiyop/.anyenv/envs/rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/web-console-3.5.1/lib/web_console/session.rb:67:in `context'
	from /Users/taiyop/.anyenv/envs/rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:109:in `block in update_repl_session'
	from /Users/taiyop/.anyenv/envs/rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:72:in `block in json_response_with_session'
	from /Users/taiyop/.anyenv/envs/rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:63:in `json_response'
	from /Users/taiyop/.anyenv/envs/rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:72:in `json_response_with_session'
	from /Users/taiyop/.anyenv/envs/rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:105:in `update_repl_session'
	from /Users/taiyop/.anyenv/envs/rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:23:in `block in call'
	from /Users/taiyop/.anyenv/envs/rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `catch'
	from /Users/taiyop/.anyenv/envs/rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/web-console-3.5.1/lib/web_console/middleware.rb:18:in `call'
	from /Users/taiyop/.anyenv/envs/rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
	from /Users/taiyop/.anyenv/envs/rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/railties-5.1.4/lib/rails/rack/logger.rb:36:in `call_app'
	from /Users/taiyop/.anyenv/envs/rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/railties-5.1.4/lib/rails/rack/logger.rb:24:in `block in call'
	from /Users/taiyop/.anyenv/envs/rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/activesupport-5.1.4/lib/active_support/tagged_logging.rb:69:in `block in tagged'
	from /Users/taiyop/.anyenv/envs/rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/activesupport-5.1.4/lib/active_support/tagged_logging.rb:26:in `tagged'
	from /Users/taiyop/.anyenv/envs/rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/activesupport-5.1.4/lib/active_support/tagged_logging.rb:69:in `tagged'
	from /Users/taiyop/.anyenv/envs/rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/railties-5.1.4/lib/rails/rack/logger.rb:24:in `call'
	from /Users/taiyop/.anyenv/envs/rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/sprockets-rails-3.2.1/lib/sprockets/rails/quiet_assets.rb:13:in `call'
	from /Users/taiyop/.anyenv/envs/rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
	from /Users/taiyop/.anyenv/envs/rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/request_id.rb:25:in `call'
	from /Users/taiyop/.anyenv/envs/rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/rack-2.0.3/lib/rack/method_override.rb:22:in `call'
	from /Users/taiyop/.anyenv/envs/rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/rack-2.0.3/lib/rack/runtime.rb:22:in `call'
	from /Users/taiyop/.anyenv/envs/rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/activesupport-5.1.4/lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
	from /Users/taiyop/.anyenv/envs/rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/executor.rb:12:in `call'
	from /Users/taiyop/.anyenv/envs/rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/actionpack-5.1.4/lib/action_dispatch/middleware/static.rb:125:in `call'
	from /Users/taiyop/.anyenv/envs/rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/rack-2.0.3/lib/rack/sendfile.rb:111:in `call'
	from /Users/taiyop/.anyenv/envs/rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/railties-5.1.4/lib/rails/engine.rb:522:in `call'
	from /Users/taiyop/.anyenv/envs/rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/puma-3.10.0/lib/puma/configuration.rb:225:in `call'
	from /Users/taiyop/.anyenv/envs/rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:605:in `handle_request'
	from /Users/taiyop/.anyenv/envs/rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:437:in `process_client'
	from /Users/taiyop/.anyenv/envs/rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/puma-3.10.0/lib/puma/server.rb:301:in `block in run'
	from /Users/taiyop/.anyenv/envs/rbenv/versions/2.4.1/lib/ruby/gems/2.4.0/gems/puma-3.10.0/lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started PUT "/__web_console/repl_sessions/3e0867944319f4e8af5c901bbcb50a7d" for 127.0.0.1 at 2017-10-20 00:29:02 +0900
Started PUT "/__web_console/repl_sessions/3e0867944319f4e8af5c901bbcb50a7d" for 127.0.0.1 at 2017-10-20 00:30:20 +0900
Started PUT "/__web_console/repl_sessions/3e0867944319f4e8af5c901bbcb50a7d" for 127.0.0.1 at 2017-10-20 00:30:24 +0900
Started GET "/" for 127.0.0.1 at 2017-10-20 00:31:09 +0900
  
ArgumentError (Received wrong number of arguments. ["JOWqKYDQgybE0", "3$mUI0EUPnE6WeldirZrPyLMH?TgJEmc"]):
  
omniauth (1.7.1) lib/omniauth/strategy.rb:147:in `initialize'
rack (2.0.3) lib/rack/builder.rb:86:in `new'
rack (2.0.3) lib/rack/builder.rb:86:in `block in use'
rack (2.0.3) lib/rack/builder.rb:147:in `block in to_app'
rack (2.0.3) lib/rack/builder.rb:147:in `each'
rack (2.0.3) lib/rack/builder.rb:147:in `inject'
rack (2.0.3) lib/rack/builder.rb:147:in `to_app'
omniauth (1.7.1) lib/omniauth/builder.rb:63:in `call'
rack (2.0.3) lib/rack/etag.rb:25:in `call'
rack (2.0.3) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.3) lib/rack/head.rb:12:in `call'
rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.1.4) lib/active_record/migration.rb:556:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
activesupport (5.1.4) lib/active_support/callbacks.rb:97:in `run_callbacks'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.4) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.4) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.4) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2017-10-20 00:31:19 +0900
  
ArgumentError (Received wrong number of arguments. ["JOWqKYDQgybE0", "3$mUI0EUPnE6WeldirZrPyLMH?TgJEmc"]):
  
omniauth (1.7.1) lib/omniauth/strategy.rb:147:in `initialize'
rack (2.0.3) lib/rack/builder.rb:86:in `new'
rack (2.0.3) lib/rack/builder.rb:86:in `block in use'
rack (2.0.3) lib/rack/builder.rb:147:in `block in to_app'
rack (2.0.3) lib/rack/builder.rb:147:in `each'
rack (2.0.3) lib/rack/builder.rb:147:in `inject'
rack (2.0.3) lib/rack/builder.rb:147:in `to_app'
omniauth (1.7.1) lib/omniauth/builder.rb:63:in `call'
rack (2.0.3) lib/rack/etag.rb:25:in `call'
rack (2.0.3) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.3) lib/rack/head.rb:12:in `call'
rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.1.4) lib/active_record/migration.rb:556:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
activesupport (5.1.4) lib/active_support/callbacks.rb:97:in `run_callbacks'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.4) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.4) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.4) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2017-10-20 00:31:20 +0900
  
ArgumentError (Received wrong number of arguments. ["JOWqKYDQgybE0", "3$mUI0EUPnE6WeldirZrPyLMH?TgJEmc"]):
  
omniauth (1.7.1) lib/omniauth/strategy.rb:147:in `initialize'
rack (2.0.3) lib/rack/builder.rb:86:in `new'
rack (2.0.3) lib/rack/builder.rb:86:in `block in use'
rack (2.0.3) lib/rack/builder.rb:147:in `block in to_app'
rack (2.0.3) lib/rack/builder.rb:147:in `each'
rack (2.0.3) lib/rack/builder.rb:147:in `inject'
rack (2.0.3) lib/rack/builder.rb:147:in `to_app'
omniauth (1.7.1) lib/omniauth/builder.rb:63:in `call'
rack (2.0.3) lib/rack/etag.rb:25:in `call'
rack (2.0.3) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.3) lib/rack/head.rb:12:in `call'
rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.1.4) lib/active_record/migration.rb:556:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
activesupport (5.1.4) lib/active_support/callbacks.rb:97:in `run_callbacks'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.4) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.4) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.4) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2017-10-20 00:31:55 +0900
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.6ms)
Completed 200 OK in 388ms (Views: 189.2ms)


Started GET "/auth/chatwork" for 127.0.0.1 at 2017-10-20 00:31:57 +0900
(chatwork) Request phase initiated.
Started GET "/auth/chatwork" for 127.0.0.1 at 2017-10-20 00:31:57 +0900
(chatwork) Request phase initiated.
Started GET "/auth/chatwork/callback?code=13153f7d6460ee422bebfc1df6d494c2dda4991772f30f4dfad804ee568ad14b8861f19b544b1e66cbef464c80cff497e235a0a32349b54a7df0ef4214c39a7d&state=d56241143c467534e2840469cb626a7b73ae144e968fa229" for 127.0.0.1 at 2017-10-20 00:31:59 +0900
(chatwork) Callback phase initiated.
Processing by WelcomeController#callback as HTML
  Parameters: {"code"=>"13153f7d6460ee422bebfc1df6d494c2dda4991772f30f4dfad804ee568ad14b8861f19b544b1e66cbef464c80cff497e235a0a32349b54a7df0ef4214c39a7d", "state"=>"d56241143c467534e2840469cb626a7b73ae144e968fa229"}
Completed 500 Internal Server Error in 157ms


  
NameError (undefined local variable or method `hogehoge' for #<WelcomeController:0x007fa6a118eb70>):
  
app/controllers/welcome_controller.rb:11:in `callback'
Started GET "/auth/chatwork/callback?code=13153f7d6460ee422bebfc1df6d494c2dda4991772f30f4dfad804ee568ad14b8861f19b544b1e66cbef464c80cff497e235a0a32349b54a7df0ef4214c39a7d&state=d56241143c467534e2840469cb626a7b73ae144e968fa229" for 127.0.0.1 at 2017-10-20 00:32:06 +0900
(chatwork) Callback phase initiated.
(chatwork) Authentication failure! invalid_credentials: OAuth2::Error, invalid_grant: 
{"error":"invalid_grant","error_description":null,"error_uri":null}
  
OAuth2::Error (invalid_grant: 
{"error":"invalid_grant","error_description":null,"error_uri":null}):
  
oauth2 (1.4.0) lib/oauth2/client.rb:119:in `request'
oauth2 (1.4.0) lib/oauth2/client.rb:146:in `get_token'
oauth2 (1.4.0) lib/oauth2/strategy/auth_code.rb:30:in `get_token'
omniauth-oauth2 (1.4.0) lib/omniauth/strategies/oauth2.rb:89:in `build_access_token'
omniauth-oauth2 (1.4.0) lib/omniauth/strategies/oauth2.rb:73:in `callback_phase'
omniauth (1.7.1) lib/omniauth/strategy.rb:236:in `callback_call'
omniauth (1.7.1) lib/omniauth/strategy.rb:188:in `call!'
omniauth (1.7.1) lib/omniauth/strategy.rb:168:in `call'
omniauth (1.7.1) lib/omniauth/builder.rb:63:in `call'
rack (2.0.3) lib/rack/etag.rb:25:in `call'
rack (2.0.3) lib/rack/conditional_get.rb:25:in `call'
rack (2.0.3) lib/rack/head.rb:12:in `call'
rack (2.0.3) lib/rack/session/abstract/id.rb:232:in `context'
rack (2.0.3) lib/rack/session/abstract/id.rb:226:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/cookies.rb:613:in `call'
activerecord (5.1.4) lib/active_record/migration.rb:556:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:26:in `block in call'
activesupport (5.1.4) lib/active_support/callbacks.rb:97:in `run_callbacks'
actionpack (5.1.4) lib/action_dispatch/middleware/callbacks.rb:24:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/debug_exceptions.rb:59:in `call'
web-console (3.5.1) lib/web_console/middleware.rb:135:in `call_app'
web-console (3.5.1) lib/web_console/middleware.rb:28:in `block in call'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `catch'
web-console (3.5.1) lib/web_console/middleware.rb:18:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/show_exceptions.rb:31:in `call'
railties (5.1.4) lib/rails/rack/logger.rb:36:in `call_app'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `block in call'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `block in tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:26:in `tagged'
activesupport (5.1.4) lib/active_support/tagged_logging.rb:69:in `tagged'
railties (5.1.4) lib/rails/rack/logger.rb:24:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/remote_ip.rb:79:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/request_id.rb:25:in `call'
rack (2.0.3) lib/rack/method_override.rb:22:in `call'
rack (2.0.3) lib/rack/runtime.rb:22:in `call'
activesupport (5.1.4) lib/active_support/cache/strategy/local_cache_middleware.rb:27:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/executor.rb:12:in `call'
actionpack (5.1.4) lib/action_dispatch/middleware/static.rb:125:in `call'
rack (2.0.3) lib/rack/sendfile.rb:111:in `call'
railties (5.1.4) lib/rails/engine.rb:522:in `call'
puma (3.10.0) lib/puma/configuration.rb:225:in `call'
puma (3.10.0) lib/puma/server.rb:605:in `handle_request'
puma (3.10.0) lib/puma/server.rb:437:in `process_client'
puma (3.10.0) lib/puma/server.rb:301:in `block in run'
puma (3.10.0) lib/puma/thread_pool.rb:120:in `block in spawn_thread'
Started GET "/" for 127.0.0.1 at 2017-10-20 00:32:10 +0900
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.4ms)
Completed 200 OK in 28ms (Views: 25.7ms)


Started GET "/auth/chatwork" for 127.0.0.1 at 2017-10-20 00:32:11 +0900
(chatwork) Request phase initiated.
Started GET "/auth/chatwork" for 127.0.0.1 at 2017-10-20 00:32:11 +0900
(chatwork) Request phase initiated.
Started GET "/auth/chatwork/callback?code=8cdaed672013fee6b92b29aee711af84de66baf9dd3c7e52f46ecf974d3dba2d08d507152470cecb2e18ea59e4b15937d631977be55df622fa1d54e78c48c121&state=33e1100e198fc6cac9eb52e9bf8019b83bf0b9808a71449d" for 127.0.0.1 at 2017-10-20 00:32:12 +0900
(chatwork) Callback phase initiated.
Processing by WelcomeController#callback as HTML
  Parameters: {"code"=>"8cdaed672013fee6b92b29aee711af84de66baf9dd3c7e52f46ecf974d3dba2d08d507152470cecb2e18ea59e4b15937d631977be55df622fa1d54e78c48c121", "state"=>"33e1100e198fc6cac9eb52e9bf8019b83bf0b9808a71449d"}
  Rendering welcome/callback.html.erb within layouts/application
  Rendered welcome/callback.html.erb within layouts/application (1.1ms)
Completed 200 OK in 326ms (Views: 20.6ms)


Started GET "/" for 127.0.0.1 at 2017-10-20 19:03:45 +0900
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.2ms)
Completed 200 OK in 400ms (Views: 208.9ms)


Started GET "/" for 127.0.0.1 at 2017-10-20 19:03:50 +0900
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (0.5ms)
Completed 200 OK in 39ms (Views: 36.9ms)


Started GET "/auth/chatwork" for 127.0.0.1 at 2017-10-20 19:03:52 +0900
(chatwork) Request phase initiated.
Started GET "/auth/chatwork" for 127.0.0.1 at 2017-10-20 19:03:56 +0900
(chatwork) Request phase initiated.
Started GET "/auth/chatwork/callback?code=52596f7a34c46cc47123798cd89a1e4b855232209df0ab14c0d6b7416a6bd4a963e454a506a561f6c5d2ba8db19802e9bf9fa64d9352de670729bbe7b30c602e&state=6c92bc12c80c56a633a52099359da32547edc8cf605fa34e" for 127.0.0.1 at 2017-10-20 19:04:02 +0900
(chatwork) Callback phase initiated.
Processing by WelcomeController#callback as HTML
  Parameters: {"code"=>"52596f7a34c46cc47123798cd89a1e4b855232209df0ab14c0d6b7416a6bd4a963e454a506a561f6c5d2ba8db19802e9bf9fa64d9352de670729bbe7b30c602e", "state"=>"6c92bc12c80c56a633a52099359da32547edc8cf605fa34e"}
  Rendering welcome/callback.html.erb within layouts/application
  Rendered welcome/callback.html.erb within layouts/application (0.7ms)
Completed 200 OK in 782ms (Views: 33.3ms)


Started GET "/" for 127.0.0.1 at 2017-10-20 19:05:23 +0900
Processing by WelcomeController#index as HTML
  Rendering welcome/index.html.erb within layouts/application
  Rendered welcome/index.html.erb within layouts/application (1.6ms)
Completed 200 OK in 433ms (Views: 210.0ms)


Started GET "/auth/chatwork" for 127.0.0.1 at 2017-10-20 19:05:25 +0900
(chatwork) Request phase initiated.
Started GET "/auth/chatwork" for 127.0.0.1 at 2017-10-20 19:05:25 +0900
(chatwork) Request phase initiated.
Started GET "/auth/chatwork/callback?code=e08f3bd1985d8309898235c61c8d02d8f19299ea8202e01bf069ff1d9fd6069bcd93b24ba30e40c401135236b5821a4aa649909178d9421d7e96543ea42b4398&state=f79cef66fc95869a1694878c6524bf63f5aa35116289b509" for 127.0.0.1 at 2017-10-20 19:05:27 +0900
(chatwork) Callback phase initiated.
Processing by WelcomeController#callback as HTML
  Parameters: {"code"=>"e08f3bd1985d8309898235c61c8d02d8f19299ea8202e01bf069ff1d9fd6069bcd93b24ba30e40c401135236b5821a4aa649909178d9421d7e96543ea42b4398", "state"=>"f79cef66fc95869a1694878c6524bf63f5aa35116289b509"}
  Rendering welcome/callback.html.erb within layouts/application
  Rendered welcome/callback.html.erb within layouts/application (0.7ms)
Completed 200 OK in 532ms (Views: 18.3ms)


